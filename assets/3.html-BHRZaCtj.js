import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as c,o as t,c as p,a as e,b as l,w as a,d as s,e as i}from"./app-CvlAI_tu.js";const n="data:image/jpeg;base64,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",d={},r={class:"hint-container details"},g=e("summary",null,"目录",-1),h={class:"table-of-contents"},u=s('<p>Maven 不但有标准化的项目结构，而且还有一套标准化的构建流程，可以自动化实现编译，打包，发布，等等。</p><h2 id="🍀-lifecycle-和-phase" tabindex="-1"><a class="header-anchor" href="#🍀-lifecycle-和-phase" aria-hidden="true">#</a> 🍀 Lifecycle 和 Phase</h2><p>使用 Maven 时，我们首先要了解什么是 Maven 的生命周期（lifecycle）。</p><p>Maven 的生命周期由一系列阶段（phase）构成，以内置的生命周期 <code>default</code> 为例，它包含以下 phase：</p><ul><li>validate</li><li>initialize</li><li>generate-sources</li><li>process-sources</li><li>generate-resources</li><li>process-resources</li><li>compile</li><li>process-classes</li><li>generate-test-sources</li><li>process-test-sources</li><li>generate-test-resources</li><li>process-test-resources</li><li>test-compile</li><li>process-test-classes</li><li>test</li><li>prepare-package</li><li>package</li><li>pre-integration-test</li><li>integration-test</li><li>post-integration-test</li><li>verify</li><li>install</li><li>deploy</li></ul><p>如果我们运行 <code>mvn package</code>，Maven 就会执行 <code>default</code> 生命周期，它会从开始一直运行到 <code>package</code> 这个 phase 为止：</p><ul><li>validate</li><li>...</li><li>package</li></ul><p>如果我们运行 <code>mvn compile</code>，Maven 也会执行 <code>default</code> 生命周期，但这次它只会运行到 <code>compile</code>，即以下几个 phase：</p><ul><li>validate</li><li>...</li><li>compile</li></ul><p>Maven 另一个常用的生命周期是 <code>clean</code>，它会执行 3 个 phase：</p><ul><li>pre-clean</li><li>clean （注意这个 clean 不是 lifecycle 而是 phase）</li><li>post-clean</li></ul><p>所以，我们使用 <code>mvn</code> 这个命令时，后面的参数是 phase，Maven 自动根据生命周期运行到指定的 phase。</p><p>更复杂的例子是指定多个 phase，例如，运行 <code>mvn clean package</code>，Maven 先执行 <code>clean</code> 生命周期并运行到 <code>clean</code> 这个 phase，然后执行 <code>default</code> 生命周期并运行到 <code>package</code> 这个 phase，实际执行的 phase 如下：</p><ul><li>pre-clean</li><li>clean （注意这个 clean 是 phase）</li><li>validate</li><li>...</li><li>package</li></ul><p>在实际开发过程中，经常使用的命令有：</p><p><code>mvn clean</code>：清理所有生成的 class 和 jar；</p><p><code>mvn clean compile</code>：先清理，再执行到 <code>compile</code>；</p><p><code>mvn clean test</code>：先清理，再执行到 <code>test</code>，因为执行 <code>test</code> 前必须执行 <code>compile</code>，所以这里不必指定 <code>compile</code>；</p><p><code>mvn clean package</code>：先清理，再执行到 <code>package</code>。</p><p>大多数 phase 在执行过程中，因为我们通常没有在 <code>pom.xml</code> 中配置相关的设置，所以这些 phase 什么事情都不做。</p><p>经常用到的 phase 其实只有几个：</p><ul><li>clean：清理</li><li>compile：编译</li><li>test：运行测试</li><li>package：打包</li></ul><h2 id="🍀-goal" tabindex="-1"><a class="header-anchor" href="#🍀-goal" aria-hidden="true">#</a> 🍀 Goal</h2><p>执行一个 phase 又会触发一个或多个 goal：</p><table><thead><tr><th style="text-align:left;">执行的 Phase</th><th style="text-align:left;">对应执行的 Goal</th></tr></thead><tbody><tr><td style="text-align:left;">compile</td><td style="text-align:left;">compiler:compile</td></tr><tr><td style="text-align:left;">test</td><td style="text-align:left;">compiler:testCompile surefire:test</td></tr></tbody></table><p>goal 的命名总是 <code>abc:xyz</code> 这种形式。</p><p>看到这里，相信大家对 lifecycle、phase 和 goal 已经明白了吧？</p><figure><img src="'+n+`" alt="meng" tabindex="0" loading="lazy"><figcaption>meng</figcaption></figure><p>其实我们类比一下就明白了：</p><ul><li>lifecycle 相当于 Java 的 package，它包含一个或多个 phase；</li><li>phase 相当于 Java 的 class，它包含一个或多个 goal；</li><li>goal 相当于 class 的 method，它其实才是真正干活的。</li></ul><p>大多数情况，我们只要指定 phase，就默认执行这些 phase 默认绑定的 goal，只有少数情况，我们可以直接指定运行一个 goal，例如，启动 Tomcat 服务器：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>mvn tomcat:run
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="🍀-小结" tabindex="-1"><a class="header-anchor" href="#🍀-小结" aria-hidden="true">#</a> 🍀 小结</h2><p>Maven 通过 lifecycle、phase 和 goal 来提供标准的构建流程。</p><p>最常用的构建命令是指定 phase，然后让 Maven 执行到指定的 phase：</p><ul><li>mvn clean</li><li>mvn clean compile</li><li>mvn clean test</li><li>mvn clean package</li></ul><p>通常情况，我们总是执行 phase 默认绑定的 goal，因此不必指定 goal。</p>`,37);function j(m,f){const A=c("router-link");return t(),p("div",null,[e("details",r,[g,e("nav",h,[e("ul",null,[e("li",null,[l(A,{to:"#🍀-lifecycle-和-phase"},{default:a(()=>[i("🍀 Lifecycle 和 Phase")]),_:1})]),e("li",null,[l(A,{to:"#🍀-goal"},{default:a(()=>[i("🍀 Goal")]),_:1})]),e("li",null,[l(A,{to:"#🍀-小结"},{default:a(()=>[i("🍀 小结")]),_:1})])])])]),u])}const Q=o(d,[["render",j],["__file","3.html.vue"]]);export{Q as default};
