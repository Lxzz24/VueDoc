import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as c,o,c as l,a as n,b as a,w as t,d as i,e}from"./app-CvlAI_tu.js";const u={},r={class:"hint-container details"},k=n("summary",null,"ç›®å½•",-1),d={class:"table-of-contents"},m=i(`<p>ä½¿ç”¨ DOM è§£æ XML çš„ä¼˜ç‚¹æ˜¯ç”¨èµ·æ¥çœäº‹ï¼Œä½†å®ƒçš„ä¸»è¦ç¼ºç‚¹æ˜¯å†…å­˜å ç”¨å¤ªå¤§ã€‚</p><p>å¦ä¸€ç§è§£æ XML çš„æ–¹å¼æ˜¯ SAXã€‚SAX æ˜¯ Simple API for XML çš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäºæµçš„è§£ææ–¹å¼ï¼Œè¾¹è¯»å– XML è¾¹è§£æï¼Œå¹¶ä»¥äº‹ä»¶å›è°ƒçš„æ–¹å¼è®©è°ƒç”¨è€…è·å–æ•°æ®ã€‚å› ä¸ºæ˜¯ä¸€è¾¹è¯»ä¸€è¾¹è§£æï¼Œæ‰€ä»¥æ— è®º XML æœ‰å¤šå¤§ï¼Œå ç”¨çš„å†…å­˜éƒ½å¾ˆå°ã€‚</p><p>SAX è§£æä¼šè§¦å‘ä¸€ç³»åˆ—äº‹ä»¶ï¼š</p><ul><li>startDocumentï¼šå¼€å§‹è¯»å– XML æ–‡æ¡£ï¼›</li><li>startElementï¼šè¯»å–åˆ°äº†ä¸€ä¸ªå…ƒç´ ï¼Œä¾‹å¦‚ <code>&lt;book&gt;</code>ï¼›</li><li>charactersï¼šè¯»å–åˆ°äº†å­—ç¬¦ï¼›</li><li>endElementï¼šè¯»å–åˆ°äº†ä¸€ä¸ªç»“æŸçš„å…ƒç´ ï¼Œä¾‹å¦‚ <code>&lt;/book&gt;</code>ï¼›</li><li>endDocumentï¼šè¯»å– XML æ–‡æ¡£ç»“æŸã€‚</li></ul><p>å¦‚æœæˆ‘ä»¬ç”¨ SAX API è§£æ XMLï¼ŒJava ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">InputStream</span> input <span class="token operator">=</span> <span class="token class-name">Main</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;/book.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SAXParserFactory</span> spf <span class="token operator">=</span> <span class="token class-name">SAXParserFactory</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">SAXParser</span> saxParser <span class="token operator">=</span> spf<span class="token punctuation">.</span><span class="token function">newSAXParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
saxParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">MyHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…³é”®ä»£ç  <code>SAXParser.parse()</code> é™¤äº†éœ€è¦ä¼ å…¥ä¸€ä¸ª <code>InputStream</code> å¤–ï¼Œè¿˜éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡è¦ç»§æ‰¿è‡ª <code>DefaultHandler</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">MyHandler</span> <span class="token keyword">extends</span> <span class="token class-name">DefaultHandler</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">startDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;start document&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">endDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;end document&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">startElement</span><span class="token punctuation">(</span><span class="token class-name">String</span> uri<span class="token punctuation">,</span> <span class="token class-name">String</span> localName<span class="token punctuation">,</span> <span class="token class-name">String</span> qName<span class="token punctuation">,</span> <span class="token class-name">Attributes</span> attributes<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;start element:&quot;</span><span class="token punctuation">,</span> localName<span class="token punctuation">,</span> qName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">endElement</span><span class="token punctuation">(</span><span class="token class-name">String</span> uri<span class="token punctuation">,</span> <span class="token class-name">String</span> localName<span class="token punctuation">,</span> <span class="token class-name">String</span> qName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;end element:&quot;</span><span class="token punctuation">,</span> localName<span class="token punctuation">,</span> qName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">characters</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ch<span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;characters:&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>ch<span class="token punctuation">,</span> start<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">SAXParseException</span> e<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SAXException</span> <span class="token punctuation">{</span>
        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;error:&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> objs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> obj <span class="token operator">:</span> objs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œ SAX è§£æä»£ç ï¼Œå¯ä»¥æ‰“å°å‡ºä¸‹é¢çš„ç»“æœï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>start document
start element:  book
characters:

start element:  name
characters: Java æ ¸å¿ƒæŠ€æœ¯
end element:  name
characters:

start element:  author
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè¦è¯»å– <code>&lt;name&gt;</code> èŠ‚ç‚¹çš„æ–‡æœ¬ï¼Œæˆ‘ä»¬å°±å¿…é¡»åœ¨è§£æè¿‡ç¨‹ä¸­æ ¹æ® <code>startElement()</code> å’Œ <code>endElement()</code> å®šä½å½“å‰æ­£åœ¨è¯»å–çš„èŠ‚ç‚¹ï¼Œå¯ä»¥ä½¿ç”¨æ ˆç»“æ„ä¿å­˜ï¼Œæ¯é‡åˆ°ä¸€ä¸ª <code>startElement()</code> å…¥æ ˆï¼Œæ¯é‡åˆ°ä¸€ä¸ª <code>endElement()</code> å‡ºæ ˆï¼Œè¿™æ ·ï¼Œè¯»åˆ° <code>characters()</code> æ—¶æˆ‘ä»¬æ‰çŸ¥é“å½“å‰è¯»å–çš„æ–‡æœ¬æ˜¯å“ªä¸ªèŠ‚ç‚¹çš„ã€‚å¯è§ï¼Œä½¿ç”¨ SAX API ä»ç„¶æ¯”è¾ƒéº»çƒ¦ã€‚</p><h2 id="ğŸ€-ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»ƒä¹ " aria-hidden="true">#</a> ğŸ€ ç»ƒä¹ </h2><p>ä½¿ç”¨ SAX è§£æ XML</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>SAX æ˜¯ä¸€ç§æµå¼è§£æ XML çš„ APIï¼›</p><p>SAX é€šè¿‡äº‹ä»¶è§¦å‘ï¼Œè¯»å–é€Ÿåº¦å¿«ï¼Œæ¶ˆè€—å†…å­˜å°‘ï¼›</p><p>è°ƒç”¨æ–¹å¿…é¡»é€šè¿‡å›è°ƒæ–¹æ³•è·å¾—è§£æè¿‡ç¨‹ä¸­çš„æ•°æ®ã€‚</p>`,17);function v(b,h){const s=c("router-link");return o(),l("div",null,[n("details",r,[k,n("nav",d,[n("ul",null,[n("li",null,[a(s,{to:"#ğŸ€-ç»ƒä¹ "},{default:t(()=>[e("ğŸ€ ç»ƒä¹ ")]),_:1})]),n("li",null,[a(s,{to:"#ğŸ€-å°ç»“"},{default:t(()=>[e("ğŸ€ å°ç»“")]),_:1})])])])]),m])}const y=p(u,[["render",v],["__file","3.html.vue"]]);export{y as default};
