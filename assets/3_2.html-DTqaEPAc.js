import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,d as p}from"./app-CvlAI_tu.js";const t="/VueDoc/assets/image-20231220104707419-Cssb-kqR.png",e="/VueDoc/assets/image-20231220104640638-By0JU93V.png",o={},c=p(`<blockquote><p>å°†ä¸€ä¸ªè¯·æ±‚å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œä½¿ä½ å¯ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼Œå¯¹è¯·æ±‚æ’é˜Ÿæˆ–è®°å½•è¯·æ±‚æ—¥å¿—ï¼Œä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œã€‚</p></blockquote><p>å‘½ä»¤æ¨¡å¼ï¼ˆCommandï¼‰æ˜¯æŒ‡ï¼ŒæŠŠè¯·æ±‚å°è£…æˆä¸€ä¸ªå‘½ä»¤ï¼Œç„¶åæ‰§è¡Œè¯¥å‘½ä»¤ã€‚</p><p>åœ¨ä½¿ç”¨å‘½ä»¤æ¨¡å¼å‰ï¼Œæˆ‘ä»¬å…ˆä»¥ä¸€ä¸ªç¼–è¾‘å™¨ä¸ºä¾‹å­ï¼Œçœ‹çœ‹å¦‚ä½•å®ç°ç®€å•çš„ç¼–è¾‘æ“ä½œï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TextEditor</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">StringBuilder</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">paste</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> text <span class="token operator">=</span> <span class="token function">getFromClipBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">add</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        buffer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>buffer<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            buffer<span class="token punctuation">.</span><span class="token function">deleteCharAt</span><span class="token punctuation">(</span>buffer<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> buffer<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ç”¨ä¸€ä¸ª <code>StringBuilder</code> æ¨¡æ‹Ÿä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå®ƒæ”¯æŒ <code>copy()</code>ã€<code>paste()</code>ã€<code>add()</code>ã€<code>delete()</code> ç­‰æ–¹æ³•ã€‚</p><p>æ­£å¸¸æƒ…å†µï¼Œæˆ‘ä»¬åƒè¿™æ ·è°ƒç”¨ <code>TextEditor</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">TextEditor</span> editor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Command pattern in text editor.\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">paste</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>editor<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯ç›´æ¥è°ƒç”¨æ–¹æ³•ï¼Œè°ƒç”¨æ–¹éœ€è¦äº†è§£ <code>TextEditor</code> çš„æ‰€æœ‰æ¥å£ä¿¡æ¯ã€‚</p><p>å¦‚æœæ”¹ç”¨å‘½ä»¤æ¨¡å¼ï¼Œæˆ‘ä»¬å°±è¦æŠŠè°ƒç”¨æ–¹å‘é€å‘½ä»¤å’Œæ‰§è¡Œæ–¹æ‰§è¡Œå‘½ä»¤åˆ†å¼€ã€‚æ€ä¹ˆåˆ†ï¼Ÿ</p><p>è§£å†³æ–¹æ¡ˆæ˜¯å¼•å…¥ä¸€ä¸ª <code>Command</code> æ¥å£ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è°ƒç”¨æ–¹åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ <code>Command</code>ï¼Œç„¶åæ‰§è¡Œï¼Œå¹¶ä¸å…³å¿ƒå†…éƒ¨æ˜¯å¦‚ä½•å…·ä½“æ‰§è¡Œçš„ã€‚</p><p>ä¸ºäº†æ”¯æŒ <code>CopyCommand</code> å’Œ <code>PasteCommand</code> è¿™ä¸¤ä¸ªå‘½ä»¤ï¼Œæˆ‘ä»¬ä» <code>Command</code> æ¥å£æ´¾ç”Ÿï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CopyCommand</span> <span class="token keyword">implements</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token comment">// æŒæœ‰æ‰§è¡Œè€…å¯¹è±¡:</span>
    <span class="token keyword">private</span> <span class="token class-name">TextEditor</span> receiver<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">CopyCommand</span><span class="token punctuation">(</span><span class="token class-name">TextEditor</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>receiver <span class="token operator">=</span> receiver<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        receiver<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PasteCommand</span> <span class="token keyword">implements</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">TextEditor</span> receiver<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">PasteCommand</span><span class="token punctuation">(</span><span class="token class-name">TextEditor</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>receiver <span class="token operator">=</span> receiver<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        receiver<span class="token punctuation">.</span><span class="token function">paste</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€åæˆ‘ä»¬æŠŠ <code>Command</code> å’Œ <code>TextEditor</code> ç»„è£…ä¸€ä¸‹ï¼Œå®¢æˆ·ç«¯è¿™ä¹ˆå†™ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">TextEditor</span> editor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Command pattern in text editor.\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ‰§è¡Œä¸€ä¸ª CopyCommand:</span>
<span class="token class-name">Command</span> copy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CopyCommand</span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span><span class="token punctuation">;</span>
copy<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;----\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ‰§è¡Œä¸€ä¸ª PasteCommand:</span>
<span class="token class-name">Command</span> paste <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PasteCommand</span><span class="token punctuation">(</span>editor<span class="token punctuation">)</span><span class="token punctuation">;</span>
paste<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>editor<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°±æ˜¯å‘½ä»¤æ¨¡å¼çš„ç»“æ„ï¼š</p><figure><img src="`+t+`" alt="image-20231220104707419" tabindex="0" loading="lazy"><figcaption>image-20231220104707419</figcaption></figure><p>æœ‰çš„ç«¥é‹ä¼šæœ‰ç–‘é—®ï¼šæäº†ä¸€å¤§å † <code>Command</code>ï¼Œå¤šäº†å¥½å‡ ä¸ªç±»ï¼Œè¿˜ä¸å¦‚ç›´æ¥è¿™ä¹ˆå†™ç®€å•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">TextEditor</span> editor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Command pattern in text editor.\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
editor<span class="token punctuation">.</span><span class="token function">paste</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…ä¸Šï¼Œä½¿ç”¨å‘½ä»¤æ¨¡å¼ï¼Œç¡®å®å¢åŠ äº†ç³»ç»Ÿçš„å¤æ‚åº¦ã€‚å¦‚æœéœ€æ±‚å¾ˆç®€å•ï¼Œé‚£ä¹ˆç›´æ¥è°ƒç”¨æ˜¾ç„¶æ›´ç›´è§‚è€Œä¸”æ›´ç®€å•ã€‚</p><p>é‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦å‘½ä»¤æ¨¡å¼å—ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è§†éœ€æ±‚è€Œå®šã€‚å¦‚æœ <code>TextEditor</code> å¤æ‚åˆ°ä¸€å®šç¨‹åº¦ï¼Œå¹¶ä¸”éœ€è¦æ”¯æŒ Undoã€Redo çš„åŠŸèƒ½æ—¶ï¼Œå°±éœ€è¦ä½¿ç”¨å‘½ä»¤æ¨¡å¼ï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥ç»™æ¯ä¸ªå‘½ä»¤å¢åŠ  <code>undo()</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Command</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">void</span> <span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæŠŠæ‰§è¡Œçš„ä¸€ç³»åˆ—å‘½ä»¤ç”¨ <code>List</code> ä¿å­˜èµ·æ¥ï¼Œå°±æ—¢èƒ½æ”¯æŒ Undoï¼Œåˆèƒ½æ”¯æŒ Redoã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬åˆéœ€è¦ä¸€ä¸ª <code>Invoker</code> å¯¹è±¡ï¼Œè´Ÿè´£æ‰§è¡Œå‘½ä»¤å¹¶ä¿å­˜å†å²å‘½ä»¤ï¼š</p><figure><img src="`+e+'" alt="image-20231220104640638" tabindex="0" loading="lazy"><figcaption>image-20231220104640638</figcaption></figure><p>å¯è§ï¼Œæ¨¡å¼å¸¦æ¥çš„è®¾è®¡å¤æ‚åº¦çš„å¢åŠ æ˜¯éšç€éœ€æ±‚è€Œå¢åŠ çš„ï¼Œå®ƒå‡å°‘çš„æ˜¯ç³»ç»Ÿå„ç»„ä»¶çš„è€¦åˆåº¦ã€‚</p><h2 id="ğŸ€-ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»ƒä¹ " aria-hidden="true">#</a> ğŸ€ ç»ƒä¹ </h2><p>ç»™å‘½ä»¤æ¨¡å¼æ–°å¢ Add å’Œ Delete å‘½ä»¤å¹¶æ”¯æŒ Undoã€Redo æ“ä½œã€‚</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>å‘½ä»¤æ¨¡å¼çš„è®¾è®¡æ€æƒ³æ˜¯æŠŠå‘½ä»¤çš„åˆ›å»ºå’Œæ‰§è¡Œåˆ†ç¦»ï¼Œä½¿å¾—è°ƒç”¨è€…æ— éœ€å…³å¿ƒå…·ä½“çš„æ‰§è¡Œè¿‡ç¨‹ã€‚</p><p>é€šè¿‡å°è£… <code>Command</code> å¯¹è±¡ï¼Œå‘½ä»¤æ¨¡å¼å¯ä»¥ä¿å­˜å·²æ‰§è¡Œçš„å‘½ä»¤ï¼Œä»è€Œæ”¯æŒæ’¤é”€ã€é‡åšç­‰æ“ä½œã€‚</p>',32),i=[c];function l(u,d){return s(),a("div",null,i)}const v=n(o,[["render",l],["__file","3_2.html.vue"]]);export{v as default};
