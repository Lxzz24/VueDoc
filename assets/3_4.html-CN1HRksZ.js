import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,d as t}from"./app-CvlAI_tu.js";const e={},p=t(`<blockquote><p>æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚</p></blockquote><p>è¿­ä»£å™¨æ¨¡å¼ï¼ˆIteratorï¼‰å®é™…ä¸Šåœ¨ Java çš„é›†åˆç±»ä¸­å·²ç»å¹¿æ³›ä½¿ç”¨äº†ã€‚æˆ‘ä»¬ä»¥ <code>List</code> ä¸ºä¾‹ï¼Œè¦éå† <code>ArrayList</code>ï¼Œå³ä½¿æˆ‘ä»¬çŸ¥é“å®ƒçš„å†…éƒ¨å­˜å‚¨äº†ä¸€ä¸ª <code>Object[]</code> æ•°ç»„ï¼Œä¹Ÿä¸åº”è¯¥ç›´æ¥ä½¿ç”¨æ•°ç»„ç´¢å¼•å»éå†ï¼Œå› ä¸ºè¿™æ ·éœ€è¦äº†è§£é›†åˆå†…éƒ¨çš„å­˜å‚¨ç»“æ„ã€‚å¦‚æœä½¿ç”¨ <code>Iterator</code> éå†ï¼Œé‚£ä¹ˆï¼Œ<code>ArrayList</code> å’Œ <code>LinkedList</code> éƒ½å¯ä»¥ä»¥ä¸€ç§ç»Ÿä¸€çš„æ¥å£æ¥éå†ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…ä¸Šï¼Œå› ä¸º Iterator æ¨¡å¼ååˆ†æœ‰ç”¨ï¼Œå› æ­¤ï¼ŒJava å…è®¸æˆ‘ä»¬ç›´æ¥æŠŠä»»ä½•æ”¯æŒ <code>Iterator</code> çš„é›†åˆå¯¹è±¡ç”¨ <code>foreach</code> å¾ªç¯å†™å‡ºæ¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åç”± Java ç¼–è¯‘å™¨å®Œæˆ Iterator æ¨¡å¼çš„æ‰€æœ‰å¾ªç¯ä»£ç ã€‚</p><p>è™½ç„¶æˆ‘ä»¬å¯¹å¦‚ä½•ä½¿ç”¨ Iterator æœ‰äº†ä¸€å®šäº†è§£ï¼Œä½†å¦‚ä½•å®ç°ä¸€ä¸ª Iterator æ¨¡å¼å‘¢ï¼Ÿæˆ‘ä»¬ä»¥ä¸€ä¸ªè‡ªå®šä¹‰çš„é›†åˆä¸ºä¾‹ï¼Œé€šè¿‡ Iterator æ¨¡å¼å®ç°å€’åºéå†ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReverseArrayCollection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token comment">// ä»¥æ•°ç»„å½¢å¼æŒæœ‰é›†åˆ:</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ReverseArrayCollection</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> objs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>array <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOfRange</span><span class="token punctuation">(</span>objs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> objs<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">?</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ç° Iterator æ¨¡å¼çš„å…³é”®æ˜¯è¿”å›ä¸€ä¸ª <code>Iterator</code> å¯¹è±¡ï¼Œè¯¥å¯¹è±¡çŸ¥é“é›†åˆçš„å†…éƒ¨ç»“æ„ï¼Œå› ä¸ºå®ƒå¯ä»¥å®ç°å€’åºéå†ã€‚æˆ‘ä»¬ä½¿ç”¨ Java çš„å†…éƒ¨ç±»å®ç°è¿™ä¸ª <code>Iterator</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReverseArrayCollection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">implements</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ReverseArrayCollection</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> objs<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>array <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOfRange</span><span class="token punctuation">(</span>objs<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> objs<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ReverseIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">class</span> <span class="token class-name">ReverseIterator</span> <span class="token keyword">implements</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token comment">// ç´¢å¼•ä½ç½®:</span>
        <span class="token keyword">int</span> index<span class="token punctuation">;</span>

        <span class="token keyword">public</span> <span class="token class-name">ReverseIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// åˆ›å»º Iterator æ—¶, ç´¢å¼•åœ¨æ•°ç»„æœ«å°¾:</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> <span class="token class-name">ReverseArrayCollection</span><span class="token punctuation">.</span><span class="token keyword">this</span><span class="token punctuation">.</span>array<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// å¦‚æœç´¢å¼•å¤§äº 0, é‚£ä¹ˆå¯ä»¥ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´  (å€’åºå¾€å‰ç§»åŠ¨):</span>
            <span class="token keyword">return</span> index <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// å°†ç´¢å¼•ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå…ƒç´ å¹¶è¿”å› (å€’åºå¾€å‰ç§»åŠ¨):</span>
            index<span class="token operator">--</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> array<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨å†…éƒ¨ç±»çš„å¥½å¤„æ˜¯å†…éƒ¨ç±»éšå«åœ°æŒæœ‰ä¸€ä¸ªå®ƒæ‰€åœ¨å¯¹è±¡çš„ <code>this</code> å¼•ç”¨ï¼Œå¯ä»¥é€šè¿‡ <code>ReverseArrayCollection.this</code> å¼•ç”¨åˆ°å®ƒæ‰€åœ¨çš„é›†åˆã€‚ä¸Šè¿°ä»£ç å®ç°çš„é€»è¾‘éå¸¸ç®€å•ï¼Œä½†æ˜¯å®é™…åº”ç”¨æ—¶ï¼Œå¦‚æœè€ƒè™‘åˆ°å¤šçº¿ç¨‹è®¿é—®ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨è¿­ä»£æŸä¸ªé›†åˆï¼Œè€Œå¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†é›†åˆçš„å†…å®¹æ—¶ï¼Œæ˜¯å¦èƒ½ç»§ç»­å®‰å…¨åœ°è¿­ä»£ï¼Œè¿˜æ˜¯æŠ›å‡º <code>ConcurrentModificationException</code>ï¼Œå°±éœ€è¦æ›´ä»”ç»†åœ°è®¾è®¡ã€‚</p><h2 id="ğŸ€-ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»ƒä¹ " aria-hidden="true">#</a> ğŸ€ ç»ƒä¹ </h2><p>ä½¿ç”¨ Iterator æ¨¡å¼å®ç°é›†åˆçš„å€’åºéå†</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>Iterator æ¨¡å¼å¸¸ç”¨äºéå†é›†åˆï¼Œå®ƒå…è®¸é›†åˆæä¾›ä¸€ä¸ªç»Ÿä¸€çš„ <code>Iterator</code> æ¥å£æ¥éå†å…ƒç´ ï¼ŒåŒæ—¶ä¿è¯è°ƒç”¨è€…å¯¹é›†åˆå†…éƒ¨çš„æ•°æ®ç»“æ„ä¸€æ— æ‰€çŸ¥ï¼Œä»è€Œä½¿å¾—è°ƒç”¨è€…æ€»æ˜¯ä»¥ç›¸åŒçš„æ¥å£éå†å„ç§ä¸åŒç±»å‹çš„é›†åˆã€‚</p>`,15),c=[p];function o(l,i){return s(),a("div",null,c)}const k=n(e,[["render",o],["__file","3_4.html.vue"]]);export{k as default};
