import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as c,o as p,c as l,a as e,b as s,w as t,d as i,e as a}from"./app-CvlAI_tu.js";const d={},r={class:"hint-container details"},u=e("summary",null,"ç›®å½•",-1),v={class:"table-of-contents"},k=i(`<p>é™¤äº† Servlet å’Œ Filter å¤–ï¼ŒJavaEE çš„ Servlet è§„èŒƒè¿˜æä¾›äº†ç¬¬ä¸‰ç§ç»„ä»¶ï¼šListenerã€‚</p><p>Listener é¡¾åæ€ä¹‰å°±æ˜¯ç›‘å¬å™¨ï¼Œæœ‰å¥½å‡ ç§ Listenerï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„æ˜¯ <code>ServletContextListener</code>ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªå®ç°äº† <code>ServletContextListener</code> æ¥å£çš„ç±»å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebListener</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AppListener</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextListener</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨æ­¤åˆå§‹åŒ– WebApp, ä¾‹å¦‚æ‰“å¼€æ•°æ®åº“è¿æ¥æ± ç­‰:</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;WebApp initialized.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// åœ¨æ­¤æ¸…ç† WebApp, ä¾‹å¦‚å…³é—­æ•°æ®åº“è¿æ¥æ± ç­‰:</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;WebApp destroyed.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»»ä½•æ ‡æ³¨ä¸º <code>@WebListener</code>ï¼Œä¸”å®ç°äº†ç‰¹å®šæ¥å£çš„ç±»ä¼šè¢« Web æœåŠ¡å™¨è‡ªåŠ¨åˆå§‹åŒ–ã€‚ä¸Šè¿° <code>AppListener</code> å®ç°äº† <code>ServletContextListener</code> æ¥å£ï¼Œå®ƒä¼šåœ¨æ•´ä¸ª Web åº”ç”¨ç¨‹åºåˆå§‹åŒ–å®Œæˆåï¼Œä»¥åŠ Web åº”ç”¨ç¨‹åºå…³é—­åè·å¾—å›è°ƒé€šçŸ¥ã€‚æˆ‘ä»¬å¯ä»¥æŠŠåˆå§‹åŒ–æ•°æ®åº“è¿æ¥æ± ç­‰å·¥ä½œæ”¾åˆ° <code>contextInitialized()</code> å›è°ƒæ–¹æ³•ä¸­ï¼ŒæŠŠæ¸…ç†èµ„æºçš„å·¥ä½œæ”¾åˆ° <code>contextDestroyed()</code> å›è°ƒæ–¹æ³•ä¸­ï¼Œå› ä¸º Web æœåŠ¡å™¨ä¿è¯åœ¨ <code>contextInitialized()</code> æ‰§è¡Œåï¼Œæ‰ä¼šæ¥å—ç”¨æˆ·çš„ HTTP è¯·æ±‚ã€‚</p><p>å¾ˆå¤šç¬¬ä¸‰æ–¹ Web æ¡†æ¶éƒ½ä¼šé€šè¿‡ä¸€ä¸ª <code>ServletContextListener</code> æ¥å£åˆå§‹åŒ–è‡ªå·±ã€‚</p><p>é™¤äº† <code>ServletContextListener</code> å¤–ï¼Œè¿˜æœ‰å‡ ç§ Listenerï¼š</p><ul><li>HttpSessionListenerï¼šç›‘å¬ HttpSession çš„åˆ›å»ºå’Œé”€æ¯äº‹ä»¶ï¼›</li><li>ServletRequestListenerï¼šç›‘å¬ ServletRequest è¯·æ±‚çš„åˆ›å»ºå’Œé”€æ¯äº‹ä»¶ï¼›</li><li>ServletRequestAttributeListenerï¼šç›‘å¬ ServletRequest è¯·æ±‚çš„å±æ€§å˜åŒ–äº‹ä»¶ï¼ˆå³è°ƒç”¨ <code>ServletRequest.setAttribute()</code> æ–¹æ³•ï¼‰ï¼›</li><li>ServletContextAttributeListenerï¼šç›‘å¬ ServletContext çš„å±æ€§å˜åŒ–äº‹ä»¶ï¼ˆå³è°ƒç”¨ <code>ServletContext.setAttribute()</code> æ–¹æ³•ï¼‰ï¼›</li></ul><h2 id="ğŸ€-servletcontext" tabindex="-1"><a class="header-anchor" href="#ğŸ€-servletcontext" aria-hidden="true">#</a> ğŸ€ ServletContext</h2><p>ä¸€ä¸ª Web æœåŠ¡å™¨å¯ä»¥è¿è¡Œä¸€ä¸ªæˆ–å¤šä¸ª WebAppï¼Œå¯¹äºæ¯ä¸ª WebAppï¼ŒWeb æœåŠ¡å™¨éƒ½ä¼šä¸ºå…¶åˆ›å»ºä¸€ä¸ªå…¨å±€å”¯ä¸€çš„ <code>ServletContext</code> å®ä¾‹ï¼Œæˆ‘ä»¬åœ¨ <code>AppListener</code> é‡Œé¢ç¼–å†™çš„ä¸¤ä¸ªå›è°ƒæ–¹æ³•å®é™…ä¸Šå¯¹åº”çš„å°±æ˜¯ <code>ServletContext</code> å®ä¾‹çš„åˆ›å»ºå’Œé”€æ¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;WebApp initialized: ServletContext =&quot;</span> <span class="token operator">+</span> sce<span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ServletRequest</code>ã€<code>HttpSession</code> ç­‰å¾ˆå¤šå¯¹è±¡ä¹Ÿæä¾› <code>getServletContext()</code> æ–¹æ³•è·å–åˆ°åŒä¸€ä¸ª <code>ServletContext</code> å®ä¾‹ã€‚<code>ServletContext</code> å®ä¾‹æœ€å¤§çš„ä½œç”¨å°±æ˜¯è®¾ç½®å’Œå…±äº«å…¨å±€ä¿¡æ¯ã€‚</p><p>æ­¤å¤–ï¼Œ<code>ServletContext</code> è¿˜æä¾›äº†åŠ¨æ€æ·»åŠ  Servletã€Filterã€Listener ç­‰åŠŸèƒ½ï¼Œå®ƒå…è®¸åº”ç”¨ç¨‹åºåœ¨è¿è¡ŒæœŸé—´åŠ¨æ€æ·»åŠ ä¸€ä¸ªç»„ä»¶ï¼Œè™½ç„¶è¿™ä¸ªåŠŸèƒ½ä¸æ˜¯å¾ˆå¸¸ç”¨ã€‚</p><h2 id="ğŸ€-ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»ƒä¹ " aria-hidden="true">#</a> ğŸ€ ç»ƒä¹ </h2><p>ä½¿ç”¨ Listener ç›‘å¬ WebApp</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>é€šè¿‡ Listener æˆ‘ä»¬å¯ä»¥ç›‘å¬ Web åº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œè·å– <code>HttpSession</code> ç­‰åˆ›å»ºå’Œé”€æ¯çš„äº‹ä»¶ï¼›</p><p><code>ServletContext</code> æ˜¯ä¸€ä¸ª WebApp è¿è¡ŒæœŸçš„å…¨å±€å”¯ä¸€å®ä¾‹ï¼Œå¯ç”¨äºè®¾ç½®å’Œå…±äº«é…ç½®ä¿¡æ¯ã€‚</p>`,17);function b(m,x){const n=c("router-link");return p(),l("div",null,[e("details",r,[u,e("nav",v,[e("ul",null,[e("li",null,[s(n,{to:"#ğŸ€-servletcontext"},{default:t(()=>[a("ğŸ€ ServletContext")]),_:1})]),e("li",null,[s(n,{to:"#ğŸ€-ç»ƒä¹ "},{default:t(()=>[a("ğŸ€ ç»ƒä¹ ")]),_:1})]),e("li",null,[s(n,{to:"#ğŸ€-å°ç»“"},{default:t(()=>[a("ğŸ€ å°ç»“")]),_:1})])])])]),k])}const _=o(d,[["render",b],["__file","9.html.vue"]]);export{_ as default};
