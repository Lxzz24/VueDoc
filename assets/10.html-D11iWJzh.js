import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as e,o as i,c as u,a as n,b as a,w as o,e as s,d as c}from"./app-CvlAI_tu.js";const k="/VueDoc/assets/20220624163032-D6YULWzI.png",r={},d={class:"hint-container details"},g=n("summary",null,"ç›®å½•",-1),v={class:"table-of-contents"},m=c(`<p>å‰é¢ä»‹ç»äº† Commons Logging å’Œ Log4j è¿™ä¸€å¯¹å¥½åŸºå‹ï¼Œå®ƒä»¬ä¸€ä¸ªè´Ÿè´£å……å½“æ—¥å¿— APIï¼Œä¸€ä¸ªè´Ÿè´£å®ç°æ—¥å¿—åº•å±‚ï¼Œæ­é…ä½¿ç”¨éå¸¸ä¾¿äºå¼€å‘ã€‚</p><p>æœ‰çš„ç«¥é‹å¯èƒ½è¿˜å¬è¯´è¿‡ SLF4J å’Œ Logbackã€‚è¿™ä¸¤ä¸ªä¸œä¸œçœ‹ä¸Šå»ä¹Ÿåƒæ—¥å¿—ï¼Œå®ƒä»¬åˆæ˜¯å•¥ï¼Ÿ</p><p>å…¶å® SLF4J ç±»ä¼¼äº Commons Loggingï¼Œä¹Ÿæ˜¯ä¸€ä¸ªæ—¥å¿—æ¥å£ï¼Œè€Œ Logback ç±»ä¼¼äº Log4jï¼Œæ˜¯ä¸€ä¸ªæ—¥å¿—çš„å®ç°ã€‚</p><p>ä¸ºä»€ä¹ˆæœ‰äº† Commons Logging å’Œ Log4jï¼Œåˆä¼šè¹¦å‡ºæ¥ SLF4J å’Œ Logbackï¼Ÿè¿™æ˜¯å› ä¸º Java æœ‰ç€éå¸¸æ‚ ä¹…çš„å¼€æºå†å²ï¼Œä¸ä½† OpenJDK æœ¬èº«æ˜¯å¼€æºçš„ï¼Œè€Œä¸”æˆ‘ä»¬ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹åº“ï¼Œå‡ ä¹å…¨éƒ¨éƒ½æ˜¯å¼€æºçš„ã€‚å¼€æºç”Ÿæ€ä¸°å¯Œçš„ä¸€ä¸ªç‰¹å®šå°±æ˜¯ï¼ŒåŒä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥æ‰¾åˆ°è‹¥å¹²ç§äº’ç›¸ç«äº‰çš„å¼€æºåº“ã€‚</p><p>å› ä¸ºå¯¹ Commons Logging çš„æ¥å£ä¸æ»¡æ„ï¼Œæœ‰äººå°±æäº† SLF4Jã€‚å› ä¸ºå¯¹ Log4j çš„æ€§èƒ½ä¸æ»¡æ„ï¼Œæœ‰äººå°±æäº† Logbackã€‚</p><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹ SLF4J å¯¹ Commons Logging çš„æ¥å£æœ‰ä½•æ”¹è¿›ã€‚åœ¨ Commons Logging ä¸­ï¼Œæˆ‘ä»¬è¦æ‰“å°æ—¥å¿—ï¼Œæœ‰æ—¶å€™å¾—è¿™ä¹ˆå†™ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> score <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">setScore</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span>
log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Set score&quot;</span> <span class="token operator">+</span> score <span class="token operator">+</span> <span class="token string">&quot;for Person&quot;</span> <span class="token operator">+</span> p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ok.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‹¼å­—ç¬¦ä¸²æ˜¯ä¸€ä¸ªéå¸¸éº»çƒ¦çš„äº‹æƒ…ï¼Œæ‰€ä»¥ SLF4J çš„æ—¥å¿—æ¥å£æ”¹è¿›æˆè¿™æ ·äº†ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> score <span class="token operator">=</span> <span class="token number">99</span><span class="token punctuation">;</span>
p<span class="token punctuation">.</span><span class="token function">setScore</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Set score {} for Person {} ok.&quot;</span><span class="token punctuation">,</span> score<span class="token punctuation">,</span> p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬é çŒœä¹Ÿèƒ½çŒœå‡ºæ¥ï¼ŒSLF4J çš„æ—¥å¿—æ¥å£ä¼ å…¥çš„æ˜¯ä¸€ä¸ªå¸¦å ä½ç¬¦çš„å­—ç¬¦ä¸²ï¼Œç”¨åé¢çš„å˜é‡è‡ªåŠ¨æ›¿æ¢å ä½ç¬¦ï¼Œæ‰€ä»¥çœ‹èµ·æ¥æ›´åŠ è‡ªç„¶ã€‚</p><p>å¦‚ä½•ä½¿ç”¨ SLF4J ï¼Ÿå®ƒçš„æ¥å£å®é™…ä¸Šå’Œ Commons Logging å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹æ¯”ä¸€ä¸‹ Commons Logging å’Œ SLF4J çš„æ¥å£ï¼š</p><figure><img src="`+k+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¸åŒä¹‹å¤„å°±æ˜¯ Log å˜æˆäº† Loggerï¼ŒLogFactory å˜æˆäº† LoggerFactoryã€‚</p>',15),b={href:"https://www.slf4j.org/download.html",target:"_blank",rel:"noopener noreferrer"},L={href:"https://logback.qos.ch/download.html",target:"_blank",rel:"noopener noreferrer"},f=c(`<ul><li>slf4j-api-1.7.x.jar</li><li>logback-classic-1.2.x.jar</li><li>logback-core-1.2.x.jar</li></ul><p>ç„¶åä½¿ç”¨ SLF4J çš„ Logger å’Œ LoggerFactory å³å¯ã€‚å’Œ Log4j ç±»ä¼¼ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ä¸€ä¸ª Logback çš„é…ç½®æ–‡ä»¶ï¼ŒæŠŠ <code>logback.xml</code> æ”¾åˆ° classpath ä¸‹ï¼Œé…ç½®å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CONSOLE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FILE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>log/output.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.FixedWindowRollingPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>log/output.log.%i<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>triggeringPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>MaxFileSize</span><span class="token punctuation">&gt;</span></span>1MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>MaxFileSize</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>triggeringPolicy</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>INFO<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>CONSOLE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FILE<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œå³å¯è·å¾—ç±»ä¼¼å¦‚ä¸‹çš„è¾“å‡ºï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>13:15:25.328 [main] INFO  com.itranswarp.learnjava.Main - Start process...
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»ç›®å‰çš„è¶‹åŠ¿æ¥çœ‹ï¼Œè¶Šæ¥è¶Šå¤šçš„å¼€æºé¡¹ç›®ä» Commons Logging åŠ  Log4j è½¬å‘äº† SLF4J åŠ  Logbackã€‚</p><h2 id="ğŸ€-ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»ƒä¹ " aria-hidden="true">#</a> ğŸ€ ç»ƒä¹ </h2><p>æ ¹æ®é…ç½®æ–‡ä»¶ï¼Œè§‚å¯Ÿ Logback å†™å…¥çš„æ—¥å¿—æ–‡ä»¶ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">UnsupportedEncodingException</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SLF4JTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">SLF4JTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Start process {}...&quot;</span><span class="token punctuation">,</span> <span class="token class-name">SLF4JTest</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;&quot;</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token string">&quot;invalidCharsetName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">UnsupportedEncodingException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// TODO: ä½¿ç”¨logger.error(String, Throwable)æ‰“å°å¼‚å¸¸</span>
            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;invalid charset name&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Process end.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>16:44:56.564 [main] INFO  javase.test.d.work.SLF4JTest - Start process javase.test.d.work.SLF4JTest...
16:44:56.571 [main] ERROR javase.test.d.work.SLF4JTest - invalid charset name
java.io.UnsupportedEncodingException: invalidCharsetName
	at java.base/java.lang.String.lookupCharset(String.java:819)
	at java.base/java.lang.String.getBytes(String.java:1763)
	at javase.test.d.work.SLF4JTest.main(SLF4JTest.java:15)
16:44:56.571 [main] INFO  javase.test.d.work.SLF4JTest - Process end.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><ul><li>SLF4J å’Œ Logback å¯ä»¥å–ä»£ Commons Logging å’Œ Log4jï¼›</li><li>å§‹ç»ˆä½¿ç”¨ SLF4J çš„æ¥å£å†™å…¥æ—¥å¿—ï¼Œä½¿ç”¨ Logback åªéœ€è¦é…ç½®ï¼Œä¸éœ€è¦ä¿®æ”¹ä»£ç ã€‚</li></ul>`,12);function h(q,S){const t=e("router-link"),p=e("ExternalLinkIcon");return i(),u("div",null,[n("details",d,[g,n("nav",v,[n("ul",null,[n("li",null,[a(t,{to:"#ğŸ€-ç»ƒä¹ "},{default:o(()=>[s("ğŸ€ ç»ƒä¹ ")]),_:1})]),n("li",null,[a(t,{to:"#ğŸ€-å°ç»“"},{default:o(()=>[s("ğŸ€ å°ç»“")]),_:1})])])])]),m,n("p",null,[s("ä½¿ç”¨ SLF4J å’Œ Logback å’Œå‰é¢è®²åˆ°çš„ä½¿ç”¨ Commons Logging åŠ  Log4j æ˜¯ç±»ä¼¼çš„ï¼Œå…ˆåˆ†åˆ«ä¸‹è½½ "),n("a",b,[s("SLF4J"),a(p)]),s(" å’Œ "),n("a",L,[s("Logback"),a(p)]),s(" ï¼Œç„¶åæŠŠä»¥ä¸‹ jar åŒ…æ”¾åˆ° classpath ä¸‹ï¼š")]),f])}const y=l(r,[["render",h],["__file","10.html.vue"]]);export{y as default};
