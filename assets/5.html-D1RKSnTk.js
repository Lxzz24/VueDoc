import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as d,c as i,a as s,b as n,w as e,e as a,d as o}from"./app-CvlAI_tu.js";const u="/VueDoc/assets/20221122104817-C6eWaVe9.png",k="/VueDoc/assets/20221122104843-iPDRkM_g.png",r={},m={class:"hint-container details"},v=s("summary",null,"ç›®å½•",-1),h={class:"table-of-contents"},g=o(`<p>æˆ‘ä»¬çŸ¥é“ <code>Map</code> æ˜¯ä¸€ç§ <strong>é”®-å€¼</strong>ï¼ˆkey-valueï¼‰æ˜ å°„è¡¨ï¼Œå¯ä»¥é€šè¿‡ <code>key</code> å¿«é€ŸæŸ¥æ‰¾å¯¹åº”çš„ <code>value</code> ã€‚</p><p>ä»¥ <code>HashMap</code> ä¸ºä¾‹ï¼Œè§‚å¯Ÿä¸‹é¢çš„ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiao Ming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiao Hong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiao Jun&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Person(&quot;Xiao Ming&quot;)</span>
map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// null</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>HashMap</code> ä¹‹æ‰€ä»¥èƒ½æ ¹æ® <code>key</code> ç›´æ¥æ‹¿åˆ° <code>value</code>ï¼ŒåŸå› æ˜¯å®ƒå†…éƒ¨é€šè¿‡ <em>ç©ºé—´æ¢æ—¶é—´</em> çš„æ–¹æ³•ï¼Œç”¨ä¸€ä¸ªå¤§æ•°ç»„å­˜å‚¨æ‰€æœ‰ <code>value</code>ï¼Œå¹¶æ ¹æ® <code>key</code> ç›´æ¥è®¡ç®—å‡º <code>value</code> åº”è¯¥å­˜å‚¨åœ¨å“ªä¸ªç´¢å¼•ï¼š</p><figure><img src="`+u+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¦‚æœ <code>key</code> çš„å€¼ä¸º <code>&quot;a&quot;</code>ï¼Œè®¡ç®—å¾—åˆ°çš„ç´¢å¼•æ€»æ˜¯ <code>1</code>ï¼Œå› æ­¤è¿”å› <code>value</code> ä¸º <code>Person(&quot;Xiao Ming&quot;)</code>ï¼Œå¦‚æœ <code>key</code> çš„å€¼ä¸º <code>&quot;b&quot;</code>ï¼Œè®¡ç®—å¾—åˆ°çš„ç´¢å¼•æ€»æ˜¯ <code>5</code>ï¼Œå› æ­¤è¿”å› <code>value</code> ä¸º <code>Person(&quot;Xiao Hong&quot;)</code>ï¼Œè¿™æ ·ï¼Œå°±ä¸å¿…éå†æ•´ä¸ªæ•°ç»„ï¼Œå³å¯ç›´æ¥è¯»å– <code>key</code> å¯¹åº”çš„ <code>value</code> ã€‚</p><hr><p>å½“æˆ‘ä»¬ä½¿ç”¨ <code>key</code> å­˜å– <code>value</code> çš„æ—¶å€™ï¼Œå°±ä¼šå¼•å‡ºä¸€ä¸ªé—®é¢˜ï¼š</p><p>æˆ‘ä»¬æ”¾å…¥ <code>Map</code> çš„ <code>key</code> æ˜¯å­—ç¬¦ä¸² <code>&quot;a&quot;</code>ï¼Œä½†æ˜¯ï¼Œå½“æˆ‘ä»¬è·å– <code>Map</code> çš„ <code>value</code> æ—¶ï¼Œä¼ å…¥çš„å˜é‡ä¸ä¸€å®šå°±æ˜¯æ”¾å…¥çš„é‚£ä¸ª <code>key</code> å¯¹è±¡ã€‚</p><p>æ¢å¥è¯è®²ï¼Œä¸¤ä¸ª <code>key</code> åº”è¯¥æ˜¯å†…å®¹ç›¸åŒï¼Œä½†ä¸ä¸€å®šæ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚æµ‹è¯•ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> key1 <span class="token operator">=</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key1<span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> key2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 123</span>

        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key1 <span class="token operator">==</span> key2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>key2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºåœ¨ <code>Map</code> çš„å†…éƒ¨ï¼Œå¯¹ <code>key</code> åšæ¯”è¾ƒæ˜¯é€šè¿‡ <code>equals()</code> å®ç°çš„ï¼Œè¿™ä¸€ç‚¹å’Œ <code>List</code> æŸ¥æ‰¾å…ƒç´ éœ€è¦æ­£ç¡®è¦†å†™ <code>equals()</code> æ˜¯ä¸€æ ·çš„ï¼Œå³æ­£ç¡®ä½¿ç”¨ <code>Map</code> å¿…é¡»ä¿è¯ï¼šä½œä¸º <code>key</code> çš„å¯¹è±¡å¿…é¡»æ­£ç¡®è¦†å†™ <code>equals()</code> æ–¹æ³•ã€‚</p><p>æˆ‘ä»¬ç»å¸¸ä½¿ç”¨ <code>String</code> ä½œä¸º <code>key</code>ï¼Œå› ä¸º <code>String</code> å·²ç»æ­£ç¡®è¦†å†™äº† <code>equals()</code> æ–¹æ³•ã€‚ä½†å¦‚æœæˆ‘ä»¬æ”¾å…¥çš„ <code>key</code> æ˜¯ä¸€ä¸ªè‡ªå·±å†™çš„ç±»ï¼Œå°±å¿…é¡»ä¿è¯æ­£ç¡®è¦†å†™äº† <code>equals()</code> æ–¹æ³•ã€‚</p><hr><p>æˆ‘ä»¬å†æ€è€ƒä¸€ä¸‹ <code>HashMap</code> ä¸ºä»€ä¹ˆèƒ½é€šè¿‡ <code>key</code> ç›´æ¥è®¡ç®—å‡º <code>value</code> å­˜å‚¨çš„ç´¢å¼•ã€‚ç›¸åŒçš„ <code>key</code> å¯¹è±¡ï¼ˆä½¿ç”¨ <code>equals()</code> åˆ¤æ–­æ—¶è¿”å› <code>true</code> ï¼‰å¿…é¡»è¦è®¡ç®—å‡ºç›¸åŒçš„ç´¢å¼•ï¼Œå¦åˆ™ï¼Œç›¸åŒçš„ <code>key</code> æ¯æ¬¡å–å‡ºçš„ <code>value</code> å°±ä¸ä¸€å®šå¯¹ã€‚</p><p>é€šè¿‡ <code>key</code> è®¡ç®—ç´¢å¼•çš„æ–¹å¼å°±æ˜¯è°ƒç”¨ <code>key</code> å¯¹è±¡çš„ <code>hashCode()</code> æ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ª <code>int</code> æ•´æ•°ã€‚<code>HashMap</code> æ­£æ˜¯é€šè¿‡è¿™ä¸ªæ–¹æ³•ç›´æ¥å®šä½ <code>key</code> å¯¹åº”çš„ <code>value</code> çš„ç´¢å¼•ï¼Œç»§è€Œç›´æ¥è¿”å› <code>value</code> ã€‚</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>å› æ­¤ï¼Œæ­£ç¡®ä½¿ç”¨ <code>Map</code> å¿…é¡»ä¿è¯ï¼š</p><ol><li>ä½œä¸º <code>key</code> çš„å¯¹è±¡å¿…é¡»æ­£ç¡®è¦†å†™ <code>equals()</code> æ–¹æ³•ï¼Œç›¸ç­‰çš„ä¸¤ä¸ª <code>key</code> å®ä¾‹è°ƒç”¨ <code>equals()</code> å¿…é¡»è¿”å› <code>true</code> ï¼›</li><li>ä½œä¸º <code>key</code> çš„å¯¹è±¡è¿˜å¿…é¡»æ­£ç¡®è¦†å†™ <code>hashCode()</code> æ–¹æ³•ï¼Œä¸” <code>hashCode()</code> æ–¹æ³•è¦ä¸¥æ ¼éµå¾ªä»¥ä¸‹è§„èŒƒï¼š <ul><li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„ <code>hashCode()</code> å¿…é¡»ç›¸ç­‰ï¼›</li><li>å¦‚æœä¸¤ä¸ªå¯¹è±¡ä¸ç›¸ç­‰ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„ <code>hashCode()</code> å°½é‡ä¸è¦ç›¸ç­‰ã€‚</li></ul></li></ol><p>å³å¯¹åº”ä¸¤ä¸ªå®ä¾‹ <code>a</code> å’Œ <code>b</code> ï¼š</p><ul><li>å¦‚æœ <code>a</code> å’Œ <code>b</code> ç›¸ç­‰ï¼Œé‚£ä¹ˆ <code>a.equals(b)</code> ä¸€å®šä¸º <code>true</code>ï¼Œåˆ™ <code>a.hashCode()</code> å¿…é¡»ç­‰äº <code>b.hashCode()</code> ï¼›</li><li>å¦‚æœ <code>a</code> å’Œ <code>b</code> ä¸ç›¸ç­‰ï¼Œé‚£ä¹ˆ <code>a.equals(b)</code> ä¸€å®šä¸º <code>false</code>ï¼Œåˆ™ <code>a.hashCode()</code> å’Œ <code>b.hashCode()</code> å°½é‡ä¸è¦ç›¸ç­‰ã€‚</li></ul></div><p>ä¸Šè¿°ç¬¬ä¸€æ¡è§„èŒƒæ˜¯æ­£ç¡®æ€§ï¼Œå¿…é¡»ä¿è¯å®ç°ï¼Œå¦åˆ™ <code>HashMap</code> ä¸èƒ½æ­£å¸¸å·¥ä½œã€‚</p><p>è€Œç¬¬äºŒæ¡å¦‚æœå°½é‡æ»¡è¶³ï¼Œåˆ™å¯ä»¥ä¿è¯æŸ¥è¯¢æ•ˆç‡ï¼Œå› ä¸ºä¸åŒçš„å¯¹è±¡ï¼Œå¦‚æœè¿”å›ç›¸åŒçš„ <code>hashCode()</code>ï¼Œä¼šé€ æˆ <code>Map</code> å†…éƒ¨å­˜å‚¨å†²çªï¼Œä½¿å­˜å–çš„æ•ˆç‡ä¸‹é™ã€‚</p>`,19),b=s("code",null,"equals()",-1),y=s("code",null,"Person",-1),q=o(`<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> firstName<span class="token punctuation">;</span>
    <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŠŠéœ€è¦æ¯”è¾ƒçš„å­—æ®µæ‰¾å‡ºæ¥ï¼š</p><ul><li>firstName</li><li>lastName</li><li>age</li></ul><p>ç„¶åï¼Œå¼•ç”¨ç±»å‹ä½¿ç”¨ <code>Objects.equals()</code> æ¯”è¾ƒï¼ŒåŸºæœ¬ç±»å‹ä½¿ç”¨ <code>==</code> æ¯”è¾ƒã€‚</p><hr><p>åœ¨æ­£ç¡®å®ç° <code>equals()</code> çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬è¿˜éœ€è¦æ­£ç¡®å®ç° <code>hashCode()</code>ï¼Œå³ä¸Šè¿° 3 ä¸ªå­—æ®µåˆ†åˆ«ç›¸åŒçš„å®ä¾‹ï¼Œ<code>hashCode()</code> è¿”å›çš„ <code>int</code> å¿…é¡»ç›¸åŒï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> firstName<span class="token punctuation">;</span>
    <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        h <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> h <span class="token operator">+</span> firstName<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        h <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> h <span class="token operator">+</span> lastName<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        h <span class="token operator">=</span> <span class="token number">31</span> <span class="token operator">*</span> h <span class="token operator">+</span> age<span class="token punctuation">;</span>
        <span class="token keyword">return</span> h<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„åˆ° <code>String</code> ç±»å·²ç»æ­£ç¡®å®ç°äº† <code>hashCode()</code> æ–¹æ³•ï¼Œæˆ‘ä»¬åœ¨è®¡ç®— <code>Person</code> çš„ <code>hashCode()</code> æ—¶ï¼Œåå¤ä½¿ç”¨ <code>31*h</code>ï¼Œè¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†å°½é‡æŠŠä¸åŒçš„ <code>Person</code> å®ä¾‹çš„ <code>hashCode()</code> å‡åŒ€åˆ†å¸ƒåˆ°æ•´ä¸ª <code>int</code> èŒƒå›´ã€‚</p><p>å’Œå®ç° <code>equals()</code> æ–¹æ³•é‡åˆ°çš„é—®é¢˜ç±»ä¼¼ï¼Œå¦‚æœ <code>firstName</code> æˆ– <code>lastName</code> ä¸º <code>null</code>ï¼Œä¸Šè¿°ä»£ç å·¥ä½œèµ·æ¥å°±ä¼šæŠ› <code>NullPointerException</code> ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬åœ¨è®¡ç®— <code>hashCode()</code> çš„æ—¶å€™ï¼Œç»å¸¸å€ŸåŠ© <code>Objects.hash()</code> æ¥è®¡ç®—ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hash</span><span class="token punctuation">(</span>firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€ä»¥ï¼Œç¼–å†™ <code>equals()</code> å’Œ <code>hashCode()</code> éµå¾ªçš„åŸåˆ™æ˜¯ï¼š</p><p><code>equals()</code> ç”¨åˆ°çš„ç”¨äºæ¯”è¾ƒçš„æ¯ä¸€ä¸ªå­—æ®µï¼Œéƒ½å¿…é¡»åœ¨ <code>hashCode()</code> ä¸­ç”¨äºè®¡ç®—ï¼› <code>equals()</code> ä¸­æ²¡æœ‰ä½¿ç”¨åˆ°çš„å­—æ®µï¼Œç»ä¸å¯æ”¾åœ¨ <code>hashCode()</code> ä¸­è®¡ç®—ã€‚</p><p>å¦å¤–æ³¨æ„ï¼Œå¯¹äºæ”¾å…¥ <code>HashMap</code> çš„ <code>value</code> å¯¹è±¡ï¼Œæ²¡æœ‰ä»»ä½•è¦æ±‚ã€‚</p><h2 id="ğŸ€-å»¶ä¼¸é˜…è¯»" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å»¶ä¼¸é˜…è¯»" aria-hidden="true">#</a> ğŸ€ å»¶ä¼¸é˜…è¯»</h2><p>æ—¢ç„¶ <code>HashMap</code> å†…éƒ¨ä½¿ç”¨äº†æ•°ç»„ï¼Œé€šè¿‡è®¡ç®— <code>key</code> çš„ <code>hashCode()</code> ç›´æ¥å®šä½ <code>value</code> æ‰€åœ¨çš„ç´¢å¼•ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªé—®é¢˜æ¥äº†ï¼š <code>hashCode()</code> è¿”å›çš„ <code>int</code> èŒƒå›´é«˜è¾¾ Â±21 äº¿ï¼Œå…ˆä¸è€ƒè™‘è´Ÿæ•°ï¼Œ<code>HashMap</code> å†…éƒ¨ä½¿ç”¨çš„æ•°ç»„å¾—æœ‰å¤šå¤§ï¼Ÿ</p><p>å®é™…ä¸Š <code>HashMap</code> åˆå§‹åŒ–æ—¶é»˜è®¤çš„æ•°ç»„å¤§å°åªæœ‰ 16 ï¼Œä»»ä½• <code>key</code>ï¼Œæ— è®ºå®ƒçš„ <code>hashCode()</code> æœ‰å¤šå¤§ï¼Œéƒ½å¯ä»¥ç®€å•åœ°é€šè¿‡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> index <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0xf</span><span class="token punctuation">;</span> <span class="token comment">// 0xf = 15</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æŠŠç´¢å¼•ç¡®å®šåœ¨ 0 ï½ 15ï¼Œå³æ°¸è¿œä¸ä¼šè¶…å‡ºæ•°ç»„èŒƒå›´ï¼Œä¸Šè¿°ç®—æ³•åªæ˜¯ä¸€ç§æœ€ç®€å•çš„å®ç°ã€‚</p><p>ç¬¬äºŒä¸ªé—®é¢˜ï¼šå¦‚æœæ·»åŠ è¶…è¿‡ 16 ä¸ª <code>key-value</code> åˆ° <code>HashMap</code>ï¼Œæ•°ç»„ä¸å¤Ÿç”¨äº†æ€ä¹ˆåŠï¼Ÿ</p><p>æ·»åŠ è¶…è¿‡ä¸€å®šæ•°é‡çš„ <code>key-value</code> æ—¶ï¼Œ<code>HashMap</code> ä¼šåœ¨å†…éƒ¨è‡ªåŠ¨æ‰©å®¹ï¼Œæ¯æ¬¡æ‰©å®¹ä¸€å€ï¼Œå³é•¿åº¦ä¸º 16 çš„æ•°ç»„æ‰©å±•ä¸ºé•¿åº¦ 32ï¼Œç›¸åº”åœ°ï¼Œéœ€è¦é‡æ–°ç¡®å®š <code>hashCode()</code> è®¡ç®—çš„ç´¢å¼•ä½ç½®ã€‚ä¾‹å¦‚ï¼Œå¯¹é•¿åº¦ä¸º 32 çš„æ•°ç»„è®¡ç®— <code>hashCode()</code> å¯¹åº”çš„ç´¢å¼•ï¼Œè®¡ç®—æ–¹å¼è¦æ”¹ä¸ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> index <span class="token operator">=</span> key<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">0x1f</span><span class="token punctuation">;</span> <span class="token comment">// 0x1f = 31</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç”±äºæ‰©å®¹ä¼šå¯¼è‡´é‡æ–°åˆ†å¸ƒå·²æœ‰çš„ <code>key-value</code>ï¼Œæ‰€ä»¥ï¼Œé¢‘ç¹æ‰©å®¹å¯¹ <code>HashMap</code> çš„æ€§èƒ½å½±å“å¾ˆå¤§ã€‚å¦‚æœæˆ‘ä»¬ç¡®å®šè¦ä½¿ç”¨ä¸€ä¸ªå®¹é‡ä¸º 10000 ä¸ª <code>key-value</code> çš„ <code>HashMap</code>ï¼Œæ›´å¥½çš„æ–¹å¼æ˜¯åˆ›å»º <code>HashMap</code> æ—¶å°±æŒ‡å®šå®¹é‡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,23),f=s("p",null,[a("è™½ç„¶æŒ‡å®šå®¹é‡æ˜¯ "),s("code",null,"10000"),a("ï¼Œä½† "),s("code",null,"HashMap"),a(" å†…éƒ¨çš„æ•°ç»„é•¿åº¦æ€»æ˜¯ "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mn",null,"2"),s("mi",null,"n")])]),s("annotation",{encoding:"application/x-tex"},"2^n")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.6644em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.6644em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mathnormal mtight"},"n")])])])])])])])])])]),a(" ï¼Œå› æ­¤ï¼Œå®é™…æ•°ç»„é•¿åº¦è¢«åˆå§‹åŒ–ä¸ºæ¯” "),s("code",null,"10000"),a(" å¤§çš„ "),s("code",null,"16384"),a(" ï¼ˆ "),s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[s("semantics",null,[s("mrow",null,[s("msup",null,[s("mn",null,"2"),s("mn",null,"14")])]),s("annotation",{encoding:"application/x-tex"},"2^{14}")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"0.8141em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"2"),s("span",{class:"msupsub"},[s("span",{class:"vlist-t"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.8141em"}},[s("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[s("span",{class:"pstrut",style:{height:"2.7em"}}),s("span",{class:"sizing reset-size6 size3 mtight"},[s("span",{class:"mord mtight"},[s("span",{class:"mord mtight"},"14")])])])])])])])])])])]),a("ï¼‰ã€‚")],-1),w=o(`<p>æœ€åä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœä¸åŒçš„ä¸¤ä¸ª <code>key</code>ï¼Œä¾‹å¦‚ <code>&quot;a&quot;</code> å’Œ <code>&quot;b&quot;</code>ï¼Œå®ƒä»¬çš„ <code>hashCode()</code> æ°å¥½æ˜¯ç›¸åŒçš„ï¼ˆè¿™ç§æƒ…å†µæ˜¯å®Œå…¨å¯èƒ½çš„ï¼Œå› ä¸ºä¸ç›¸ç­‰çš„ä¸¤ä¸ªå®ä¾‹ï¼Œåªè¦æ±‚ <code>hashCode()</code> å°½é‡ä¸ç›¸ç­‰ï¼‰ï¼Œé‚£ä¹ˆï¼Œå½“æˆ‘ä»¬æ”¾å…¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiao Ming&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Xiao Hong&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æ—¶ï¼Œç”±äºè®¡ç®—å‡ºçš„æ•°ç»„ç´¢å¼•ç›¸åŒï¼Œåé¢æ”¾å…¥çš„ <code>&quot;Xiao Hong&quot;</code> ä¼šä¸ä¼šæŠŠ <code>&quot;Xiao Ming&quot;</code> è¦†ç›–äº†ï¼Ÿ</p><p>å½“ç„¶ä¸ä¼šï¼ä½¿ç”¨ <code>Map</code> çš„æ—¶å€™ï¼Œåªè¦ <code>key</code> ä¸ç›¸åŒï¼Œå®ƒä»¬æ˜ å°„çš„ <code>value</code> å°±äº’ä¸å¹²æ‰°ã€‚ä½†æ˜¯ï¼Œåœ¨ <code>HashMap</code> å†…éƒ¨ï¼Œç¡®å®å¯èƒ½å­˜åœ¨ä¸åŒçš„ <code>key</code>ï¼Œæ˜ å°„åˆ°ç›¸åŒçš„ <code>hashCode()</code>ï¼Œå³ç›¸åŒçš„æ•°ç»„ç´¢å¼•ä¸Šï¼Œè‚¿ä¹ˆåŠï¼Ÿ</p><p>æˆ‘ä»¬å°±å‡è®¾ <code>&quot;a&quot;</code> å’Œ <code>&quot;b&quot;</code> è¿™ä¸¤ä¸ª <code>key</code> æœ€ç»ˆè®¡ç®—å‡ºçš„ç´¢å¼•éƒ½æ˜¯ <code>5</code>ï¼Œé‚£ä¹ˆï¼Œåœ¨ <code>HashMap</code> çš„æ•°ç»„ä¸­ï¼Œå®é™…å­˜å‚¨çš„ä¸æ˜¯ä¸€ä¸ª <code>Person</code> å®ä¾‹ï¼Œè€Œæ˜¯ä¸€ä¸ª <code>List</code>ï¼Œå®ƒåŒ…å«ä¸¤ä¸ª <code>Entry</code>ï¼Œä¸€ä¸ªæ˜¯ <code>&quot;a&quot;</code> çš„æ˜ å°„ï¼Œä¸€ä¸ªæ˜¯ <code>&quot;b&quot;</code> çš„æ˜ å°„ï¼š</p><figure><img src="`+k+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>åœ¨æŸ¥æ‰¾çš„æ—¶å€™ï¼Œä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Person</span> p <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>HashMap</code> å†…éƒ¨é€šè¿‡ <code>&quot;a&quot;</code> æ‰¾åˆ°çš„å®é™…ä¸Šæ˜¯ <code>List&lt;Entry&lt;String, Person&gt;&gt;</code>ï¼Œå®ƒè¿˜éœ€è¦éå†è¿™ä¸ª <code>List</code>ï¼Œå¹¶æ‰¾åˆ°ä¸€ä¸ª <code>Entry</code>ï¼Œå®ƒçš„ <code>key</code> å­—æ®µæ˜¯ <code>&quot;a&quot;</code>ï¼Œæ‰èƒ½è¿”å›å¯¹åº”çš„ <code>Person</code> å®ä¾‹ã€‚</p><p>æˆ‘ä»¬æŠŠä¸åŒçš„ <code>key</code> å…·æœ‰ç›¸åŒçš„ <code>hashCode()</code> çš„æƒ…å†µç§°ä¹‹ä¸ºå“ˆå¸Œå†²çªã€‚åœ¨å†²çªçš„æ—¶å€™ï¼Œä¸€ç§æœ€ç®€å•çš„è§£å†³åŠæ³•æ˜¯ç”¨ <code>List</code> å­˜å‚¨ <code>hashCode()</code> ç›¸åŒçš„ <code>key-value</code> ã€‚æ˜¾ç„¶ï¼Œå¦‚æœå†²çªçš„æ¦‚ç‡è¶Šå¤§ï¼Œè¿™ä¸ª <code>List</code> å°±è¶Šé•¿ï¼Œ<code>Map</code> çš„ <code>get()</code> æ–¹æ³•æ•ˆç‡å°±è¶Šä½ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¦å°½é‡æ»¡è¶³æ¡ä»¶äºŒï¼š</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>å¦‚æœä¸¤ä¸ªå¯¹è±¡ä¸ç›¸ç­‰ï¼Œåˆ™ä¸¤ä¸ªå¯¹è±¡çš„ <code>hashCode()</code> å°½é‡ä¸è¦ç›¸ç­‰ã€‚</p></div><p><code>hashCode()</code> æ–¹æ³•ç¼–å†™å¾—è¶Šå¥½ï¼Œ<code>HashMap</code> å·¥ä½œçš„æ•ˆç‡å°±è¶Šé«˜ã€‚</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><ol><li><p>è¦æ­£ç¡®ä½¿ç”¨ <code>HashMap</code>ï¼Œä½œä¸º <code>key</code> çš„ç±»å¿…é¡»æ­£ç¡®è¦†å†™ <code>equals()</code> å’Œ <code>hashCode()</code> æ–¹æ³•ï¼›</p></li><li><p>ä¸€ä¸ªç±»å¦‚æœè¦†å†™äº† <code>equals()</code>ï¼Œå°±å¿…é¡»è¦†å†™ <code>hashCode()</code>ï¼Œå¹¶ä¸”è¦†å†™è§„åˆ™æ˜¯ï¼š</p><ul><li>ï¼ˆæ­£ç¡®æ€§ï¼‰å¦‚æœ <code>equals()</code> è¿”å› <code>true</code>ï¼Œåˆ™ <code>hashCode()</code> è¿”å›å€¼å¿…é¡»ç›¸ç­‰ï¼›</li><li>ï¼ˆæ•ˆç‡æ€§ï¼‰å¦‚æœ <code>equals()</code> è¿”å› <code>false</code>ï¼Œåˆ™ <code>hashCode()</code> è¿”å›å€¼å°½é‡ä¸è¦ç›¸ç­‰ã€‚</li></ul></li><li><p>å®ç° <code>hashCode()</code> æ–¹æ³•å¯ä»¥é€šè¿‡ <code>Objects.hashCode()</code> è¾…åŠ©æ–¹æ³•å®ç°ã€‚</p></li></ol><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>hashmap ä¸­ä¾æ® <code>key</code> çš„ hash å€¼æ¥ç¡®å®š <code>value</code> å­˜å‚¨ä½ç½®ï¼Œæ‰€ä»¥ä¸€å®šè¦é‡å†™ <code>hashCode()</code> æ–¹æ³•ï¼Œè€Œé‡å†™ <code>equals()</code> æ–¹æ³•ï¼Œæ˜¯ä¸ºäº†è§£å†³ hash å†²çªï¼Œå¦‚æœä¸¤ä¸ª <code>key</code> çš„ hash å€¼ç›¸åŒï¼Œå°±ä¼šè°ƒç”¨ <code>equals()</code> æ–¹æ³•ï¼Œæ¯”è¾ƒ <code>key</code> å€¼æ˜¯å¦ç›¸åŒã€‚</p><ul><li>åœ¨å­˜å‚¨æ—¶ï¼šå¦‚æœ <code>equals()</code> ç»“æœç›¸åŒå°±è¦†ç›–æ›´æ–° <code>value</code> å€¼ï¼Œå¦‚æœä¸åŒå°±ç”¨ List ä»–ä»¬éƒ½å­˜å‚¨èµ·æ¥ã€‚</li><li>åœ¨å–å‡ºæ¥æ˜¯ï¼šå¦‚æœ <code>equals()</code> ç»“æœç›¸åŒå°±è¿”å›å½“å‰ <code>value</code> å€¼ï¼Œå¦‚æœä¸åŒå°±éå† List ä¸­ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚å³è¦ <code>key</code> ä¸ <code>hash</code> åŒæ—¶åŒ¹é…æ‰ä¼šè®¤ä¸ºæ˜¯åŒä¸€ä¸ª <code>key</code>ã€‚</li></ul><p>JDK ä¸­æºç :</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">if</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>hash <span class="token operator">==</span> hash <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">=</span> e<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> key <span class="token operator">||</span> <span class="token punctuation">(</span>key <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ops<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></div>`,15);function M(C,_){const c=t("router-link"),p=t("RouterLink");return d(),i("div",null,[s("details",m,[v,s("nav",h,[s("ul",null,[s("li",null,[n(c,{to:"#ğŸ€-å»¶ä¼¸é˜…è¯»"},{default:e(()=>[a("ğŸ€ å»¶ä¼¸é˜…è¯»")]),_:1})]),s("li",null,[n(c,{to:"#ğŸ€-å°ç»“"},{default:e(()=>[a("ğŸ€ å°ç»“")]),_:1})])])])]),g,s("p",null,[a("æ­£ç¡®ç¼–å†™ "),b,a(" çš„æ–¹æ³•æˆ‘ä»¬å·²ç»åœ¨ "),n(p,{to:"/1-Java/7_%E9%9B%86%E5%90%88/3.html"},{default:e(()=>[a("ç¼–å†™ equals æ–¹æ³•")]),_:1}),a(" ä¸€èŠ‚ä¸­è®²è¿‡äº†ï¼Œä»¥ "),y,a(" ç±»ä¸ºä¾‹ï¼š")]),q,f,w])}const H=l(r,[["render",M],["__file","5.html.vue"]]);export{H as default};
