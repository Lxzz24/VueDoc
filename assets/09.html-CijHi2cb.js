import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as n,d as e}from"./app-CvlAI_tu.js";const l={},i=e(`<h1 id="æœ¬ç« ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#æœ¬ç« ç»ƒä¹ " aria-hidden="true">#</a> æœ¬ç« ç»ƒä¹ </h1><h2 id="ğŸ€-æƒ…æ™¯æ¨¡æ‹Ÿé¢˜-1" tabindex="-1"><a class="header-anchor" href="#ğŸ€-æƒ…æ™¯æ¨¡æ‹Ÿé¢˜-1" aria-hidden="true">#</a> ğŸ€ æƒ…æ™¯æ¨¡æ‹Ÿé¢˜ 1</h2><p>å°†æœ¬æœåŠ¡çš„è´¦æˆ·åˆ†å¼€ç®¡ç†ï¼Œ</p><ul><li>åˆ†ä¸ºå•çº¯é‚®ä»¶ä½¿ç”¨è€…ï¼šå°†è¯¥è´¦æˆ·åŠ å…¥åä¸º mail çš„åˆå§‹ç¾¤ç»„ï¼Œä¸”æ­¤è´¦æˆ·ä¸å¯ä½¿ç”¨ bash ç­‰ shell ç™»é™†ç³»ç»Ÿã€‚</li><li>å¯ç™»é™†ç³»ç»Ÿè´¦æˆ·ï¼šå°†è¯¥è´¦æˆ·åŠ å…¥ youcan çš„æ¬¡è¦ç¾¤ç»„</li></ul><p>ç»ƒä¹ æœŸæœ›ï¼š</p><ul><li>ç›®æ ‡ï¼šäº†è§£ <code>/sib/nologin</code> çš„ç”¨é€”</li><li>å‰æï¼šå¯è‡ªè¡Œè§‚å¯Ÿä½¿ç”¨è€…æ˜¯å¦å·²ç»å»ºç«‹ç­‰é—®é¢˜</li><li>éœ€æ±‚ï¼šéœ€äº†è§£ useraddã€groupadd ç­‰æŒ‡ä»¤çš„ç”¨æ³•</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># 1. æ£€æŸ¥ä¸¤ä¸ªç¾¤ç»„æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™å»ºç«‹</span>
<span class="token function">grep</span> mail /etc/group
<span class="token function">grep</span> youcan /etc/group
<span class="token function">groupadd</span> youcan

<span class="token comment"># 2. åˆ›å»ºé‚®ä»¶è´¦æˆ·ï¼Œå¯ä»¥å‡†å¤‡è„šæœ¬æ¥å¤„ç†</span>
<span class="token function">vim</span> popuser.sh
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">username</span> <span class="token keyword">in</span> pop1 pop2 pop3
<span class="token keyword">do</span>
	<span class="token comment"># -g åˆå§‹ç¾¤ç»„ï¼› -s æŒ‡å®š bashï¼› -M ä¸è¦åˆ›å»ºå®¶ç›®å½•</span>
	<span class="token function">useradd</span> <span class="token parameter variable">-g</span> mail <span class="token parameter variable">-s</span> /sbin/nologin <span class="token parameter variable">-M</span> <span class="token variable">$username</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$username</span> <span class="token operator">|</span> <span class="token function">passwd</span> <span class="token parameter variable">--stdin</span> <span class="token variable">$username</span>		<span class="token comment"># å°†å¯†ç è®¾ç½®ä¸ºè´¦æˆ·ç›¸åŒ</span>
<span class="token keyword">done</span>

<span class="token function">sh</span> popuser.sh

<span class="token comment"># 3. å»ºç«‹ä¸€èˆ¬è´¦æˆ·ï¼ŒåŒæ ·é€‚ç”¨è„šæœ¬åˆ›å»º</span>
<span class="token function">vim</span> loginuser.sh
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">username</span> <span class="token keyword">in</span> pop1 pop2 pop3
<span class="token keyword">do</span>
	<span class="token comment"># -g åˆå§‹ç¾¤ç»„ï¼› -s æŒ‡å®š bashï¼› -M ä¸è¦åˆ›å»ºå®¶ç›®å½•</span>
	<span class="token function">useradd</span> <span class="token parameter variable">-G</span> youcan <span class="token parameter variable">-s</span> /bin/login <span class="token variable">$username</span>
	<span class="token builtin class-name">echo</span> <span class="token variable">$username</span> <span class="token operator">|</span> <span class="token function">passwd</span> <span class="token parameter variable">--stdin</span> <span class="token variable">$username</span>		<span class="token comment"># å°†å¯†ç è®¾ç½®ä¸ºè´¦æˆ·ç›¸åŒ</span>
<span class="token keyword">done</span>

<span class="token function">sh</span> loginuser.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ€-ç®€ç­”é¢˜éƒ¨åˆ†" tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç®€ç­”é¢˜éƒ¨åˆ†" aria-hidden="true">#</a> ğŸ€ ç®€ç­”é¢˜éƒ¨åˆ†</h2><ul><li><p>root çš„ UID ä¸ GID æ˜¯å¤šå°‘ï¼ŸåŸºäºè¿™ä¸ªç†ç”±ï¼Œè®© test è¿™ä¸ªè´¦æˆ·å…·æœ‰ root æƒé™ï¼Œæ€ä¹ˆåšï¼Ÿ</p><p>éƒ½ä¸º 0ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹ <code>/etc/passwd</code> ä¸­ test è´¦æˆ·çš„ UID å’Œ GID å­—æ®µå˜æˆ 0</p></li><li><p>å¦‚ä½•å°†ä¸€ä¸ªè´¦æˆ·æš‚æ—¶åœæ‰ï¼Ÿè®©è¯¥è´¦æˆ·æ— æ³•ç™»å½•ï¼Ÿ</p><p>ç”±äºæ˜¯æš‚æ—¶å¤±æ•ˆï¼Œä¸èƒ½ä½¿ç”¨ userdel æ¥åˆ é™¤ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼</p><ul><li>å°† <code>/etc/passwd</code> çš„ shell å­—æ®µä¿®æ”¹ä¸º <code>/sbin/nologin</code></li><li>å°† <code>/ec/shadow</code> çš„å¯†ç å­—æ®µï¼Œå†…å®¹å‰å¢åŠ ä¸€ä¸ª !ï¼Œè®©å¯†ç å¤±æ•ˆ</li><li>å°† <code>/etc/shadow</code> ç¬¬ 8 å­—æ®µå…³äºè´¦æˆ·å¤±æ•ˆæ—¥æœŸï¼Œè®¾ç½®ä¸ºå°äºç›®å‰çš„æ—¥æœŸæ•°å­—</li></ul></li><li><p>ä½¿ç”¨ useradd æ—¶ï¼Œæ–°å¢è´¦æˆ·é‡Œé¢çš„ UIDã€GID è¿˜æœ‰å…¶ä»–ç›¸å…³çš„å¯†ç æ§åˆ¶æ˜¯å“ªå‡ ä¸ªæ–‡ä»¶é…ç½®çš„?</p><p><code>/etc/login.defs</code> <code>/etc/default/useradd</code></p></li><li><p>åœ¨ä½¿ç”¨ useradd æ—¶ï¼Œé¢„è®¾æƒ…å†µä¸­ï¼Œä»–ä»¬å®¶ç›®å½•å°±å«æœ‰ä¸€ä¸ªåç§°ä¸º www çš„å­ç›®å½•ï¼Œè¯¥æ€ä¹ˆæ“ä½œï¼Ÿ</p><p>ä¼šä»¥ <code>/etc/skel</code> ä½œä¸ºå‚è€ƒç›®å½•ï¼Œå¯ä»¥åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª www çš„ç›®å½•</p></li><li><p>ç®€å•è¯´æ˜ç³»ç»Ÿè´¦æˆ·ä¸ä¸€èˆ¬è´¦æˆ·çš„å·®åˆ«ï¼Ÿ</p><p>ä¸€èˆ¬è€Œè¨€ï¼Œä¸ºäº†è®©ç³»ç»Ÿèƒ½å¤Ÿé¡ºåˆ©ä»¥è¾ƒå°çš„æƒé™è¿è¡Œï¼Œç³»ç»Ÿä¼šæœ‰å¾ˆå¤šè´¦æˆ·ï¼Œä¾‹å¦‚ mailã€binã€adm ç­‰ã€‚ä¸ºäº†ç¡®ä¿è¿™äº›è´¦æˆ·èƒ½å¤Ÿåœ¨ç³»ç»Ÿä¸Šé¢å…·æœ‰ç‹¬ä¸€æ— äºŒçš„çš„æƒé™ï¼Œä¸€èˆ¬æ¥è¯´ Linux ä¼šä¿ç•™ä¸€äº› UID ç»™ç³»ç»Ÿä½¿ç”¨ï¼Œåœ¨ CentOS 5.x ä¸Šï¼Œå°äº 500 ä»¥ä¸‹çš„ UID å³æ˜¯æ‰€è°“çš„ç³»ç»Ÿè´¦æˆ·</p></li><li><p>ç®€å•è¯´æ˜ï¼Œä¸ºä½• CentOS å»ºç«‹ä½¿ç”¨è€…æ—¶ï¼Œä¼šä¸»åŠ¨åˆ›å»ºä¸€ä¸ªä¸è´¦æˆ·åŒåçš„ç¾¤ç»„ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ <code>/etc/default/useradd</code> çš„è®¾ç½®ï¼Ÿ</p><p>ä¸åŒçš„ distribution å¯¹äºä½¿ç”¨è€… group çš„å»ºç«‹æœºåˆ¶ä¸åŒï¼Œä¸»è¦æœºåˆ¶åˆ†ä¸ºä¸¤ç§ï¼š</p><ul><li>public group schemesï¼šç»™äºˆä¸€ä¸ªå…¬ç”¨çš„ç¾¤ç»„ï¼Œä¸€èˆ¬æ¥è¯´æ˜¯ usersï¼›ä»¥ SUSe server9 ä¸ºä»£è¡¨</li><li>private group schemesï¼šåˆ›å»ºä¸€ä¸ªä¸è´¦æˆ·åŒåçš„ç¾¤ç»„ï¼Œä»¥ CentOS 7.x ä¸ºä¾‹</li></ul></li><li><p>å¦‚ä½•åˆ›å»ºä¸€ä¸ªä½¿ç”¨è€… alexï¼Œæ‰€å±ç¾¤ç»„ä¸º alexgroupï¼Œé¢„è®¡ä½¿ç”¨ cshï¼Œä»–çš„å…¨åä¸º â€œAlex Tsaiâ€ï¼Œè¿˜éœ€è¦åŠ å…¥ users ç¾¤ç»„ä¸­</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">groupadd</span> alexgroup
<span class="token comment"># -g åˆå§‹ç»„ï¼Œ -G æ¬¡è¦ç»„ï¼Œ-m å»ºç«‹å®¶ç›®å½•</span>
<span class="token function">useradd</span> <span class="token parameter variable">-c</span> <span class="token string">&quot;Alex Tsai&quot;</span> <span class="token parameter variable">-g</span> alexgroup <span class="token parameter variable">-G</span> <span class="token function">users</span> <span class="token parameter variable">-m</span> alex
<span class="token comment"># åŠ¡å¿…å…ˆå»ºç«‹ç¾¤ç»„ï¼Œæ‰èƒ½å¤Ÿå»ºç«‹è´¦æˆ·</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç”±äºç§ç§å› ç´ ï¼Œå¯¼è‡´ä½ çš„ç”¨æˆ·å®¶ç›®å½•ä»¥åéƒ½éœ€è¦æ”¾ç½®åˆ° <code>/account</code> ç›®å½•ä¸‹ï¼Œè¯¥å¦‚ä½•é…ç½®ï¼Œè®© useradd æ—¶ï¼Œé»˜è®¤çš„å®¶ç›®å½•æŒ‡å‘ <code>/account</code>ï¼Ÿ</p><p>æœ€ç®€å•çš„åŠæ³•æ˜¯ç¼–è¾‘ <code>/etc/default/useradd</code>ï¼Œå°† <code>HOME=/home æ”¹ä¸º /account</code></p></li><li><p>è¦è®© dmtsai ä½¿ç”¨è€…ï¼ŒåŠ å…¥ mrcode1ã€mrcode2ã€mrcode3 ä¸‰ä¸ªç¾¤ç»„ï¼Œä¸”ä¸å½±å“ dmtsai åŸæœ¬å·²ç»æ”¯æŒçš„æ¬¡è¦ç¾¤ç»„æ—¶ï¼Œéœ€è¦æ€ä¹ˆæ“ä½œï¼Ÿ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># -a å¢åŠ ï¼Œ-G æ¬¡è¦ç¾¤ç»„ï¼Œåˆç”¨å°±æ˜¯å¢åŠ æ¬¡è¦ç¾¤ç»„</span>
<span class="token function">usermod</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">-G</span> mrcode1,mrcode2,mrcode3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul>`,9),c=[i];function o(p,d){return a(),n("div",null,c)}const u=s(l,[["render",o],["__file","09.html.vue"]]);export{u as default};
