import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as c,c as l,a as s,b as a,w as e,d as i,e as t}from"./app-CvlAI_tu.js";const u="/VueDoc/assets/l-20231221105422720-BV11Njem.jpeg",d="/VueDoc/assets/image-20231221105530969-D5ZgRml4.png",r={},k={class:"hint-container details"},v=s("summary",null,"ç›®å½•",-1),m={class:"table-of-contents"},g=i(`<p>æˆ‘ä»¬é€šè¿‡å‰é¢çš„ç« èŠ‚å¯ä»¥çœ‹åˆ°ï¼š</p><ul><li>Servlet é€‚åˆç¼–å†™ Java ä»£ç ï¼Œå®ç°å„ç§å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ï¼Œä½†ä¸é€‚åˆè¾“å‡ºå¤æ‚çš„ HTMLï¼›</li><li>JSP é€‚åˆç¼–å†™ HTMLï¼Œå¹¶åœ¨å…¶ä¸­æ’å…¥åŠ¨æ€å†…å®¹ï¼Œä½†ä¸é€‚åˆç¼–å†™å¤æ‚çš„ Java ä»£ç ã€‚</li></ul><p>èƒ½å¦å°†ä¸¤è€…ç»“åˆèµ·æ¥ï¼Œå‘æŒ¥å„è‡ªçš„ä¼˜ç‚¹ï¼Œé¿å…å„è‡ªçš„ç¼ºç‚¹ï¼Ÿ</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªå…·ä½“çš„ä¾‹å­ã€‚</p><p>å‡è®¾æˆ‘ä»¬å·²ç»ç¼–å†™äº†å‡ ä¸ª JavaBeanï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">long</span> id<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">School</span> school<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">School</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ <code>UserServlet</code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä»æ•°æ®åº“è¯»å– <code>User</code>ã€<code>School</code> ç­‰ä¿¡æ¯ï¼Œç„¶åï¼ŒæŠŠè¯»å–åˆ°çš„ JavaBean å…ˆæ”¾åˆ° HttpServletRequest ä¸­ï¼Œå†é€šè¿‡ <code>forward()</code> ä¼ ç»™ <code>user.jsp</code> å¤„ç†ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// å‡è£…ä»æ•°æ®åº“è¯»å–:</span>
        <span class="token class-name">School</span> school <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">School</span><span class="token punctuation">(</span><span class="token string">&quot;No.1 Middle School&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;101 South Street&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> school<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ”¾å…¥ Request ä¸­:</span>
        req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// forward ç»™ user.jsp:</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/WEB-INF/user.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ <code>user.jsp</code> ä¸­ï¼Œæˆ‘ä»¬åªè´Ÿè´£å±•ç¤ºç›¸å…³ JavaBean çš„ä¿¡æ¯ï¼Œä¸éœ€è¦ç¼–å†™è®¿é—®æ•°æ®åº“ç­‰å¤æ‚é€»è¾‘ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>&lt;%@ page import=&quot;com.itranswarp.learnjava.bean.*&quot;%&gt;
&lt;%
    User user = (User) request.getAttribute(&quot;user&quot;);
%&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Hello World - JSP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Hello &lt;%= user.name %&gt;!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>School Name:
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        &lt;%= user.school.name %&gt;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>School Address:
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">color</span><span class="token punctuation">:</span>red</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        &lt;%= user.school.address %&gt;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„å‡ ç‚¹ï¼š</p><ul><li>éœ€è¦å±•ç¤ºçš„ <code>User</code> è¢«æ”¾å…¥ <code>HttpServletRequest</code> ä¸­ä»¥ä¾¿ä¼ é€’ç»™ JSPï¼Œå› ä¸ºä¸€ä¸ªè¯·æ±‚å¯¹åº”ä¸€ä¸ª <code>HttpServletRequest</code>ï¼Œæˆ‘ä»¬ä¹Ÿæ— éœ€æ¸…ç†å®ƒï¼Œå¤„ç†å®Œè¯¥è¯·æ±‚å <code>HttpServletRequest</code> å®ä¾‹å°†è¢«ä¸¢å¼ƒï¼›</li><li>æŠŠ <code>user.jsp</code> æ”¾åˆ° <code>/WEB-INF/</code> ç›®å½•ä¸‹ï¼Œæ˜¯å› ä¸º <code>WEB-INF</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šç›®å½•ï¼ŒWeb Server ä¼šé˜»æ­¢æµè§ˆå™¨å¯¹ <code>WEB-INF</code> ç›®å½•ä¸‹ä»»ä½•èµ„æºçš„è®¿é—®ï¼Œè¿™æ ·å°±é˜²æ­¢ç”¨æˆ·é€šè¿‡ <code>/user.jsp</code> è·¯å¾„ç›´æ¥è®¿é—®åˆ° JSP é¡µé¢ï¼›</li><li>JSP é¡µé¢é¦–å…ˆä» <code>request</code> å˜é‡è·å– <code>User</code> å®ä¾‹ï¼Œç„¶ååœ¨é¡µé¢ä¸­ç›´æ¥è¾“å‡ºï¼Œæ­¤å¤„æœªè€ƒè™‘ HTML çš„è½¬ä¹‰é—®é¢˜ï¼Œæœ‰æ½œåœ¨å®‰å…¨é£é™©ã€‚</li></ul><p>æˆ‘ä»¬åœ¨æµè§ˆå™¨è®¿é—® <code>http://localhost:8080/user</code>ï¼Œè¯·æ±‚é¦–å…ˆç”± <code>UserServlet</code> å¤„ç†ï¼Œç„¶åäº¤ç»™ <code>user.jsp</code> æ¸²æŸ“ï¼š</p><figure><img src="`+u+'" alt="mvc" tabindex="0" loading="lazy"><figcaption>mvc</figcaption></figure><p>æˆ‘ä»¬æŠŠ <code>UserServlet</code> çœ‹ä½œä¸šåŠ¡é€»è¾‘å¤„ç†ï¼ŒæŠŠ <code>User</code> çœ‹ä½œæ¨¡å‹ï¼ŒæŠŠ <code>user.jsp</code> çœ‹ä½œæ¸²æŸ“ï¼Œè¿™ç§è®¾è®¡æ¨¡å¼é€šå¸¸è¢«ç§°ä¸º MVCï¼šModel-View-Controllerï¼Œå³ <code>UserServlet</code> ä½œä¸ºæ§åˆ¶å™¨ï¼ˆControllerï¼‰ï¼Œ<code>User</code> ä½œä¸ºæ¨¡å‹ï¼ˆModelï¼‰ï¼Œ<code>user.jsp</code> ä½œä¸ºè§†å›¾ï¼ˆViewï¼‰ï¼Œæ•´ä¸ª MVC æ¶æ„å¦‚ä¸‹ï¼š</p><figure><img src="'+d+'" alt="image-20231221105530969" tabindex="0" loading="lazy"><figcaption>image-20231221105530969</figcaption></figure><p>ä½¿ç”¨ MVC æ¨¡å¼çš„å¥½å¤„æ˜¯ï¼ŒController ä¸“æ³¨äºä¸šåŠ¡å¤„ç†ï¼Œå®ƒçš„å¤„ç†ç»“æœå°±æ˜¯ Modelã€‚Model å¯ä»¥æ˜¯ä¸€ä¸ª JavaBeanï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªåŒ…å«å¤šä¸ªå¯¹è±¡çš„ Mapï¼ŒController åªè´Ÿè´£æŠŠ Model ä¼ é€’ç»™ Viewï¼ŒView åªè´Ÿè´£æŠŠ Model ç»™ â€œæ¸²æŸ“â€ å‡ºæ¥ï¼Œè¿™æ ·ï¼Œä¸‰è€…èŒè´£æ˜ç¡®ï¼Œä¸”å¼€å‘æ›´ç®€å•ï¼Œå› ä¸ºå¼€å‘ Controller æ—¶æ— éœ€å…³æ³¨é¡µé¢ï¼Œå¼€å‘ View æ—¶æ— éœ€å…³å¿ƒå¦‚ä½•åˆ›å»º Modelã€‚</p><p>MVC æ¨¡å¼å¹¿æ³›åœ°åº”ç”¨åœ¨ Web é¡µé¢å’Œä¼ ç»Ÿçš„æ¡Œé¢ç¨‹åºä¸­ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œé€šè¿‡ Servlet å’Œ JSP å®ç°äº†ä¸€ä¸ªç®€å•çš„ MVC æ¨¡å‹ï¼Œä½†å®ƒè¿˜ä¸å¤Ÿç®€æ´å’Œçµæ´»ï¼Œåç»­æˆ‘ä»¬ä¼šä»‹ç»æ›´ç®€å•çš„ Spring MVC å¼€å‘ã€‚</p><h2 id="ğŸ€-ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»ƒä¹ " aria-hidden="true">#</a> ğŸ€ ç»ƒä¹ </h2><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>MVC æ¨¡å¼æ˜¯ä¸€ç§åˆ†ç¦»ä¸šåŠ¡é€»è¾‘å’Œæ˜¾ç¤ºé€»è¾‘çš„è®¾è®¡æ¨¡å¼ï¼Œå¹¿æ³›åº”ç”¨åœ¨ Web å’Œæ¡Œé¢åº”ç”¨ç¨‹åºã€‚</p>',21);function b(h,S){const n=o("router-link");return c(),l("div",null,[s("details",k,[v,s("nav",m,[s("ul",null,[s("li",null,[a(n,{to:"#ğŸ€-ç»ƒä¹ "},{default:e(()=>[t("ğŸ€ ç»ƒä¹ ")]),_:1})]),s("li",null,[a(n,{to:"#ğŸ€-å°ç»“"},{default:e(()=>[t("ğŸ€ å°ç»“")]),_:1})])])])]),g])}const _=p(r,[["render",b],["__file","6.html.vue"]]);export{_ as default};
