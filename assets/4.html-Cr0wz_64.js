import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as t,o as p,c as e,a as n,b as o,w as c,d as l,e as i}from"./app-CvlAI_tu.js";const u="/VueDoc/assets/20220627155007-C3ShHl_F.png",d={},k={class:"hint-container details"},r=n("summary",null,"ç›®å½•",-1),v={class:"table-of-contents"},m=l(`<p>å¦‚æœçº¿ç¨‹éœ€è¦æ‰§è¡Œä¸€ä¸ªé•¿æ—¶é—´ä»»åŠ¡ï¼Œå°±å¯èƒ½éœ€è¦èƒ½ä¸­æ–­çº¿ç¨‹ã€‚</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>ä¸­æ–­çº¿ç¨‹å°±æ˜¯å…¶ä»–çº¿ç¨‹ç»™è¯¥çº¿ç¨‹å‘ä¸€ä¸ªä¿¡å·ï¼Œè¯¥çº¿ç¨‹æ”¶åˆ°ä¿¡å·åç»“æŸæ‰§è¡Œ <code>run()</code> æ–¹æ³•ï¼Œä½¿å¾—è‡ªèº«çº¿ç¨‹èƒ½ç«‹åˆ»ç»“æŸè¿è¡Œã€‚</p></div><p>æˆ‘ä»¬ä¸¾ä¸ªæ —å­ï¼šå‡è®¾ä»ç½‘ç»œä¸‹è½½ä¸€ä¸ª 100M çš„æ–‡ä»¶ï¼Œå¦‚æœç½‘é€Ÿå¾ˆæ…¢ï¼Œç”¨æˆ·ç­‰å¾—ä¸è€çƒ¦ï¼Œå°±å¯èƒ½åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­ç‚¹ â€œå–æ¶ˆâ€ï¼Œè¿™æ—¶ï¼Œç¨‹åºå°±éœ€è¦ä¸­æ–­ä¸‹è½½çº¿ç¨‹çš„æ‰§è¡Œã€‚</p><p>ä¸­æ–­ä¸€ä¸ªçº¿ç¨‹éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨å…¶ä»–çº¿ç¨‹ä¸­å¯¹ç›®æ ‡çº¿ç¨‹è°ƒç”¨ <code>interrupt()</code> æ–¹æ³•ï¼Œç›®æ ‡çº¿ç¨‹éœ€è¦åå¤æ£€æµ‹è‡ªèº«çŠ¶æ€æ˜¯å¦æ˜¯ <code>interrupted</code> çŠ¶æ€ï¼Œå¦‚æœæ˜¯ï¼Œå°±ç«‹åˆ»ç»“æŸè¿è¡Œã€‚</p><p>æˆ‘ä»¬è¿˜æ˜¯çœ‹ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æš‚åœ 1 æ¯«ç§’</span>
        t<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸­æ–­ t çº¿ç¨‹</span>
        t<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç­‰å¾… t çº¿ç¨‹ç»“æŸ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            n <span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token string">&quot;hello!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»”ç»†çœ‹ä¸Šè¿°ä»£ç ï¼Œ<code>main</code> çº¿ç¨‹é€šè¿‡è°ƒç”¨ <code>t.interrupt()</code> æ–¹æ³•ä¸­æ–­ <code>t</code> çº¿ç¨‹ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œ<code>interrupt()</code> æ–¹æ³•ä»…ä»…å‘ <code>t</code> çº¿ç¨‹å‘å‡ºäº† â€œä¸­æ–­è¯·æ±‚â€ï¼Œè‡³äº <code>t</code> çº¿ç¨‹æ˜¯å¦èƒ½ç«‹åˆ»å“åº”ï¼Œè¦çœ‹å…·ä½“ä»£ç ã€‚è€Œ <code>t</code> çº¿ç¨‹çš„ <code>while</code> å¾ªç¯ä¼šæ£€æµ‹ <code>isInterrupted()</code>ï¼Œæ‰€ä»¥ä¸Šè¿°ä»£ç èƒ½æ­£ç¡®å“åº” <code>interrupt()</code> è¯·æ±‚ï¼Œä½¿å¾—è‡ªèº«ç«‹åˆ»ç»“æŸè¿è¡Œ <code>run()</code> æ–¹æ³•ã€‚</p><p>å¦‚æœçº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œä¾‹å¦‚ï¼Œ<code>t.join()</code> ä¼šè®© <code>main</code> çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œæ­¤æ—¶ï¼Œå¦‚æœå¯¹ <code>main</code> çº¿ç¨‹è°ƒç”¨ <code>interrupt()</code>ï¼Œ<code>join()</code> æ–¹æ³•ä¼šç«‹åˆ»æŠ›å‡º <code>InterruptedException</code>ï¼Œå› æ­¤ï¼Œç›®æ ‡çº¿ç¨‹åªè¦æ•è·åˆ° <code>join()</code> æ–¹æ³•æŠ›å‡ºçš„ <code>InterruptedException</code>ï¼Œå°±è¯´æ˜æœ‰å…¶ä»–çº¿ç¨‹å¯¹å…¶è°ƒç”¨äº† <code>interrupt()</code> æ–¹æ³•ï¼Œé€šå¸¸æƒ…å†µä¸‹è¯¥çº¿ç¨‹åº”è¯¥ç«‹åˆ»ç»“æŸè¿è¡Œã€‚</p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸­æ–­ t çº¿ç¨‹</span>
        t<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç­‰å¾… t çº¿ç¨‹ç»“æŸ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span> hello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hello<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯åŠ¨ hello çº¿ç¨‹</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            hello<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç­‰å¾… hello çº¿ç¨‹ç»“æŸ</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;interrupted!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        hello<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HelloThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isInterrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            n<span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token string">&quot;hello!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>main</code> çº¿ç¨‹é€šè¿‡è°ƒç”¨ <code>t.interrupt()</code> ä»è€Œé€šçŸ¥ <code>t</code> çº¿ç¨‹ä¸­æ–­ï¼Œè€Œæ­¤æ—¶ <code>t</code> çº¿ç¨‹æ­£ä½äº <code>hello.join()</code> çš„ç­‰å¾…ä¸­ï¼Œæ­¤æ–¹æ³•ä¼šç«‹åˆ»ç»“æŸç­‰å¾…å¹¶æŠ›å‡º <code>InterruptedException</code> ã€‚ç”±äºæˆ‘ä»¬åœ¨ <code>t</code> çº¿ç¨‹ä¸­æ•è·äº† <code>InterruptedException</code>ï¼Œå› æ­¤ï¼Œå°±å¯ä»¥å‡†å¤‡ç»“æŸè¯¥çº¿ç¨‹ã€‚åœ¨ <code>t</code> çº¿ç¨‹ç»“æŸå‰ï¼Œå¯¹ <code>hello</code> çº¿ç¨‹ä¹Ÿè¿›è¡Œäº† <code>interrupt()</code> è°ƒç”¨é€šçŸ¥å…¶ä¸­æ–­ã€‚å¦‚æœå»æ‰è¿™ä¸€è¡Œä»£ç ï¼Œå¯ä»¥å‘ç° <code>hello</code> çº¿ç¨‹ä»ç„¶ä¼šç»§ç»­è¿è¡Œï¼Œä¸” JVM ä¸ä¼šé€€å‡ºã€‚</p><p>å¦ä¸€ä¸ªå¸¸ç”¨çš„ä¸­æ–­çº¿ç¨‹çš„æ–¹æ³•æ˜¯è®¾ç½®æ ‡å¿—ä½ã€‚æˆ‘ä»¬é€šå¸¸ä¼šç”¨ä¸€ä¸ª <code>running</code> æ ‡å¿—ä½æ¥æ ‡è¯†çº¿ç¨‹æ˜¯å¦åº”è¯¥ç»§ç»­è¿è¡Œï¼Œåœ¨å¤–éƒ¨çº¿ç¨‹ä¸­ï¼Œé€šè¿‡æŠŠ <code>HelloThread.running</code> ç½®ä¸º <code>false</code>ï¼Œå°±å¯ä»¥è®©çº¿ç¨‹ç»“æŸï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>  <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HelloThread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HelloThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        t<span class="token punctuation">.</span>running <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// æ ‡å¿—ä½ç½®ä¸º false</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HelloThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">volatile</span> <span class="token keyword">boolean</span> running <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>running<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            n <span class="token operator">++</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n <span class="token operator">+</span> <span class="token string">&quot;hello!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;end!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„åˆ° <code>HelloThread</code> çš„æ ‡å¿—ä½ <code>boolean running</code> æ˜¯ä¸€ä¸ªçº¿ç¨‹é—´å…±äº«çš„å˜é‡ã€‚çº¿ç¨‹é—´å…±äº«å˜é‡éœ€è¦ä½¿ç”¨ <code>volatile</code> å…³é”®å­—æ ‡è®°ï¼Œç¡®ä¿æ¯ä¸ªçº¿ç¨‹éƒ½èƒ½è¯»å–åˆ°æ›´æ–°åçš„å˜é‡å€¼ã€‚</p><p>ä¸ºä»€ä¹ˆè¦å¯¹çº¿ç¨‹é—´å…±äº«çš„å˜é‡ç”¨å…³é”®å­— <code>volatile</code> å£°æ˜ï¼Ÿè¿™æ¶‰åŠåˆ° Java çš„å†…å­˜æ¨¡å‹ã€‚åœ¨ Java è™šæ‹Ÿæœºä¸­ï¼Œå˜é‡çš„å€¼ä¿å­˜åœ¨ä¸»å†…å­˜ä¸­ï¼Œä½†æ˜¯ï¼Œå½“çº¿ç¨‹è®¿é—®å˜é‡æ—¶ï¼Œå®ƒä¼šå…ˆè·å–ä¸€ä¸ªå‰¯æœ¬ï¼Œå¹¶ä¿å­˜åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­ã€‚å¦‚æœçº¿ç¨‹ä¿®æ”¹äº†å˜é‡çš„å€¼ï¼Œè™šæ‹Ÿæœºä¼šåœ¨æŸä¸ªæ—¶åˆ»æŠŠä¿®æ”¹åçš„å€¼å›å†™åˆ°ä¸»å†…å­˜ï¼Œä½†æ˜¯ï¼Œè¿™ä¸ªæ—¶é—´æ˜¯ä¸ç¡®å®šçš„ï¼</p><figure><img src="`+u+'" alt="20220627155007" tabindex="0" loading="lazy"><figcaption>20220627155007</figcaption></figure><p>è¿™ä¼šå¯¼è‡´å¦‚æœä¸€ä¸ªçº¿ç¨‹æ›´æ–°äº†æŸä¸ªå˜é‡ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è¯»å–çš„å€¼å¯èƒ½è¿˜æ˜¯æ›´æ–°å‰çš„ã€‚ä¾‹å¦‚ï¼Œä¸»å†…å­˜çš„å˜é‡ <code>a = true</code>ï¼Œçº¿ç¨‹ 1 æ‰§è¡Œ <code>a = false</code> æ—¶ï¼Œå®ƒåœ¨æ­¤åˆ»ä»…ä»…æ˜¯æŠŠå˜é‡ <code>a</code> çš„å‰¯æœ¬å˜æˆäº† <code>false</code>ï¼Œä¸»å†…å­˜çš„å˜é‡ <code>a</code> è¿˜æ˜¯ <code>true</code>ï¼Œåœ¨ JVM æŠŠä¿®æ”¹åçš„ <code>a</code> å›å†™åˆ°ä¸»å†…å­˜ä¹‹å‰ï¼Œå…¶ä»–çº¿ç¨‹è¯»å–åˆ°çš„ <code>a</code> çš„å€¼ä»ç„¶æ˜¯ <code>true</code>ï¼Œè¿™å°±é€ æˆäº†å¤šçº¿ç¨‹ä¹‹é—´å…±äº«çš„å˜é‡ä¸ä¸€è‡´ã€‚</p><p>å› æ­¤ï¼Œ<code>volatile</code> å…³é”®å­—çš„ç›®çš„æ˜¯å‘Šè¯‰è™šæ‹Ÿæœºï¼š</p><ul><li>æ¯æ¬¡è®¿é—®å˜é‡æ—¶ï¼Œæ€»æ˜¯è·å–ä¸»å†…å­˜çš„æœ€æ–°å€¼ï¼›</li><li>æ¯æ¬¡ä¿®æ”¹å˜é‡åï¼Œç«‹åˆ»å›å†™åˆ°ä¸»å†…å­˜ã€‚</li></ul><p><code>volatile</code> å…³é”®å­—è§£å†³çš„æ˜¯å¯è§æ€§é—®é¢˜ï¼šå½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†æŸä¸ªå…±äº«å˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹èƒ½å¤Ÿç«‹åˆ»çœ‹åˆ°ä¿®æ”¹åçš„å€¼ã€‚</p><p>å¦‚æœæˆ‘ä»¬å»æ‰ <code>volatile</code> å…³é”®å­—ï¼Œè¿è¡Œä¸Šè¿°ç¨‹åºï¼Œå‘ç°æ•ˆæœå’Œå¸¦ <code>volatile</code> å·®ä¸å¤šï¼Œè¿™æ˜¯å› ä¸ºåœ¨ x86 çš„æ¶æ„ä¸‹ï¼ŒJVM å›å†™ä¸»å†…å­˜çš„é€Ÿåº¦éå¸¸å¿«ï¼Œä½†æ˜¯ï¼Œæ¢æˆ ARM çš„æ¶æ„ï¼Œå°±ä¼šæœ‰æ˜¾è‘—çš„å»¶è¿Ÿã€‚</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><ul><li>å¯¹ç›®æ ‡çº¿ç¨‹è°ƒç”¨ <code>interrupt()</code> æ–¹æ³•å¯ä»¥è¯·æ±‚ä¸­æ–­ä¸€ä¸ªçº¿ç¨‹ï¼Œç›®æ ‡çº¿ç¨‹é€šè¿‡æ£€æµ‹ <code>isInterrupted()</code> æ ‡å¿—è·å–è‡ªèº«æ˜¯å¦å·²ä¸­æ–­ã€‚å¦‚æœç›®æ ‡çº¿ç¨‹å¤„äºç­‰å¾…çŠ¶æ€ï¼Œè¯¥çº¿ç¨‹ä¼šæ•è·åˆ° <code>InterruptedException</code> ï¼›</li><li>ç›®æ ‡çº¿ç¨‹æ£€æµ‹åˆ° <code>isInterrupted()</code> ä¸º <code>true</code> æˆ–è€…æ•è·äº† <code>InterruptedException</code> éƒ½åº”è¯¥ç«‹åˆ»ç»“æŸè‡ªèº«çº¿ç¨‹ï¼›</li><li>é€šè¿‡æ ‡å¿—ä½åˆ¤æ–­éœ€è¦æ­£ç¡®ä½¿ç”¨ <code>volatile</code> å…³é”®å­—ï¼›</li><li><code>volatile</code> å…³é”®å­—è§£å†³äº†å…±äº«å˜é‡åœ¨çº¿ç¨‹é—´çš„å¯è§æ€§é—®é¢˜ã€‚</li></ul>',23);function b(y,w){const s=t("router-link");return p(),e("div",null,[n("details",k,[r,n("nav",v,[n("ul",null,[n("li",null,[o(s,{to:"#ğŸ€-å°ç»“"},{default:c(()=>[i("ğŸ€ å°ç»“")]),_:1})])])])]),m])}const g=a(d,[["render",b],["__file","4.html.vue"]]);export{g as default};
