import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o,c as l,a as s,b as a,w as e,d as i,e as c}from"./app-CvlAI_tu.js";const u="/VueDoc/assets/20220628101926-DwT28766.png",d="/VueDoc/assets/20220628102009-KVribHUv.png",k={},r={class:"hint-container details"},m=s("summary",null,"ç›®å½•",-1),v={class:"table-of-contents"},g=i(`<p>é™¤äº† <code>int</code> ç­‰åŸºæœ¬ç±»å‹å¤–ï¼ŒJava çš„å…¶ä»–ç±»å‹å…¨éƒ¨éƒ½æ˜¯ <code>class</code> ï¼ˆåŒ…æ‹¬ <code>interface</code> ï¼‰ã€‚ä¾‹å¦‚ï¼š</p><ul><li>String</li><li>Object</li><li>Runnable</li><li>Exception</li><li>...</li></ul><p>ä»”ç»†æ€è€ƒï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š <code>class</code> ï¼ˆåŒ…æ‹¬ <code>interface</code> ï¼‰çš„æœ¬è´¨æ˜¯æ•°æ®ç±»å‹ï¼ˆ <code>Type</code> ï¼‰ã€‚<em>æ— ç»§æ‰¿å…³ç³»çš„æ•°æ®ç±»å‹æ— æ³•èµ‹å€¼</em>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Number</span> n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">123.456</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Double</span><span class="token punctuation">(</span><span class="token number">123.456</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// compile error!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è€Œ <code>class</code> æ˜¯ç”± JVM åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­åŠ¨æ€åŠ è½½çš„ã€‚JVM åœ¨ç¬¬ä¸€æ¬¡è¯»å–åˆ°ä¸€ç§ <code>class</code> ç±»å‹æ—¶ï¼Œå°†å…¶åŠ è½½è¿›å†…å­˜ã€‚</p><p>æ¯åŠ è½½ä¸€ç§ <code>class</code>ï¼ŒJVM å°±ä¸ºå…¶åˆ›å»ºä¸€ä¸ª <code>Class</code> ç±»å‹çš„å®ä¾‹ï¼Œå¹¶å…³è”èµ·æ¥ã€‚</p><div class="hint-container warning"><p class="hint-container-title">æ³¨æ„</p><p>æ³¨æ„ï¼šè¿™é‡Œçš„ <code>Class</code> ç±»å‹æ˜¯ä¸€ä¸ªåå« <code>Class</code> çš„ <code>class</code> ã€‚å®ƒé•¿è¿™æ ·ï¼š</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Class</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Class</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»¥ <code>String</code> ç±»ä¸ºä¾‹ï¼Œå½“ JVM åŠ è½½ <code>String</code> ç±»æ—¶ï¼Œå®ƒé¦–å…ˆè¯»å– <code>String.class</code> æ–‡ä»¶åˆ°å†…å­˜ï¼Œç„¶åï¼Œä¸º <code>String</code> ç±»åˆ›å»ºä¸€ä¸ª <code>Class</code> å®ä¾‹å¹¶å…³è”èµ·æ¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> cls <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Class</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ª <code>Class</code> å®ä¾‹æ˜¯ JVM å†…éƒ¨åˆ›å»ºçš„ï¼Œå¦‚æœæˆ‘ä»¬æŸ¥çœ‹ JDK æºç ï¼Œå¯ä»¥å‘ç° <code>Class</code> ç±»çš„æ„é€ æ–¹æ³•æ˜¯ <code>private</code>ï¼Œ<em>åªæœ‰ JVM èƒ½åˆ›å»º <code>Class</code> å®ä¾‹</em>ï¼Œæˆ‘ä»¬è‡ªå·±çš„ Java ç¨‹åºæ˜¯æ— æ³•åˆ›å»º <code>Class</code> å®ä¾‹çš„ã€‚</p><p>æ‰€ä»¥ï¼ŒJVM æŒæœ‰çš„æ¯ä¸ª <code>Class</code> å®ä¾‹éƒ½æŒ‡å‘ä¸€ä¸ªæ•°æ®ç±»å‹ï¼ˆ <code>class</code> æˆ– <code>interface</code> ï¼‰ï¼š</p><figure><img src="`+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¸€ä¸ª <code>Class</code> å®ä¾‹åŒ…å«äº†è¯¥ class çš„æ‰€æœ‰å®Œæ•´ä¿¡æ¯ï¼š</p><figure><img src="'+d+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç”±äº JVM ä¸ºæ¯ä¸ªåŠ è½½çš„ <code>class</code> åˆ›å»ºäº†å¯¹åº”çš„ <code>Class</code> å®ä¾‹ï¼Œå¹¶åœ¨å®ä¾‹ä¸­ä¿å­˜äº†è¯¥ <code>class</code> çš„æ‰€æœ‰ä¿¡æ¯ï¼ŒåŒ…æ‹¬ <em>ç±»å</em>ã€<em>åŒ…å</em>ã€<em>çˆ¶ç±»</em>ã€<em>å®ç°çš„æ¥å£</em>ã€<em>æ‰€æœ‰æ–¹æ³•</em>ã€<em>å­—æ®µ</em> ç­‰ï¼Œå› æ­¤ï¼Œå¦‚æœè·å–äº†æŸä¸ª <code>Class</code> å®ä¾‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¿™ä¸ª <code>Class</code> å®ä¾‹è·å–åˆ°è¯¥å®ä¾‹å¯¹åº”çš„ <code>class</code> çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p><blockquote><p>[!important] &gt; <em>è¿™ç§é€šè¿‡ <code>Class</code> å®ä¾‹è·å– <code>class</code> ä¿¡æ¯çš„æ–¹æ³•ç§°ä¸ºåå°„ï¼ˆ Reflection ï¼‰</em>ã€‚</p></blockquote><h2 id="ğŸ€-å¦‚ä½•è·å–ä¸€ä¸ª-class-çš„-class-å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å¦‚ä½•è·å–ä¸€ä¸ª-class-çš„-class-å®ä¾‹" aria-hidden="true">#</a> ğŸ€ å¦‚ä½•è·å–ä¸€ä¸ª <code>class</code> çš„ <code>Class</code> å®ä¾‹ï¼Ÿ</h2><p>æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼š</p><h3 id="æ–¹æ³•ä¸€" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•ä¸€" aria-hidden="true">#</a> æ–¹æ³•ä¸€ï¼š</h3><p>ç›´æ¥é€šè¿‡ä¸€ä¸ª <code>class</code> çš„é™æ€å˜é‡ <code>class</code> è·å–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> cls <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ğŸŒ¸-æ–¹æ³•äºŒ" tabindex="-1"><a class="header-anchor" href="#ğŸŒ¸-æ–¹æ³•äºŒ" aria-hidden="true">#</a> ğŸŒ¸ æ–¹æ³•äºŒï¼š</h3><p>å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå®ä¾‹å˜é‡ï¼Œå¯ä»¥é€šè¿‡è¯¥å®ä¾‹å˜é‡æä¾›çš„ <code>getClass()</code> æ–¹æ³•è·å–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Class</span> cls <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ–¹æ³•ä¸‰" tabindex="-1"><a class="header-anchor" href="#æ–¹æ³•ä¸‰" aria-hidden="true">#</a> æ–¹æ³•ä¸‰ï¼š</h3><p>å¦‚æœçŸ¥é“ä¸€ä¸ª <code>class</code> çš„å®Œæ•´ç±»åï¼Œå¯ä»¥é€šè¿‡é™æ€æ–¹æ³• <code>Class.forName()</code> è·å–ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> cls <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;java.lang.String&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å› ä¸º <code>Class</code> å®ä¾‹åœ¨ JVM ä¸­æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥ï¼Œä¸Šè¿°æ–¹æ³•è·å–çš„ <code>Class</code> å®ä¾‹æ˜¯åŒä¸€ä¸ªå®ä¾‹ã€‚å¯ä»¥ç”¨ <code>==</code> æ¯”è¾ƒä¸¤ä¸ª <code>Class</code> å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Class</span> cls1 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>

<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Class</span> cls2 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">boolean</span> sameClass <span class="token operator">=</span> cls1 <span class="token operator">==</span> cls2<span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä¸€ä¸‹ <code>Class</code> å®ä¾‹æ¯”è¾ƒå’Œ <code>instanceof</code> çš„å·®åˆ«ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span> n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">boolean</span> b1 <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Integer</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼Œå› ä¸º n æ˜¯ Integer ç±»å‹</span>
<span class="token keyword">boolean</span> b2 <span class="token operator">=</span> n <span class="token keyword">instanceof</span> <span class="token class-name">Number</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼Œå› ä¸º n æ˜¯ Number ç±»å‹çš„å­ç±»</span>

<span class="token keyword">boolean</span> b3 <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span> <span class="token comment">// trueï¼Œå› ä¸º n.getClass() è¿”å› Integer.class</span>
<span class="token keyword">boolean</span> b4 <span class="token operator">=</span> n<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Number</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span> <span class="token comment">// falseï¼Œå› ä¸º Integer.class!=Number.class</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><em>ç”¨ <code>instanceof</code> ä¸ä½†åŒ¹é…æŒ‡å®šç±»å‹ï¼Œè¿˜åŒ¹é…æŒ‡å®šç±»å‹çš„å­ç±»ã€‚</em></strong> è€Œç”¨ <code>==</code> åˆ¤æ–­ <code>class</code> å®ä¾‹å¯ä»¥ç²¾ç¡®åœ°åˆ¤æ–­æ•°æ®ç±»å‹ï¼Œä½†ä¸èƒ½ä½œå­ç±»å‹æ¯”è¾ƒã€‚</p><p><u>é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åº”è¯¥ç”¨ <code>instanceof</code> åˆ¤æ–­æ•°æ®ç±»å‹</u>ï¼Œå› ä¸ºé¢å‘æŠ½è±¡ç¼–ç¨‹çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¸å…³å¿ƒå…·ä½“çš„å­ç±»å‹ã€‚åªæœ‰åœ¨éœ€è¦ç²¾ç¡®åˆ¤æ–­ä¸€ä¸ªç±»å‹æ˜¯ä¸æ˜¯æŸä¸ª <code>class</code> çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰ä½¿ç”¨ <code>==</code> åˆ¤æ–­ <code>class</code> å®ä¾‹ã€‚</p><p>å› ä¸ºåå°„çš„ç›®çš„æ˜¯ä¸ºäº†è·å¾—æŸä¸ªå®ä¾‹çš„ä¿¡æ¯ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬æ‹¿åˆ°æŸä¸ª <code>Object</code> å®ä¾‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„è·å–è¯¥ <code>Object</code> çš„ <code>class</code> ä¿¡æ¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">printObjectInfo</span><span class="token punctuation">(</span><span class="token class-name">Object</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Class</span> cls <span class="token operator">=</span> obj<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦ä» <code>Class</code> å®ä¾‹è·å–çš„åŸºæœ¬ä¿¡æ¯ï¼Œå‚è€ƒä¸‹é¢çš„ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span>Month</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printClassInfo</span><span class="token punctuation">(</span><span class="token class-name">Class</span> cls<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Class name:&quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Simple name:&quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cls<span class="token punctuation">.</span><span class="token function">getPackage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Package name:&quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">getPackage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;is interface:&quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">isInterface</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;is enum:&quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">isEnum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;is array:&quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;is primitive:&quot;</span> <span class="token operator">+</span> cls<span class="token punctuation">.</span><span class="token function">isPrimitive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„åˆ°æ•°ç»„ï¼ˆä¾‹å¦‚ <code>String[]</code> ï¼‰ä¹Ÿæ˜¯ä¸€ç§ç±»ï¼Œè€Œä¸”ä¸åŒäº <code>String.class</code>ï¼Œå®ƒçš„ç±»åæ˜¯ <code>[Ljava.lang.String;</code> ã€‚æ­¤å¤–ï¼ŒJVM ä¸ºæ¯ä¸€ç§åŸºæœ¬ç±»å‹å¦‚ <code>int</code> ä¹Ÿåˆ›å»ºäº† <code>Class</code> å®ä¾‹ï¼Œé€šè¿‡ <code>int.class</code> è®¿é—®ã€‚</p><p>å¦‚æœè·å–åˆ°äº†ä¸€ä¸ª <code>Class</code> å®ä¾‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡è¯¥ <code>Class</code> å®ä¾‹æ¥åˆ›å»ºå¯¹åº”ç±»å‹çš„å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// è·å– String çš„ Class å®ä¾‹:</span>
<span class="token class-name">Class</span> cls <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
<span class="token comment">// åˆ›å»ºä¸€ä¸ª String å®ä¾‹:</span>
<span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> cls<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç ç›¸å½“äº <code>new String()</code> ã€‚</p><blockquote><p>é€šè¿‡ <code>Class.newInstance()</code> å¯ä»¥åˆ›å»ºç±»å®ä¾‹ï¼Œå®ƒçš„å±€é™æ˜¯ï¼šåªèƒ½è°ƒç”¨ <code>public</code> çš„æ— å‚æ•°æ„é€ æ–¹æ³•ã€‚å¸¦å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œæˆ–è€…é <code>public</code> çš„æ„é€ æ–¹æ³•éƒ½æ— æ³•é€šè¿‡ <code>Class.newInstance()</code> è¢«è°ƒç”¨ã€‚</p></blockquote><h2 id="ğŸ€-åŠ¨æ€åŠ è½½" tabindex="-1"><a class="header-anchor" href="#ğŸ€-åŠ¨æ€åŠ è½½" aria-hidden="true">#</a> ğŸ€ åŠ¨æ€åŠ è½½</h2><p>JVM åœ¨æ‰§è¡Œ Java ç¨‹åºçš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯ä¸€æ¬¡æ€§æŠŠæ‰€æœ‰ç”¨åˆ°çš„ class å…¨éƒ¨åŠ è½½åˆ°å†…å­˜ï¼Œè€Œæ˜¯ç¬¬ä¸€æ¬¡éœ€è¦ç”¨åˆ° class æ—¶æ‰åŠ è½½ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length<span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">create</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>å½“æ‰§è¡Œ <code>Main.java</code> æ—¶ï¼Œç”±äºç”¨åˆ°äº† <code>Main</code>ï¼Œå› æ­¤ï¼ŒJVM é¦–å…ˆä¼šæŠŠ <code>Main.class</code> åŠ è½½åˆ°å†…å­˜ã€‚ç„¶è€Œï¼Œå¹¶ä¸ä¼šåŠ è½½ <code>Person.class</code>ï¼Œé™¤éç¨‹åºæ‰§è¡Œåˆ° <code>create()</code> æ–¹æ³•ï¼ŒJVM å‘ç°éœ€è¦åŠ è½½ <code>Person</code> ç±»æ—¶ï¼Œæ‰ä¼šé¦–æ¬¡åŠ è½½ <code>Person.class</code> ã€‚å¦‚æœæ²¡æœ‰æ‰§è¡Œ <code>create()</code> æ–¹æ³•ï¼Œé‚£ä¹ˆ <code>Person.class</code> æ ¹æœ¬å°±ä¸ä¼šè¢«åŠ è½½ã€‚</p></div><p>è¿™å°±æ˜¯ JVM åŠ¨æ€åŠ è½½ <code>class</code> çš„ç‰¹æ€§ã€‚</p><p>åŠ¨æ€åŠ è½½ <code>class</code> çš„ç‰¹æ€§å¯¹äº Java ç¨‹åºéå¸¸é‡è¦ã€‚åˆ©ç”¨ JVM åŠ¨æ€åŠ è½½ <code>class</code> çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬æ‰èƒ½ <strong><em>åœ¨è¿è¡ŒæœŸæ ¹æ®æ¡ä»¶åŠ è½½ä¸åŒçš„å®ç°ç±»</em></strong> ã€‚</p><blockquote><p>ä¾‹å¦‚ï¼ŒCommons Logging æ€»æ˜¯ä¼˜å…ˆä½¿ç”¨ Log4j ï¼Œåªæœ‰å½“ Log4j ä¸å­˜åœ¨æ—¶ï¼Œæ‰ä½¿ç”¨ JDK çš„ logging ã€‚</p></blockquote><p>åˆ©ç”¨ JVM åŠ¨æ€åŠ è½½ç‰¹æ€§ï¼Œå¤§è‡´çš„å®ç°ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Commons Logging ä¼˜å…ˆä½¿ç”¨ Log4j:</span>
<span class="token class-name">LogFactory</span> factory <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isClassPresent</span><span class="token punctuation">(</span><span class="token string">&quot;org.apache.logging.log4j.Logger&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    factory <span class="token operator">=</span> <span class="token function">createLog4j</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    factory <span class="token operator">=</span> <span class="token function">createJdkLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">boolean</span> <span class="token function">isClassPresent</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åªéœ€è¦æŠŠ Log4j çš„ jar åŒ…æ”¾åˆ° classpath ä¸­ï¼ŒCommons Logging å°±ä¼šè‡ªåŠ¨ä½¿ç”¨ Log4j çš„åŸå› ã€‚</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><ul><li>JVM ä¸ºæ¯ä¸ªåŠ è½½çš„ <code>class</code> åŠ <code>interface</code> åˆ›å»ºäº†å¯¹åº”çš„ <code>Class</code> å®ä¾‹æ¥ä¿å­˜ <code>class</code> åŠ <code>interface</code> çš„æ‰€æœ‰ä¿¡æ¯ï¼›</li><li>è·å–ä¸€ä¸ª <code>class</code> å¯¹åº”çš„ <code>Class</code> å®ä¾‹åï¼Œå°±å¯ä»¥è·å–è¯¥ <code>class</code> çš„æ‰€æœ‰ä¿¡æ¯ï¼›</li><li>é€šè¿‡ <code>Class</code> å®ä¾‹è·å– <code>class</code> ä¿¡æ¯çš„æ–¹æ³•ç§°ä¸ºåå°„ï¼ˆ Reflection ï¼‰ï¼›</li><li>JVM æ€»æ˜¯åŠ¨æ€åŠ è½½ <code>class</code>ï¼Œå¯ä»¥åœ¨è¿è¡ŒæœŸæ ¹æ®æ¡ä»¶æ¥æ§åˆ¶åŠ è½½ <code>class</code> ã€‚</li></ul>`,55);function b(f,y){const n=p("router-link");return o(),l("div",null,[s("details",r,[m,s("nav",v,[s("ul",null,[s("li",null,[a(n,{to:"#ğŸ€-å¦‚ä½•è·å–ä¸€ä¸ª-class-çš„-class-å®ä¾‹"},{default:e(()=>[c("ğŸ€ å¦‚ä½•è·å–ä¸€ä¸ª class çš„ Class å®ä¾‹ï¼Ÿ")]),_:1}),s("ul",null,[s("li",null,[a(n,{to:"#æ–¹æ³•ä¸€"},{default:e(()=>[c("æ–¹æ³•ä¸€ï¼š")]),_:1})]),s("li",null,[a(n,{to:"#ğŸŒ¸-æ–¹æ³•äºŒ"},{default:e(()=>[c("ğŸŒ¸ æ–¹æ³•äºŒï¼š")]),_:1})]),s("li",null,[a(n,{to:"#æ–¹æ³•ä¸‰"},{default:e(()=>[c("æ–¹æ³•ä¸‰ï¼š")]),_:1})])])]),s("li",null,[a(n,{to:"#ğŸ€-åŠ¨æ€åŠ è½½"},{default:e(()=>[c("ğŸ€ åŠ¨æ€åŠ è½½")]),_:1})]),s("li",null,[a(n,{to:"#ğŸ€-å°ç»“"},{default:e(()=>[c("ğŸ€ å°ç»“")]),_:1})])])])]),g])}const w=t(k,[["render",b],["__file","1.html.vue"]]);export{w as default};
