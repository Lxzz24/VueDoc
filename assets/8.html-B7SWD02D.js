import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as c,c as r,a,b as s,w as e,d as l,e as t}from"./app-CvlAI_tu.js";const i={},u={class:"hint-container details"},d=a("summary",null,"ç›®å½•",-1),k={class:"table-of-contents"},m=l(`<p>Reader æ˜¯ Java çš„ IO åº“æä¾›çš„å¦ä¸€ä¸ªè¾“å…¥æµæ¥å£ã€‚å’Œ InputStream çš„åŒºåˆ«æ˜¯ï¼ŒInputStream æ˜¯ä¸€ä¸ªå­—èŠ‚æµï¼Œå³ä»¥ byte ä¸ºå•ä½è¯»å–ï¼Œè€Œ Reader æ˜¯ä¸€ä¸ªå­—ç¬¦æµï¼Œå³ä»¥ char ä¸ºå•ä½è¯»å–ï¼š</p><table><thead><tr><th>InputStream</th><th>Reader</th></tr></thead><tbody><tr><td>å­—èŠ‚æµï¼Œä»¥ byte ä¸ºå•ä½</td><td>å­—ç¬¦æµï¼Œä»¥ char ä¸ºå•ä½</td></tr><tr><td>è¯»å–å­—èŠ‚ï¼ˆ-1ï¼Œ0~255ï¼‰ï¼šint read()</td><td>è¯»å–å­—ç¬¦ï¼ˆ-1ï¼Œ0~65535ï¼‰ï¼šint read()</td></tr><tr><td>è¯»åˆ°å­—èŠ‚æ•°ç»„ï¼šint read(byte[] b)</td><td>è¯»åˆ°å­—ç¬¦æ•°ç»„ï¼šint read(char[] c)</td></tr></tbody></table><p>java.io.Reader æ˜¯æ‰€æœ‰å­—ç¬¦è¾“å…¥æµçš„è¶…ç±»ï¼Œå®ƒæœ€ä¸»è¦çš„æ–¹æ³•æ˜¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ªæ–¹æ³•è¯»å–å­—ç¬¦æµçš„ä¸‹ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶è¿”å›å­—ç¬¦è¡¨ç¤ºçš„ intï¼ŒèŒƒå›´æ˜¯ 0~65535ã€‚å¦‚æœå·²è¯»åˆ°æœ«å°¾ï¼Œè¿”å› - 1ã€‚</p><h2 id="ğŸ€-filereader" tabindex="-1"><a class="header-anchor" href="#ğŸ€-filereader" aria-hidden="true">#</a> ğŸ€ FileReader</h2><p>FileReader æ˜¯ Reader çš„ä¸€ä¸ªå­ç±»ï¼Œå®ƒå¯ä»¥æ‰“å¼€æ–‡ä»¶å¹¶è·å– Readerã€‚ä¸‹é¢çš„ä»£ç æ¼”ç¤ºäº†å¦‚ä½•å®Œæ•´åœ°è¯»å–ä¸€ä¸ª FileReader çš„æ‰€æœ‰å­—ç¬¦ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆ›å»ºä¸€ä¸ª FileReader å¯¹è±¡:</span>
    <span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;src/readme.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å­—ç¬¦ç¼–ç æ˜¯???</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åå¤è°ƒç”¨ read() æ–¹æ³•ï¼Œç›´åˆ°è¿”å› - 1</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“å° char</span>
    <span class="token punctuation">}</span>
    reader<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å…³é—­æµ</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬è¯»å–ä¸€ä¸ªçº¯ ASCII ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ï¼Œä¸Šè¿°ä»£ç å·¥ä½œæ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†å¦‚æœæ–‡ä»¶ä¸­åŒ…å«ä¸­æ–‡ï¼Œå°±ä¼šå‡ºç°ä¹±ç ï¼Œå› ä¸º FileReader é»˜è®¤çš„ç¼–ç ä¸ç³»ç»Ÿç›¸å…³ï¼Œä¾‹å¦‚ï¼ŒWindows ç³»ç»Ÿçš„é»˜è®¤ç¼–ç å¯èƒ½æ˜¯ GBKï¼Œæ‰“å¼€ä¸€ä¸ª UTF-8 ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶å°±ä¼šå‡ºç°ä¹±ç ã€‚</p><p>è¦é¿å…ä¹±ç é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆ›å»º FileReader æ—¶æŒ‡å®šç¼–ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;src/readme.txt&quot;</span><span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å’Œ InputStream ç±»ä¼¼ï¼ŒReader ä¹Ÿæ˜¯ä¸€ç§èµ„æºï¼Œéœ€è¦ä¿è¯å‡ºé”™çš„æ—¶å€™ä¹Ÿèƒ½æ­£ç¡®å…³é—­ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç”¨ try (resource) æ¥ä¿è¯ Reader åœ¨æ— è®ºæœ‰æ²¡æœ‰ IO é”™è¯¯çš„æ—¶å€™éƒ½èƒ½å¤Ÿæ­£ç¡®åœ°å…³é—­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;src/readme.txt&quot;</span><span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Reader è¿˜æä¾›äº†ä¸€æ¬¡æ€§è¯»å–è‹¥å¹²å­—ç¬¦å¹¶å¡«å……åˆ° char[] æ•°ç»„çš„æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> c<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å®ƒè¿”å›å®é™…è¯»å…¥çš„å­—ç¬¦ä¸ªæ•°ï¼Œæœ€å¤§ä¸è¶…è¿‡ char[] æ•°ç»„çš„é•¿åº¦ã€‚è¿”å› - 1 è¡¨ç¤ºæµç»“æŸã€‚</p><p>åˆ©ç”¨è¿™ä¸ªæ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆè®¾ç½®ä¸€ä¸ªç¼“å†²åŒºï¼Œç„¶åï¼Œæ¯æ¬¡å°½å¯èƒ½åœ°å¡«å……ç¼“å†²åŒºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">readFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">&quot;src/readme.txt&quot;</span><span class="token punctuation">,</span> <span class="token class-name">StandardCharsets</span><span class="token punctuation">.</span><span class="token constant">UTF_8</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> buffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>buffer<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;read&quot;</span> <span class="token operator">+</span> n <span class="token operator">+</span> <span class="token string">&quot;chars.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ€-chararrayreader" tabindex="-1"><a class="header-anchor" href="#ğŸ€-chararrayreader" aria-hidden="true">#</a> ğŸ€ CharArrayReader</h2><p>CharArrayReader å¯ä»¥åœ¨å†…å­˜ä¸­æ¨¡æ‹Ÿä¸€ä¸ª Readerï¼Œå®ƒçš„ä½œç”¨å®é™…ä¸Šæ˜¯æŠŠä¸€ä¸ª char[] æ•°ç»„å˜æˆä¸€ä¸ª Readerï¼Œè¿™å’Œ ByteArrayInputStream éå¸¸ç±»ä¼¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CharArrayReader</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ€-stringreader" tabindex="-1"><a class="header-anchor" href="#ğŸ€-stringreader" aria-hidden="true">#</a> ğŸ€ StringReader</h2><p>StringReader å¯ä»¥ç›´æ¥æŠŠ String ä½œä¸ºæ•°æ®æºï¼Œå®ƒå’Œ CharArrayReader å‡ ä¹ä¸€æ ·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ€-inputstreamreader" tabindex="-1"><a class="header-anchor" href="#ğŸ€-inputstreamreader" aria-hidden="true">#</a> ğŸ€ InputStreamReader</h2><p>Reader å’Œ InputStream æœ‰ä»€ä¹ˆå…³ç³»ï¼Ÿ</p><p>é™¤äº†ç‰¹æ®Šçš„ CharArrayReader å’Œ StringReaderï¼Œæ™®é€šçš„ Reader å®é™…ä¸Šæ˜¯åŸºäº InputStream æ„é€ çš„ï¼Œå› ä¸º Reader éœ€è¦ä» InputStream ä¸­è¯»å…¥å­—èŠ‚æµï¼ˆbyteï¼‰ï¼Œç„¶åï¼Œæ ¹æ®ç¼–ç è®¾ç½®ï¼Œå†è½¬æ¢ä¸º char å°±å¯ä»¥å®ç°å­—ç¬¦æµã€‚å¦‚æœæˆ‘ä»¬æŸ¥çœ‹ FileReader çš„æºç ï¼Œå®ƒåœ¨å†…éƒ¨å®é™…ä¸ŠæŒæœ‰ä¸€ä¸ª FileInputStreamã€‚</p><p>æ—¢ç„¶ Reader æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªåŸºäº InputStream çš„ byte åˆ° char çš„è½¬æ¢å™¨ï¼Œé‚£ä¹ˆï¼Œå¦‚æœæˆ‘ä»¬å·²ç»æœ‰ä¸€ä¸ª InputStreamï¼Œæƒ³æŠŠå®ƒè½¬æ¢ä¸º Readerï¼Œæ˜¯å®Œå…¨å¯è¡Œçš„ã€‚InputStreamReader å°±æ˜¯è¿™æ ·ä¸€ä¸ªè½¬æ¢å™¨ï¼Œå®ƒå¯ä»¥æŠŠä»»ä½• InputStream è½¬æ¢ä¸º Readerã€‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æŒæœ‰ InputStream:</span>
<span class="token class-name">InputStream</span> input <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src/readme.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å˜æ¢ä¸º Reader:</span>
<span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ„é€  InputStreamReader æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¼ å…¥ InputStreamï¼Œè¿˜éœ€è¦æŒ‡å®šç¼–ç ï¼Œå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ª Reader å¯¹è±¡ã€‚ä¸Šè¿°ä»£ç å¯ä»¥é€šè¿‡ try (resource) æ›´ç®€æ´åœ°æ”¹å†™å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">&quot;src/readme.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO:</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç å®é™…ä¸Šå°±æ˜¯ FileReader çš„ä¸€ç§å®ç°æ–¹å¼ã€‚</p><p>ä½¿ç”¨ try (resource) ç»“æ„æ—¶ï¼Œå½“æˆ‘ä»¬å…³é—­ Reader æ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨è‡ªåŠ¨è°ƒç”¨ InputStream çš„ close() æ–¹æ³•ï¼Œæ‰€ä»¥ï¼Œåªéœ€è¦å…³é—­æœ€å¤–å±‚çš„ Reader å¯¹è±¡å³å¯ã€‚</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>ä½¿ç”¨ InputStreamReaderï¼Œå¯ä»¥æŠŠä¸€ä¸ª InputStream è½¬æ¢æˆä¸€ä¸ª Readerã€‚</p></div><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>Reader å®šä¹‰äº†æ‰€æœ‰å­—ç¬¦è¾“å…¥æµçš„è¶…ç±»ï¼š</p><ul><li>FileReader å®ç°äº†æ–‡ä»¶å­—ç¬¦æµè¾“å…¥ï¼Œä½¿ç”¨æ—¶éœ€è¦æŒ‡å®šç¼–ç ï¼›</li><li>CharArrayReader å’Œ StringReader å¯ä»¥åœ¨å†…å­˜ä¸­æ¨¡æ‹Ÿä¸€ä¸ªå­—ç¬¦æµè¾“å…¥ã€‚</li></ul><p>Reader æ˜¯åŸºäº InputStream æ„é€ çš„ï¼šå¯ä»¥é€šè¿‡ InputStreamReader åœ¨æŒ‡å®šç¼–ç çš„åŒæ—¶å°†ä»»ä½• InputStream è½¬æ¢ä¸º Readerã€‚</p><p>æ€»æ˜¯ä½¿ç”¨ try (resource) ä¿è¯ Reader æ­£ç¡®å…³é—­ã€‚</p>`,39);function v(h,b){const n=o("router-link");return c(),r("div",null,[a("details",u,[d,a("nav",k,[a("ul",null,[a("li",null,[s(n,{to:"#ğŸ€-filereader"},{default:e(()=>[t("ğŸ€ FileReader")]),_:1})]),a("li",null,[s(n,{to:"#ğŸ€-chararrayreader"},{default:e(()=>[t("ğŸ€ CharArrayReader")]),_:1})]),a("li",null,[s(n,{to:"#ğŸ€-stringreader"},{default:e(()=>[t("ğŸ€ StringReader")]),_:1})]),a("li",null,[s(n,{to:"#ğŸ€-inputstreamreader"},{default:e(()=>[t("ğŸ€ InputStreamReader")]),_:1})]),a("li",null,[s(n,{to:"#ğŸ€-å°ç»“"},{default:e(()=>[t("ğŸ€ å°ç»“")]),_:1})])])])]),m])}const g=p(i,[["render",v],["__file","8.html.vue"]]);export{g as default};
