import{_ as l}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as c,o as i,c as u,a as n,b as s,w as o,e as a,d as e}from"./app-CvlAI_tu.js";const r="/VueDoc/assets/image-20231220145829230-wbf5Isut.png",d="/VueDoc/assets/image-20231220150039554-52XB7-Gg.png",k="/VueDoc/assets/l-20231220145758938-BtvjFc1j.jpeg",v={},g={class:"hint-container details"},m=n("summary",null,"ç›®å½•",-1),h={class:"table-of-contents"},b=e('<p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°ï¼Œç¼–å†™ HTTP æœåŠ¡å™¨å…¶å®æ˜¯éå¸¸ç®€å•çš„ï¼Œåªéœ€è¦å…ˆç¼–å†™åŸºäºå¤šçº¿ç¨‹çš„ TCP æœåŠ¡ï¼Œç„¶ååœ¨ä¸€ä¸ª TCP è¿æ¥ä¸­è¯»å– HTTP è¯·æ±‚ï¼Œå‘é€ HTTP å“åº”å³å¯ã€‚</p><p>ä½†æ˜¯ï¼Œè¦ç¼–å†™ä¸€ä¸ªå®Œå–„çš„ HTTP æœåŠ¡å™¨ï¼Œä»¥ HTTP/1.1 ä¸ºä¾‹ï¼Œéœ€è¦è€ƒè™‘çš„åŒ…æ‹¬ï¼š</p><ul><li>è¯†åˆ«æ­£ç¡®å’Œé”™è¯¯çš„ HTTP è¯·æ±‚ï¼›</li><li>è¯†åˆ«æ­£ç¡®å’Œé”™è¯¯çš„ HTTP å¤´ï¼›</li><li>å¤ç”¨ TCP è¿æ¥ï¼›</li><li>å¤ç”¨çº¿ç¨‹ï¼›</li><li>IO å¼‚å¸¸å¤„ç†ï¼›</li><li>...</li></ul><p>è¿™äº›åŸºç¡€å·¥ä½œéœ€è¦è€—è´¹å¤§é‡çš„æ—¶é—´ï¼Œå¹¶ä¸”ç»è¿‡é•¿æœŸæµ‹è¯•æ‰èƒ½ç¨³å®šè¿è¡Œã€‚å¦‚æœæˆ‘ä»¬åªéœ€è¦è¾“å‡ºä¸€ä¸ªç®€å•çš„ HTML é¡µé¢ï¼Œå°±ä¸å¾—ä¸ç¼–å†™ä¸Šåƒè¡Œåº•å±‚ä»£ç ï¼Œé‚£å°±æ ¹æœ¬æ— æ³•åšåˆ°é«˜æ•ˆè€Œå¯é åœ°å¼€å‘ã€‚</p><p>å› æ­¤ï¼Œåœ¨ JavaEE å¹³å°ä¸Šï¼Œå¤„ç† TCP è¿æ¥ï¼Œè§£æ HTTP åè®®è¿™äº›åº•å±‚å·¥ä½œç»Ÿç»Ÿæ‰”ç»™ç°æˆçš„ Web æœåŠ¡å™¨å»åšï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠè‡ªå·±çš„åº”ç”¨ç¨‹åºè·‘åœ¨ Web æœåŠ¡å™¨ä¸Šã€‚ä¸ºäº†å®ç°è¿™ä¸€ç›®çš„ï¼ŒJavaEE æä¾›äº† Servlet APIï¼Œæˆ‘ä»¬ä½¿ç”¨ Servlet API ç¼–å†™è‡ªå·±çš„ Servlet æ¥å¤„ç† HTTP è¯·æ±‚ï¼ŒWeb æœåŠ¡å™¨å®ç° Servlet API æ¥å£ï¼Œå®ç°åº•å±‚åŠŸèƒ½ï¼š</p><figure><img src="'+r+`" alt="image-20231220145829230" tabindex="0" loading="lazy"><figcaption>image-20231220145829230</figcaption></figure><p>æˆ‘ä»¬æ¥å®ç°ä¸€ä¸ªæœ€ç®€å•çš„ Servletï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// WebServlet æ³¨è§£è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ª Servletï¼Œå¹¶æ˜ å°„åˆ°åœ°å€ /:</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span>
            <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// è®¾ç½®å“åº”ç±»å‹:</span>
        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–è¾“å‡ºæµ:</span>
        <span class="token class-name">PrintWriter</span> pw <span class="token operator">=</span> resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å†™å…¥å“åº”:</span>
        pw<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;h1&gt;Hello, world!&lt;/h1&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æœ€åä¸è¦å¿˜è®° flush å¼ºåˆ¶è¾“å‡º:</span>
        pw<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸€ä¸ª Servlet æ€»æ˜¯ç»§æ‰¿è‡ª <code>HttpServlet</code>ï¼Œç„¶åè¦†å†™ <code>doGet()</code> æˆ– <code>doPost()</code> æ–¹æ³•ã€‚æ³¨æ„åˆ° <code>doGet()</code> æ–¹æ³•ä¼ å…¥äº† <code>HttpServletRequest</code> å’Œ <code>HttpServletResponse</code> ä¸¤ä¸ªå¯¹è±¡ï¼Œåˆ†åˆ«ä»£è¡¨ HTTP è¯·æ±‚å’Œå“åº”ã€‚æˆ‘ä»¬ä½¿ç”¨ Servlet API æ—¶ï¼Œå¹¶ä¸ç›´æ¥ä¸åº•å±‚ TCP äº¤äº’ï¼Œä¹Ÿä¸éœ€è¦è§£æ HTTP åè®®ï¼Œå› ä¸º <code>HttpServletRequest</code> å’Œ <code>HttpServletResponse</code> å°±å·²ç»å°è£…å¥½äº†è¯·æ±‚å’Œå“åº”ã€‚ä»¥å‘é€å“åº”ä¸ºä¾‹ï¼Œæˆ‘ä»¬åªéœ€è¦è®¾ç½®æ­£ç¡®çš„å“åº”ç±»å‹ï¼Œç„¶åè·å– <code>PrintWriter</code>ï¼Œå†™å…¥å“åº”å³å¯ã€‚</p><p>ç°åœ¨é—®é¢˜æ¥äº†ï¼šServlet API æ˜¯è°æä¾›ï¼Ÿ</p><p>Servlet API æ˜¯ä¸€ä¸ª jar åŒ…ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ Maven æ¥å¼•å…¥å®ƒï¼Œæ‰èƒ½æ­£å¸¸ç¼–è¯‘ã€‚ç¼–å†™ <code>pom.xml</code> æ–‡ä»¶å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.itranswarp.learnjava<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>web-servlet-hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.reporting.outputEncoding</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.version</span><span class="token punctuation">&gt;</span></span>17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>java.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jakarta.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jakarta.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„åˆ°è¿™ä¸ª <code>pom.xml</code> ä¸å‰é¢æˆ‘ä»¬è®²åˆ°çš„æ™®é€š Java ç¨‹åºæœ‰ä¸ªåŒºåˆ«ï¼Œæ‰“åŒ…ç±»å‹ä¸æ˜¯ <code>jar</code>ï¼Œè€Œæ˜¯ <code>war</code>ï¼Œè¡¨ç¤º Java Web Application Archiveï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¼•å…¥çš„ Servlet API å¦‚ä¸‹ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jakarta.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jakarta.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„åˆ° <code>&lt;scope&gt;</code> æŒ‡å®šä¸º <code>provided</code>ï¼Œè¡¨ç¤ºç¼–è¯‘æ—¶ä½¿ç”¨ï¼Œä½†ä¸ä¼šæ‰“åŒ…åˆ° <code>.war</code> æ–‡ä»¶ä¸­ï¼Œå› ä¸ºè¿è¡ŒæœŸ Web æœåŠ¡å™¨æœ¬èº«å·²ç»æä¾›äº† Servlet API ç›¸å…³çš„ jar åŒ…ã€‚</p><h2 id="ğŸ€-servlet-ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#ğŸ€-servlet-ç‰ˆæœ¬" aria-hidden="true">#</a> ğŸ€ Servlet ç‰ˆæœ¬</h2><p>è¦åŠ¡å¿…æ³¨æ„ <code>servlet-api</code> çš„ç‰ˆæœ¬ã€‚4.0 åŠä¹‹å‰çš„ <code>servlet-api</code> ç”± Oracle å®˜æ–¹ç»´æŠ¤ï¼Œå¼•å…¥çš„ä¾èµ–é¡¹æ˜¯ <code>javax.servlet:javax.servlet-api</code>ï¼Œç¼–å†™ä»£ç æ—¶å¼•å…¥çš„åŒ…åä¸ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è€Œ 5.0 åŠä»¥åçš„ <code>servlet-api</code> ç”± Eclipse å¼€æºç¤¾åŒºç»´æŠ¤ï¼Œå¼•å…¥çš„ä¾èµ–é¡¹æ˜¯ <code>jakarta.servlet:jakarta.servlet-api</code>ï¼Œç¼–å†™ä»£ç æ—¶å¼•å…¥çš„åŒ…åä¸ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ•™ç¨‹é‡‡ç”¨æœ€æ–°çš„ <code>jakarta.servlet:5.0.0</code> ç‰ˆæœ¬ï¼Œä½†å¯¹äºå¾ˆå¤šä»…æ”¯æŒ Servlet 4.0 ç‰ˆæœ¬çš„æ¡†æ¶æ¥è¯´ï¼Œä¾‹å¦‚ Spring 5ï¼Œæˆ‘ä»¬å°±åªèƒ½ä½¿ç”¨ <code>javax.servlet:4.0.0</code> ç‰ˆæœ¬ï¼Œè¿™ä¸€ç‚¹é’ˆå¯¹ä¸åŒé¡¹ç›®è¦ç‰¹åˆ«æ³¨æ„ã€‚</p><div class="hint-container caution"><p class="hint-container-title">è­¦å‘Š</p><p>å¼•å…¥ä¸åŒçš„ Servlet API ç‰ˆæœ¬ï¼Œç¼–å†™ä»£ç æ—¶å¯¼å…¥çš„ç›¸å…³ API çš„åŒ…åæ˜¯ä¸åŒçš„ã€‚</p></div><p>æ•´ä¸ªå·¥ç¨‹ç»“æ„å¦‚ä¸‹ï¼š</p><figure><img src="`+d+'" alt="image-20231220150039554" tabindex="0" loading="lazy"><figcaption>image-20231220150039554</figcaption></figure><p>ç›®å½• <code>webapp</code> ç›®å‰ä¸ºç©ºï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å­˜æ”¾ä¸€äº›èµ„æºæ–‡ä»¶ï¼Œåˆ™éœ€è¦æ”¾å…¥è¯¥ç›®å½•ã€‚æœ‰çš„åŒå­¦å¯èƒ½ä¼šé—®ï¼Œ<code>webapp</code> ç›®å½•ä¸‹æ˜¯å¦éœ€è¦ä¸€ä¸ª <code>/WEB-INF/web.xml</code> é…ç½®æ–‡ä»¶ï¼Ÿè¿™ä¸ªé…ç½®æ–‡ä»¶æ˜¯ä½ç‰ˆæœ¬ Servlet å¿…é¡»çš„ï¼Œä½†æ˜¯é«˜ç‰ˆæœ¬ Servlet å·²ä¸å†éœ€è¦ï¼Œæ‰€ä»¥æ— éœ€è¯¥é…ç½®æ–‡ä»¶ã€‚</p><p>è¿è¡Œ Maven å‘½ä»¤ <code>mvn clean package</code>ï¼Œåœ¨ <code>target</code> ç›®å½•ä¸‹å¾—åˆ°ä¸€ä¸ª <code>hello.war</code> æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯æˆ‘ä»¬ç¼–è¯‘æ‰“åŒ…åçš„ Web åº”ç”¨ç¨‹åºã€‚</p><div class="hint-container caution"><p class="hint-container-title">è­¦å‘Š</p><p>å¦‚æœæ‰§è¡Œ package å‘½ä»¤é‡åˆ° Execution default-war of goal org.apache.maven.plugins:maven-war-plugin:2.2:war failed é”™è¯¯æ—¶ï¼Œå¯æ‰‹åŠ¨æŒ‡å®š maven-war-plugin æœ€æ–°ç‰ˆæœ¬ 3.3.2ï¼Œå‚è€ƒç»ƒä¹ å·¥ç¨‹çš„ pom.xmlã€‚</p></div><p>ç°åœ¨é—®é¢˜åˆæ¥äº†ï¼šæˆ‘ä»¬åº”è¯¥å¦‚ä½•è¿è¡Œè¿™ä¸ª <code>war</code> æ–‡ä»¶ï¼Ÿ</p><p>æ™®é€šçš„ Java ç¨‹åºæ˜¯é€šè¿‡å¯åŠ¨ JVMï¼Œç„¶åæ‰§è¡Œ <code>main()</code> æ–¹æ³•å¼€å§‹è¿è¡Œã€‚ä½†æ˜¯ Web åº”ç”¨ç¨‹åºæœ‰æ‰€ä¸åŒï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥è¿è¡Œ <code>war</code> æ–‡ä»¶ï¼Œå¿…é¡»å…ˆå¯åŠ¨ Web æœåŠ¡å™¨ï¼Œå†ç”± Web æœåŠ¡å™¨åŠ è½½æˆ‘ä»¬ç¼–å†™çš„ <code>HelloServlet</code>ï¼Œè¿™æ ·å°±å¯ä»¥è®© <code>HelloServlet</code> å¤„ç†æµè§ˆå™¨å‘é€çš„è¯·æ±‚ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆè¦æ‰¾ä¸€ä¸ªæ”¯æŒ Servlet API çš„ Web æœåŠ¡å™¨ã€‚å¸¸ç”¨çš„æœåŠ¡å™¨æœ‰ï¼š</p>',32),_={href:"https://tomcat.apache.org/",target:"_blank",rel:"noopener noreferrer"},S={href:"https://www.eclipse.org/jetty/",target:"_blank",rel:"noopener noreferrer"},f={href:"https://javaee.github.io/glassfish/",target:"_blank",rel:"noopener noreferrer"},w={href:"https://www.oracle.com/middleware/weblogic/",target:"_blank",rel:"noopener noreferrer"},T={href:"https://www.ibm.com/cloud/websphere-application-platform/",target:"_blank",rel:"noopener noreferrer"},x=n("p",null,"æ— è®ºä½¿ç”¨å“ªä¸ªæœåŠ¡å™¨ï¼Œåªè¦å®ƒæ”¯æŒ Servlet API 5.0ï¼ˆå› ä¸ºæˆ‘ä»¬å¼•å…¥çš„ Servlet ç‰ˆæœ¬æ˜¯ 5.0ï¼‰ï¼Œæˆ‘ä»¬çš„ war åŒ…éƒ½å¯ä»¥åœ¨ä¸Šé¢è¿è¡Œã€‚è¿™é‡Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨æœ€å¹¿æ³›çš„å¼€æºå…è´¹çš„ Tomcat æœåŠ¡å™¨ã€‚",-1),H=n("code",null,"hello.war",-1),j={href:"https://tomcat.apache.org/download-10.cgi",target:"_blank",rel:"noopener noreferrer"},P=n("code",null,"hello.war",-1),I=n("code",null,"webapps",-1),A=n("code",null,"bin",-1),W=n("code",null,"startup.sh",-1),q=n("code",null,"startup.bat",-1),E=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ ./startup.sh
Using CATALINA_BASE:   <span class="token punctuation">..</span>./apache-tomcat-10.1.x
Using CATALINA_HOME:   <span class="token punctuation">..</span>./apache-tomcat-10.1.x
Using CATALINA_TMPDIR: <span class="token punctuation">..</span>./apache-tomcat-10.1.x/temp
Using JRE_HOME:        <span class="token punctuation">..</span>./jdk-17.jdk/Contents/Home
Using CLASSPATH:       <span class="token punctuation">..</span>./apache-tomcat-10.1.x/bin/bootstrap.jar:<span class="token punctuation">..</span>.
Tomcat started.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æµè§ˆå™¨è¾“å…¥ <code>http://localhost:8080/hello/</code> å³å¯çœ‹åˆ° <code>HelloServlet</code> çš„è¾“å‡ºï¼š</p><figure><img src="`+k+'" alt="hello-servlet" tabindex="0" loading="lazy"><figcaption>hello-servlet</figcaption></figure><p>ç»†å¿ƒçš„ç«¥é‹å¯èƒ½ä¼šé—®ï¼Œä¸ºå•¥è·¯å¾„æ˜¯ <code>/hello/</code> è€Œä¸æ˜¯ <code>/</code>ï¼Ÿå› ä¸ºä¸€ä¸ª Web æœåŠ¡å™¨å…è®¸åŒæ—¶è¿è¡Œå¤šä¸ª Web Appï¼Œè€Œæˆ‘ä»¬çš„ Web App å« <code>hello</code>ï¼Œå› æ­¤ï¼Œç¬¬ä¸€çº§ç›®å½• <code>/hello</code> è¡¨ç¤º Web App çš„åå­—ï¼Œåé¢çš„ <code>/</code> æ‰æ˜¯æˆ‘ä»¬åœ¨ <code>HelloServlet</code> ä¸­æ˜ å°„çš„è·¯å¾„ã€‚</p><p>é‚£èƒ½ä¸èƒ½ç›´æ¥ä½¿ç”¨ <code>/</code> è€Œä¸æ˜¯ <code>/hello/</code>ï¼Ÿæ¯•ç«Ÿ <code>/</code> æ¯”è¾ƒç®€æ´ã€‚</p><p>ç­”æ¡ˆæ˜¯è‚¯å®šçš„ã€‚å…ˆå…³é—­ Tomcatï¼ˆæ‰§è¡Œ <code>shutdown.sh</code> æˆ– <code>shutdown.bat</code>ï¼‰ï¼Œç„¶ååˆ é™¤ Tomcat çš„ webapps ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶ï¼Œæœ€åæŠŠæˆ‘ä»¬çš„ <code>hello.war</code> å¤åˆ¶è¿‡æ¥ï¼Œæ”¹åä¸º <code>ROOT.war</code>ï¼Œæ–‡ä»¶åä¸º <code>ROOT</code> çš„åº”ç”¨ç¨‹åºå°†ä½œä¸ºé»˜è®¤åº”ç”¨ï¼Œå¯åŠ¨åç›´æ¥è®¿é—® <code>http://localhost:8080/</code> å³å¯ã€‚</p><p>å®é™…ä¸Šï¼Œç±»ä¼¼ Tomcat è¿™æ ·çš„æœåŠ¡å™¨ä¹Ÿæ˜¯ Java ç¼–å†™çš„ï¼Œå¯åŠ¨ Tomcat æœåŠ¡å™¨å®é™…ä¸Šæ˜¯å¯åŠ¨ Java è™šæ‹Ÿæœºï¼Œæ‰§è¡Œ Tomcat çš„ <code>main()</code> æ–¹æ³•ï¼Œç„¶åç”± Tomcat è´Ÿè´£åŠ è½½æˆ‘ä»¬çš„ <code>.war</code> æ–‡ä»¶ï¼Œå¹¶åˆ›å»ºä¸€ä¸ª <code>HelloServlet</code> å®ä¾‹ï¼Œæœ€åä»¥å¤šçº¿ç¨‹çš„æ¨¡å¼æ¥å¤„ç† HTTP è¯·æ±‚ã€‚å¦‚æœ Tomcat æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚è·¯å¾„æ˜¯ <code>/</code>ï¼ˆå‡å®šéƒ¨ç½²æ–‡ä»¶ä¸º ROOT.warï¼‰ï¼Œå°±è½¬å‘åˆ° <code>HelloServlet</code> å¹¶ä¼ å…¥ <code>HttpServletRequest</code> å’Œ <code>HttpServletResponse</code> ä¸¤ä¸ªå¯¹è±¡ã€‚</p><p>å› ä¸ºæˆ‘ä»¬ç¼–å†™çš„ Servlet å¹¶ä¸æ˜¯ç›´æ¥è¿è¡Œï¼Œè€Œæ˜¯ç”± Web æœåŠ¡å™¨åŠ è½½ååˆ›å»ºå®ä¾‹è¿è¡Œï¼Œæ‰€ä»¥ï¼Œç±»ä¼¼ Tomcat è¿™æ ·çš„ Web æœåŠ¡å™¨ä¹Ÿç§°ä¸º Servlet å®¹å™¨ã€‚</p><h2 id="ğŸ€-tomcat-ç‰ˆæœ¬" tabindex="-1"><a class="header-anchor" href="#ğŸ€-tomcat-ç‰ˆæœ¬" aria-hidden="true">#</a> ğŸ€ Tomcat ç‰ˆæœ¬</h2>',9),R={href:"https://tomcat.apache.org/whichversion.html",target:"_blank",rel:"noopener noreferrer"},y=e("<ul><li>ä½¿ç”¨ Servlet&lt;=4.0 æ—¶ï¼Œé€‰æ‹© Tomcat 9.x æˆ–æ›´ä½ç‰ˆæœ¬ï¼›</li><li>ä½¿ç”¨ Servlet&gt;=5.0 æ—¶ï¼Œé€‰æ‹© Tomcat 10.x æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</li></ul><p>è¿è¡Œæœ¬èŠ‚ä»£ç éœ€è¦ä½¿ç”¨ Tomcat 10.x ç‰ˆæœ¬ã€‚</p><p>åœ¨ Servlet å®¹å™¨ä¸­è¿è¡Œçš„ Servlet å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>æ— æ³•åœ¨ä»£ç ä¸­ç›´æ¥é€šè¿‡ new åˆ›å»º Servlet å®ä¾‹ï¼Œå¿…é¡»ç”± Servlet å®¹å™¨è‡ªåŠ¨åˆ›å»º Servlet å®ä¾‹ï¼›</li><li>Servlet å®¹å™¨åªä¼šç»™æ¯ä¸ª Servlet ç±»åˆ›å»ºå”¯ä¸€å®ä¾‹ï¼›</li><li>Servlet å®¹å™¨ä¼šä½¿ç”¨å¤šçº¿ç¨‹æ‰§è¡Œ <code>doGet()</code> æˆ– <code>doPost()</code> æ–¹æ³•ã€‚</li></ul>",4),O={href:"https://www.liaoxuefeng.com/wiki/1252599548343744/1255943750561472",target:"_blank",rel:"noopener noreferrer"},C=e('<ul><li>åœ¨ Servlet ä¸­å®šä¹‰çš„å®ä¾‹å˜é‡ä¼šè¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®ï¼Œè¦æ³¨æ„çº¿ç¨‹å®‰å…¨ï¼›</li><li><code>HttpServletRequest</code> å’Œ <code>HttpServletResponse</code> å®ä¾‹æ˜¯ç”± Servlet å®¹å™¨ä¼ å…¥çš„å±€éƒ¨å˜é‡ï¼Œå®ƒä»¬åªèƒ½è¢«å½“å‰çº¿ç¨‹è®¿é—®ï¼Œä¸å­˜åœ¨å¤šä¸ªçº¿ç¨‹è®¿é—®çš„é—®é¢˜ï¼›</li><li>åœ¨ <code>doGet()</code> æˆ– <code>doPost()</code> æ–¹æ³•ä¸­ï¼Œå¦‚æœä½¿ç”¨äº† <code>ThreadLocal</code>ï¼Œä½†æ²¡æœ‰æ¸…ç†ï¼Œé‚£ä¹ˆå®ƒçš„çŠ¶æ€å¾ˆå¯èƒ½ä¼šå½±å“åˆ°ä¸‹æ¬¡çš„æŸä¸ªè¯·æ±‚ï¼Œå› ä¸º Servlet å®¹å™¨å¾ˆå¯èƒ½ç”¨çº¿ç¨‹æ± å®ç°çº¿ç¨‹å¤ç”¨ã€‚</li></ul><p>å› æ­¤ï¼Œæ­£ç¡®ç¼–å†™ Servletï¼Œè¦æ¸…æ™°ç†è§£ Java çš„å¤šçº¿ç¨‹æ¨¡å‹ï¼Œéœ€è¦åŒæ­¥è®¿é—®çš„å¿…é¡»åŒæ­¥ã€‚</p><h2 id="ğŸ€-ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»ƒä¹ " aria-hidden="true">#</a> ğŸ€ ç»ƒä¹ </h2><p>ç»™ <code>HelloServlet</code> å¢åŠ ä¸€ä¸ª URL å‚æ•°ï¼Œä¾‹å¦‚ä¼ å…¥ <code>http://localhost:8080/?name=Bob</code>ï¼Œèƒ½å¤Ÿè¾“å‡º <code>Hello, Bob!</code>ã€‚</p>',4),J={href:"https://docs.oracle.com/javaee/6/api/javax/servlet/http/HttpServletRequest.html",target:"_blank",rel:"noopener noreferrer"},L=e('<h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>ç¼–å†™ Web åº”ç”¨ç¨‹åºå°±æ˜¯ç¼–å†™ Servlet å¤„ç† HTTP è¯·æ±‚ï¼›</p><p>Servlet API æä¾›äº† <code>HttpServletRequest</code> å’Œ <code>HttpServletResponse</code> ä¸¤ä¸ªé«˜çº§æ¥å£æ¥å°è£… HTTP è¯·æ±‚å’Œå“åº”ï¼›</p><p>Web åº”ç”¨ç¨‹åºå¿…é¡»æŒ‰å›ºå®šç»“æ„ç»„ç»‡å¹¶æ‰“åŒ…ä¸º <code>.war</code> æ–‡ä»¶ï¼›</p><p>éœ€è¦å¯åŠ¨ Web æœåŠ¡å™¨æ¥åŠ è½½æˆ‘ä»¬çš„ war åŒ…æ¥è¿è¡Œ Servletã€‚</p>',5);function M(N,B){const p=c("router-link"),t=c("ExternalLinkIcon");return i(),u("div",null,[n("details",g,[m,n("nav",h,[n("ul",null,[n("li",null,[s(p,{to:"#ğŸ€-servlet-ç‰ˆæœ¬"},{default:o(()=>[a("ğŸ€ Servlet ç‰ˆæœ¬")]),_:1})]),n("li",null,[s(p,{to:"#ğŸ€-tomcat-ç‰ˆæœ¬"},{default:o(()=>[a("ğŸ€ Tomcat ç‰ˆæœ¬")]),_:1})]),n("li",null,[s(p,{to:"#ğŸ€-ç»ƒä¹ "},{default:o(()=>[a("ğŸ€ ç»ƒä¹ ")]),_:1})]),n("li",null,[s(p,{to:"#ğŸ€-å°ç»“"},{default:o(()=>[a("ğŸ€ å°ç»“")]),_:1})])])])]),b,n("ul",null,[n("li",null,[n("a",_,[a("Tomcat"),s(t)]),a("ï¼šç”± Apache å¼€å‘çš„å¼€æºå…è´¹æœåŠ¡å™¨ï¼›")]),n("li",null,[n("a",S,[a("Jetty"),s(t)]),a("ï¼šç”± Eclipse å¼€å‘çš„å¼€æºå…è´¹æœåŠ¡å™¨ï¼›")]),n("li",null,[n("a",f,[a("GlassFish"),s(t)]),a("ï¼šä¸€ä¸ªå¼€æºçš„å…¨åŠŸèƒ½ JavaEE æœåŠ¡å™¨ã€‚")])]),n("p",null,[a("è¿˜æœ‰ä¸€äº›æ”¶è´¹çš„å•†ç”¨æœåŠ¡å™¨ï¼Œå¦‚ Oracle çš„ "),n("a",w,[a("WebLogic"),s(t)]),a("ï¼ŒIBM çš„ "),n("a",T,[a("WebSphere"),s(t)]),a("ã€‚")]),x,n("p",null,[a("è¦è¿è¡Œæˆ‘ä»¬çš„ "),H,a("ï¼Œé¦–å…ˆè¦ "),n("a",j,[a("ä¸‹è½½ Tomcat æœåŠ¡å™¨"),s(t)]),a("ï¼Œè§£å‹åï¼ŒæŠŠ "),P,a(" å¤åˆ¶åˆ° Tomcat çš„ "),I,a(" ç›®å½•ä¸‹ï¼Œç„¶ååˆ‡æ¢åˆ° "),A,a(" ç›®å½•ï¼Œæ‰§è¡Œ "),W,a(" æˆ– "),q,a(" å¯åŠ¨ Tomcat æœåŠ¡å™¨ï¼š")]),E,n("p",null,[a("ç”±äº Servlet ç‰ˆæœ¬åˆ†ä¸º <=4.0 å’Œ>=5.0 ä¸¤ç§ï¼Œæ‰€ä»¥ï¼Œè¦æ ¹æ®ä½¿ç”¨çš„ Servlet ç‰ˆæœ¬é€‰æ‹©æ­£ç¡®çš„ Tomcat ç‰ˆæœ¬ã€‚ä»"),n("a",R,[a("Tomcat ç‰ˆæœ¬é¡µ"),s(t)]),a(" å¯çŸ¥ï¼š")]),y,n("p",null,[a("å¤ä¹ ä¸€ä¸‹ Java"),n("a",O,[a("å¤šçº¿ç¨‹"),s(t)]),a(" çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºç»“è®ºï¼š")]),C,n("p",null,[a("æç¤ºï¼šæ ¹æ® "),n("a",J,[a("HttpServletRequest æ–‡æ¡£"),s(t)]),a("ï¼Œè°ƒç”¨åˆé€‚çš„æ–¹æ³•è·å– URL å‚æ•°ã€‚")]),L])}const G=l(v,[["render",M],["__file","2.html.vue"]]);export{G as default};
