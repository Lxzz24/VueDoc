import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,d as e}from"./app-CvlAI_tu.js";const p="/VueDoc/assets/image-20231220100724531-jNomgV2x.png",t={},c=e('<blockquote><p>ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ã€‚å°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ã€‚</p></blockquote><p>è´£ä»»é“¾æ¨¡å¼ï¼ˆChain of Responsibilityï¼‰æ˜¯ä¸€ç§å¤„ç†è¯·æ±‚çš„æ¨¡å¼ï¼Œå®ƒè®©å¤šä¸ªå¤„ç†å™¨éƒ½æœ‰æœºä¼šå¤„ç†è¯¥è¯·æ±‚ï¼Œç›´åˆ°å…¶ä¸­æŸä¸ªå¤„ç†æˆåŠŸä¸ºæ­¢ã€‚è´£ä»»é“¾æ¨¡å¼æŠŠå¤šä¸ªå¤„ç†å™¨ä¸²æˆé“¾ï¼Œç„¶åè®©è¯·æ±‚åœ¨é“¾ä¸Šä¼ é€’ï¼š</p><figure><img src="'+p+`" alt="image-20231220100724531" tabindex="0" loading="lazy"><figcaption>image-20231220100724531</figcaption></figure><p>åœ¨å®é™…åœºæ™¯ä¸­ï¼Œè´¢åŠ¡å®¡æ‰¹å°±æ˜¯ä¸€ä¸ªè´£ä»»é“¾æ¨¡å¼ã€‚å‡è®¾æŸä¸ªå‘˜å·¥éœ€è¦æŠ¥é”€ä¸€ç¬”è´¹ç”¨ï¼Œå®¡æ ¸è€…å¯ä»¥åˆ†ä¸ºï¼š</p><ul><li>Managerï¼šåªèƒ½å®¡æ ¸ 1000 å…ƒä»¥ä¸‹çš„æŠ¥é”€ï¼›</li><li>Directorï¼šåªèƒ½å®¡æ ¸ 10000 å…ƒä»¥ä¸‹çš„æŠ¥é”€ï¼›</li><li>CEOï¼šå¯ä»¥å®¡æ ¸ä»»æ„é¢åº¦ã€‚</li></ul><p>ç”¨è´£ä»»é“¾æ¨¡å¼è®¾è®¡æ­¤æŠ¥é”€æµç¨‹æ—¶ï¼Œæ¯ä¸ªå®¡æ ¸è€…åªå…³å¿ƒè‡ªå·±è´£ä»»èŒƒå›´å†…çš„è¯·æ±‚ï¼Œå¹¶ä¸”å¤„ç†å®ƒã€‚å¯¹äºè¶…å‡ºè‡ªå·±è´£ä»»èŒƒå›´çš„ï¼Œæ‰”ç»™ä¸‹ä¸€ä¸ªå®¡æ ¸è€…å¤„ç†ï¼Œè¿™æ ·ï¼Œå°†æ¥ç»§ç»­æ·»åŠ å®¡æ ¸è€…çš„æ—¶å€™ï¼Œä¸ç”¨æ”¹åŠ¨ç°æœ‰é€»è¾‘ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•å®ç°è´£ä»»é“¾æ¨¡å¼ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¦æŠ½è±¡å‡ºè¯·æ±‚å¯¹è±¡ï¼Œå®ƒå°†åœ¨è´£ä»»é“¾ä¸Šä¼ é€’ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Request</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">BigDecimal</span> amount<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">BigDecimal</span> amount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>amount <span class="token operator">=</span> amount<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">BigDecimal</span> <span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> amount<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦æŠ½è±¡å‡ºå¤„ç†å™¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Handler</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿”å› Boolean.TRUE = æˆåŠŸ</span>
    <span class="token comment">// è¿”å› Boolean.FALSE = æ‹’ç»</span>
    <span class="token comment">// è¿”å› null = äº¤ä¸‹ä¸€ä¸ªå¤„ç†</span>
	<span class="token class-name">Boolean</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¹¶ä¸”åšå¥½çº¦å®šï¼šå¦‚æœè¿”å› <code>Boolean.TRUE</code>ï¼Œè¡¨ç¤ºå¤„ç†æˆåŠŸï¼Œå¦‚æœè¿”å› <code>Boolean.FALSE</code>ï¼Œè¡¨ç¤ºå¤„ç†å¤±è´¥ï¼ˆè¯·æ±‚è¢«æ‹’ç»ï¼‰ï¼Œå¦‚æœè¿”å› <code>null</code>ï¼Œåˆ™äº¤ç”±ä¸‹ä¸€ä¸ª <code>Handler</code> å¤„ç†ã€‚</p><p>ç„¶åï¼Œä¾æ¬¡ç¼–å†™ ManagerHandlerã€DirectorHandler å’Œ CEOHandlerã€‚ä»¥ ManagerHandler ä¸ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ManagerHandler</span> <span class="token keyword">implements</span> <span class="token class-name">Handler</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¦‚æœè¶…è¿‡ 1000 å…ƒï¼Œå¤„ç†ä¸äº†ï¼Œäº¤ä¸‹ä¸€ä¸ªå¤„ç†:</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">BigDecimal</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// å¯¹ Bob æœ‰åè§:</span>
        <span class="token keyword">return</span> <span class="token operator">!</span>request<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token string">&quot;bob&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰äº†ä¸åŒçš„ <code>Handler</code> åï¼Œæˆ‘ä»¬è¿˜è¦æŠŠè¿™äº› <code>Handler</code> ç»„åˆèµ·æ¥ï¼Œå˜æˆä¸€ä¸ªé“¾ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªç»Ÿä¸€å…¥å£å¤„ç†ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HandlerChain</span> <span class="token punctuation">{</span>
    <span class="token comment">// æŒæœ‰æ‰€æœ‰ Handler:</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Handler</span><span class="token punctuation">&gt;</span></span> handlers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addHandler</span><span class="token punctuation">(</span><span class="token class-name">Handler</span> handler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>handlers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä¾æ¬¡è°ƒç”¨æ¯ä¸ª Handler:</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Handler</span> handler <span class="token operator">:</span> handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Boolean</span> r <span class="token operator">=</span> handler<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// å¦‚æœè¿”å› TRUE æˆ– FALSEï¼Œå¤„ç†ç»“æŸ:</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>request <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>r <span class="token operator">?</span><span class="token string">&quot;Approved by &quot;</span><span class="token operator">:</span><span class="token string">&quot;Denied by &quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> handler<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> r<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;Could not handle request:&quot;</span> <span class="token operator">+</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨å®¢æˆ·ç«¯ç»„è£…å‡ºè´£ä»»é“¾ï¼Œç„¶åç”¨è´£ä»»é“¾æ¥å¤„ç†è¯·æ±‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// æ„é€ è´£ä»»é“¾:</span>
<span class="token class-name">HandlerChain</span> chain <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HandlerChain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chain<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ManagerHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chain<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DirectorHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chain<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CEOHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// å¤„ç†è¯·æ±‚:</span>
chain<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;123.45&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chain<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;1234.56&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chain<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">&quot;Bill&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;12345.67&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
chain<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span><span class="token string">&quot;John&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BigDecimal</span><span class="token punctuation">(</span><span class="token string">&quot;123456.78&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è´£ä»»é“¾æ¨¡å¼æœ¬èº«å¾ˆå®¹æ˜“ç†è§£ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<code>Handler</code> æ·»åŠ çš„é¡ºåºå¾ˆé‡è¦ï¼Œå¦‚æœé¡ºåºä¸å¯¹ï¼Œå¤„ç†çš„ç»“æœå¯èƒ½å°±ä¸æ˜¯ç¬¦åˆè¦æ±‚çš„ã€‚</p><p>æ­¤å¤–ï¼Œè´£ä»»é“¾æ¨¡å¼æœ‰å¾ˆå¤šå˜ç§ã€‚æœ‰äº›è´£ä»»é“¾çš„å®ç°æ–¹å¼æ˜¯é€šè¿‡æŸä¸ª <code>Handler</code> æ‰‹åŠ¨è°ƒç”¨ä¸‹ä¸€ä¸ª <code>Handler</code> æ¥ä¼ é€’ <code>Request</code>ï¼Œä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AHandler</span> <span class="token keyword">implements</span> <span class="token class-name">Handler</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Handler</span> next<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Request</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">canProcess</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// æ‰‹åŠ¨äº¤ç»™ä¸‹ä¸€ä¸ª Handler å¤„ç†:</span>
            next<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜æœ‰ä¸€äº›è´£ä»»é“¾æ¨¡å¼ï¼Œæ¯ä¸ª <code>Handler</code> éƒ½æœ‰æœºä¼šå¤„ç† <code>Request</code>ï¼Œé€šå¸¸è¿™ç§è´£ä»»é“¾è¢«ç§°ä¸ºæ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰æˆ–è€…è¿‡æ»¤å™¨ï¼ˆFilterï¼‰ï¼Œå®ƒçš„ç›®çš„ä¸æ˜¯æ‰¾åˆ°æŸä¸ª <code>Handler</code> å¤„ç†æ‰ <code>Request</code>ï¼Œè€Œæ˜¯æ¯ä¸ª <code>Handler</code> éƒ½åšä¸€äº›å·¥ä½œï¼Œæ¯”å¦‚ï¼š</p><ul><li>è®°å½•æ—¥å¿—ï¼›</li><li>æ£€æŸ¥æƒé™ï¼›</li><li>å‡†å¤‡ç›¸å…³èµ„æºï¼›</li><li>...</li></ul><p>ä¾‹å¦‚ï¼ŒJavaEE çš„ Servlet è§„èŒƒå®šä¹‰çš„ <code>Filter</code> å°±æ˜¯ä¸€ç§è´£ä»»é“¾æ¨¡å¼ï¼Œå®ƒä¸ä½†å…è®¸æ¯ä¸ª <code>Filter</code> éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œè¿˜å…è®¸æ¯ä¸ª <code>Filter</code> å†³å®šæ˜¯å¦å°†è¯·æ±‚ â€œæ”¾è¡Œâ€ ç»™ä¸‹ä¸€ä¸ª <code>Filter</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AuditFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> resp<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token function">log</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// æ”¾è¡Œ:</span>
            chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// æ‹’ç»:</span>
            <span class="token function">sendError</span><span class="token punctuation">(</span>resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æ¨¡å¼ä¸ä½†å…è®¸ä¸€ä¸ª <code>Filter</code> è‡ªè¡Œå†³å®šå¤„ç† <code>ServletRequest</code> å’Œ <code>ServletResponse</code>ï¼Œè¿˜å¯ä»¥ â€œä¼ªé€ â€<code>ServletRequest</code> å’Œ <code>ServletResponse</code> ä»¥ä¾¿è®©ä¸‹ä¸€ä¸ª <code>Filter</code> å¤„ç†ï¼Œèƒ½å®ç°éå¸¸å¤æ‚çš„åŠŸèƒ½ã€‚</p><h2 id="ğŸ€-ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»ƒä¹ " aria-hidden="true">#</a> ğŸ€ ç»ƒä¹ </h2><p>ä½¿ç”¨è´£ä»»é“¾æ¨¡å¼å®ç°å®¡æ‰¹</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>è´£ä»»é“¾æ¨¡å¼æ˜¯ä¸€ç§æŠŠå¤šä¸ªå¤„ç†å™¨ç»„åˆåœ¨ä¸€èµ·ï¼Œä¾æ¬¡å¤„ç†è¯·æ±‚çš„æ¨¡å¼ï¼›</p><p>è´£ä»»é“¾æ¨¡å¼çš„å¥½å¤„æ˜¯æ·»åŠ æ–°çš„å¤„ç†å™¨æˆ–è€…é‡æ–°æ’åˆ—å¤„ç†å™¨éå¸¸å®¹æ˜“ï¼›</p><p>è´£ä»»é“¾æ¨¡å¼ç»å¸¸ç”¨åœ¨æ‹¦æˆªã€é¢„å¤„ç†è¯·æ±‚ç­‰ã€‚</p>`,32),o=[c];function l(i,u){return s(),a("div",null,o)}const r=n(t,[["render",l],["__file","3_1.html.vue"]]);export{r as default};
