import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as l,c as i,a as n,b as e,w as p,d as t,e as s}from"./app-CvlAI_tu.js";const u="/VueDoc/assets/SE0409-CPBSuQNK.png",d="/VueDoc/assets/202206081057611-CBIF9Sl3.png",k="/VueDoc/assets/202206081058906-CP89NKCn.png",r={},m={class:"hint-container details"},v=n("summary",null,"ç›®å½•",-1),b={class:"table-of-contents"},y=t(`<h2 id="ğŸ€-å°è£…æ€§-encapsulation" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°è£…æ€§-encapsulation" aria-hidden="true">#</a> ğŸ€ å°è£…æ€§ï¼ˆEncapsulationï¼‰</h2><p>å½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±»çš„å¯¹è±¡ä»¥åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>å¯¹è±¡.å±æ€§</code> çš„æ–¹å¼ï¼Œå¯¹å¯¹è±¡çš„å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œè¿™é‡Œï¼Œèµ‹å€¼æ“ä½œè¦å—åˆ°å±æ€§çš„æ•°æ®ç±»å‹å’Œå­˜å‚¨èŒƒå›´çš„åˆ¶çº¦ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæ²¡æœ‰å…¶ä»–åˆ¶çº¦æ¡ä»¶ã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨å®é™…é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦ç»™å±æ€§èµ‹å€¼ï¼ŒåŠ å…¥é¢å¤–çš„é™åˆ¶æ¡ä»¶ã€‚è¿™ä¸ªæ¡ä»¶å°±ä¸èƒ½åœ¨å±æ€§å£°æ˜æ—¶ä½“ç°ï¼Œæˆ‘ä»¬åªèƒ½é€šè¿‡æ–¹æ³•è¿›è¡Œé™åˆ¶æ¡ä»¶çš„æ·»åŠ ï¼ˆæ¯”å¦‚ï¼Œ<em>setLegs</em>ï¼‰ã€‚åŒæ—¶ï¼Œæˆ‘ä»¬éœ€è¦é¿å…ç”¨æˆ·å†ä½¿ç”¨ <code>å¯¹è±¡.å±æ€§</code> çš„æ–¹å¼å¯¹å±æ€§è¿›è¡Œèµ‹å€¼ï¼Œåˆ™éœ€è¦å°†å±æ€§å£°æ˜ä¸ºç§æœ‰çš„ï¼ˆ<em>private</em>ï¼‰ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>	<span class="token keyword">private</span> <span class="token keyword">int</span> legs<span class="token punctuation">;</span><span class="token comment">// è…¿çš„ä¸ªæ•°</span>

	<span class="token comment">// å¯¹å±æ€§çš„è®¾ç½®</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLegs</span><span class="token punctuation">(</span><span class="token keyword">int</span> l<span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>l<span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> l <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			legs <span class="token operator">=</span> l<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
			legs <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token comment">// æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼ˆæš‚æ—¶æ²¡æœ‰è®²ï¼‰</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// å¯¹å±æ€§çš„è·å–</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getLegs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		<span class="token keyword">return</span> legs<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>â†’ æ­¤æ—¶ï¼Œé’ˆå¯¹äºå±æ€§å°±ä½“ç°äº†å°è£…æ€§ã€‚ â€‹</p><h3 id="å°è£…æ€§çš„ä½“ç°" tabindex="-1"><a class="header-anchor" href="#å°è£…æ€§çš„ä½“ç°" aria-hidden="true">#</a> å°è£…æ€§çš„ä½“ç°</h3><p>â‘  <em>æˆ‘ä»¬å°†ç±»çš„å±æ€§ç§æœ‰åŒ– (<code>private</code>) ï¼ŒåŒæ—¶ï¼Œæä¾›å…¬å…±çš„ (<code>public</code>) æ–¹æ³•æ¥è·å– (<code>getXxx</code>) å’Œè®¾ç½® (<code>setXxx</code>) æ­¤å±æ€§çš„å€¼ã€‚</em> â‘¡ ä¸å¯¹å¤–æš´éœ²çš„ç§æœ‰çš„æ–¹æ³• â‘¢ å•ä¾‹æ¨¡å¼ï¼ˆå°†æ„é€ å™¨ç§æœ‰åŒ–ï¼‰ â‘£ å¦‚æœä¸å¸Œæœ›ç±»åœ¨åŒ…å¤–è¢«è°ƒç”¨ï¼Œå¯ä»¥å°†ç±»è®¾ç½®ä¸ºç¼ºçœçš„ã€‚ â€‹</p><div class="hint-container warning"><p class="hint-container-title">æ³¨æ„</p><p>å°è£…æ€§çš„ä½“ç°ï¼Œéœ€è¦æƒé™ä¿®é¥°ç¬¦æ¥é…åˆ</p></div><ol><li>Java è§„å®šçš„ 4 ç§æƒé™ï¼ˆä»å°åˆ°å¤§æ’åˆ—ï¼‰ï¼Œ<em>private</em> â†’ <em>ç¼ºçœ</em> â†’ <em>protected</em> â†’ <em>public</em></li><li>4 ç§æƒé™å¯ä»¥ç”¨æ¥ä¿®é¥°ç±»åŠç±»çš„å†…éƒ¨ç»“æ„ï¼šå±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ã€å†…éƒ¨ç±»</li></ol><div class="hint-container important"><p class="hint-container-title">é‡è¦</p><p>ä¿®é¥°ç±»çš„è¯ï¼Œåªèƒ½ä½¿ç”¨ï¼šç¼ºçœã€ <em>public</em></p></div><p>Java æä¾›äº† 4 ä¸­æƒé™ä¿®é¥°ç¬¦æ¥ä¿®é¥°ç±»åŠç±»çš„å†…éƒ¨ç»“æ„ï¼Œä½“ç°ç±»åŠç±»çš„å†…éƒ¨ç»“æ„åœ¨è¢«è°ƒç”¨æ—¶çš„å¯è§æ€§çš„å¤§å°ã€‚</p><figure><img src="`+u+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ä¸ºä»€ä¹ˆéœ€è¦å°è£…-å°è£…çš„ä½œç”¨å’Œå«ä¹‰" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦å°è£…-å°è£…çš„ä½œç”¨å’Œå«ä¹‰" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆéœ€è¦å°è£…ï¼Ÿå°è£…çš„ä½œç”¨å’Œå«ä¹‰ï¼Ÿ</h3><ul><li>æˆ‘ä»¬ç¨‹åºè®¾è®¡è¿½æ±‚ <strong><em>â€œé«˜å†…èšï¼Œä½è€¦åˆâ€</em></strong> ã€‚ <ul><li><em>é«˜å†…èš</em> ï¼šç±»çš„å†…éƒ¨æ•°æ®æ“ä½œç»†èŠ‚è‡ªå·±å®Œæˆï¼Œä¸å…è®¸å¤–éƒ¨å¹²æ¶‰ï¼›</li><li><em>ä½è€¦åˆ</em> ï¼šä»…å¯¹å¤–æš´éœ²å°‘é‡çš„æ–¹æ³•ç”¨äºä½¿ç”¨ï¼›</li></ul></li><li>éšè—å¯¹è±¡å†…éƒ¨çš„å¤æ‚æ€§ï¼Œåªå¯¹å¤–å…¬å¼€ç®€å•çš„æ¥å£ã€‚</li><li>ä¾¿äºå¤–ç•Œè°ƒç”¨ï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§ã€‚ <ul><li>é€šä¿—çš„è¯´ï¼ŒæŠŠè¯¥éšè—çš„éšè—èµ·æ¥ï¼Œè¯¥æš´éœ²çš„æš´éœ²å‡ºæ¥ã€‚è¿™å°±æ˜¯å°è£…æ€§çš„è®¾è®¡æ€æƒ³ã€‚</li></ul></li></ul><h2 id="ğŸ€-ç»§æ‰¿æ€§-inheritance" tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»§æ‰¿æ€§-inheritance" aria-hidden="true">#</a> ğŸ€ ç»§æ‰¿æ€§ï¼ˆinheritanceï¼‰</h2><p>åœ¨å‰é¢çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»å®šä¹‰äº† <code>Person</code> ç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œå‡è®¾éœ€è¦å®šä¹‰ä¸€ä¸ª <code>Student</code> ç±»ï¼Œå­—æ®µå¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setScore</span><span class="token punctuation">(</span><span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»”ç»†è§‚å¯Ÿï¼Œå‘ç° <code>Student</code> ç±»åŒ…å«äº† <code>Person</code> ç±»å·²æœ‰çš„å­—æ®µå’Œæ–¹æ³•ï¼Œåªæ˜¯å¤šå‡ºäº†ä¸€ä¸ª <code>score</code> å­—æ®µå’Œç›¸åº”çš„ <code>getScore()</code>ã€<code>setScore()</code> æ–¹æ³•ã€‚</p><p>èƒ½ä¸èƒ½åœ¨ <code>Student</code> ä¸­ä¸è¦å†™é‡å¤çš„ä»£ç ï¼Ÿ</p><p>è¿™ä¸ªæ—¶å€™ï¼Œç»§æ‰¿å°±æ´¾ä¸Šç”¨åœºäº†ã€‚</p><p>ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­éå¸¸å¼ºå¤§çš„ä¸€ç§æœºåˆ¶ï¼Œå®ƒé¦–å…ˆå¯ä»¥ <strong><em>å¤ç”¨ä»£ç </em></strong> ã€‚å½“æˆ‘ä»¬è®© <code>Student</code> ä» <code>Person</code> ç»§æ‰¿æ—¶ï¼Œ<code>Student</code> å°±è·å¾—äº† <code>Person</code> çš„æ‰€æœ‰åŠŸèƒ½ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸º <code>Student</code> ç¼–å†™æ–°å¢çš„åŠŸèƒ½ã€‚</p><p>Java ä½¿ç”¨ <code>extends</code> å…³é”®å­—æ¥å®ç°ç»§æ‰¿ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¸è¦é‡å¤ name å’Œ age å­—æ®µ / æ–¹æ³•,</span>
    <span class="token comment">// åªéœ€è¦å®šä¹‰æ–°å¢ score å­—æ®µ / æ–¹æ³•:</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> â€¦<span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setScore</span><span class="token punctuation">(</span><span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">{</span> â€¦ <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯è§ï¼Œé€šè¿‡ç»§æ‰¿ï¼Œ<code>Student</code> åªéœ€è¦ç¼–å†™é¢å¤–çš„åŠŸèƒ½ï¼Œä¸å†éœ€è¦é‡å¤ä»£ç ã€‚</p><div class="hint-container caution"><p class="hint-container-title">è­¦å‘Š</p><p>å­ç±»è‡ªåŠ¨è·å¾—äº†çˆ¶ç±»çš„æ‰€æœ‰å­—æ®µï¼Œ<em>ä¸¥ç¦å®šä¹‰ä¸çˆ¶ç±»é‡åçš„å­—æ®µ</em>ï¼</p></div><p>åœ¨ OOP çš„æœ¯è¯­ä¸­ï¼Œæˆ‘ä»¬æŠŠ <code>Person</code> ç§°ä¸ºè¶…ç±»ï¼ˆ<em>super class</em>ï¼‰ï¼Œçˆ¶ç±»ï¼ˆ<em>parent class</em>ï¼‰ï¼ŒåŸºç±»ï¼ˆ<em>base class</em>ï¼‰ï¼ŒæŠŠ <code>Student</code> ç§°ä¸ºå­ç±»ï¼ˆ<em>subclass</em>ï¼‰ï¼Œæ‰©å±•ç±»ï¼ˆ<em>extended class</em>ï¼‰ã€‚</p><h3 id="ç»§æ‰¿æ ‘" tabindex="-1"><a class="header-anchor" href="#ç»§æ‰¿æ ‘" aria-hidden="true">#</a> ç»§æ‰¿æ ‘</h3><p>æ³¨æ„åˆ°æˆ‘ä»¬åœ¨å®šä¹‰ <code>Person</code> çš„æ—¶å€™ï¼Œæ²¡æœ‰å†™ <code>extends</code> ã€‚</p><ol><li>å¦‚æœæˆ‘ä»¬æ²¡æœ‰æ˜¾å¼çš„å£°æ˜ä¸€ä¸ªç±»çš„çˆ¶ç±»çš„è¯ï¼Œåˆ™æ­¤ç±»ç»§æ‰¿äº <code>java.lang.Object</code> ç±»</li><li>æ‰€æœ‰çš„ Java ç±»ï¼ˆé™¤ <code>java.lang.Object</code> ç±»ä¹‹å¤–ï¼‰éƒ½ç›´æ¥ / é—´æ¥çš„ç»§æ‰¿äº <code>java.lang.Object</code> ç±»</li><li>æ„å‘³ç€ï¼Œæ‰€æœ‰çš„ Java ç±»å…·æœ‰ <code>java.lang.Object</code> ç±»å£°æ˜çš„åŠŸèƒ½ã€‚</li></ol><p>åœ¨ Java ä¸­ï¼Œæ²¡æœ‰æ˜ç¡®å†™ <code>extends</code> çš„ç±»ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨åŠ ä¸Š <code>extends Object</code> ã€‚æ‰€ä»¥ï¼Œä»»ä½•ç±»ï¼Œé™¤äº† <code>Object</code>ï¼Œéƒ½ä¼šç»§æ‰¿è‡ªæŸä¸ªç±»ã€‚ä¸‹å›¾æ˜¯ <code>Person</code>ã€<code>Student</code> çš„ç»§æ‰¿æ ‘ï¼š</p><figure><img src="`+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Java åªå…è®¸ä¸€ä¸ª <code>class</code> ç»§æ‰¿è‡ªä¸€ä¸ªç±»ï¼Œå› æ­¤ï¼Œä¸€ä¸ªç±»æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªçˆ¶ç±»ã€‚åªæœ‰ <code>Object</code> ç‰¹æ®Šï¼Œå®ƒæ²¡æœ‰çˆ¶ç±»ã€‚</p><p>ç±»ä¼¼çš„ï¼Œå¦‚æœæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªç»§æ‰¿è‡ª <code>Person</code> çš„ <code>Teacher</code>ï¼Œå®ƒä»¬çš„ç»§æ‰¿æ ‘å…³ç³»å¦‚ä¸‹ï¼š</p><figure><img src="'+k+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="protected" tabindex="-1"><a class="header-anchor" href="#protected" aria-hidden="true">#</a> protected</h3><p>ç»§æ‰¿æœ‰ä¸ªç‰¹ç‚¹ï¼Œå°±æ˜¯ <strong><em>å­ç±»æ— æ³•è®¿é—®çˆ¶ç±»çš„ <code>private</code> å­—æ®µæˆ–è€… <code>private</code> æ–¹æ³•</em></strong> ã€‚ä¾‹å¦‚ï¼Œ<code>Student</code> ç±»å°±æ— æ³•è®¿é—® <code>Person</code> ç±»çš„ <code>name</code> å’Œ <code>age</code> å­—æ®µï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello,&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span> <span class="token comment">// ç¼–è¯‘é”™è¯¯ï¼šæ— æ³•è®¿é—® name å­—æ®µ</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä½¿å¾—ç»§æ‰¿çš„ä½œç”¨è¢«å‰Šå¼±äº†ã€‚ä¸ºäº†è®©å­ç±»å¯ä»¥è®¿é—®çˆ¶ç±»çš„å­—æ®µï¼Œæˆ‘ä»¬éœ€è¦æŠŠ <code>private</code> æ”¹ä¸º <code>protected</code> ã€‚<strong><em>ç”¨ <code>protected</code> ä¿®é¥°çš„å­—æ®µå¯ä»¥è¢«å­ç±»è®¿é—®</em></strong> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello,&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span> <span class="token comment">// OK!</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› æ­¤ï¼Œ<code>protected</code> å…³é”®å­—å¯ä»¥æŠŠå­—æ®µå’Œæ–¹æ³•çš„è®¿é—®æƒé™æ§åˆ¶åœ¨ç»§æ‰¿æ ‘å†…éƒ¨ï¼Œä¸€ä¸ª <code>protected</code> å­—æ®µå’Œæ–¹æ³•å¯ä»¥è¢«å…¶å­ç±»ï¼Œä»¥åŠå­ç±»çš„å­ç±»æ‰€è®¿é—®ï¼Œåé¢æˆ‘ä»¬è¿˜ä¼šè¯¦ç»†è®²è§£ã€‚</p><h3 id="super" tabindex="-1"><a class="header-anchor" href="#super" aria-hidden="true">#</a> super</h3><p><code>super</code> å…³é”®å­—è¡¨ç¤ºçˆ¶ç±»ï¼ˆè¶…ç±»ï¼‰ã€‚å­ç±»å¼•ç”¨çˆ¶ç±»çš„å­—æ®µæ—¶ï¼Œå¯ä»¥ç”¨ <code>super.fieldName</code> ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello,&quot;</span> <span class="token operator">+</span> <span class="token keyword">super</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…ä¸Šï¼Œè¿™é‡Œä½¿ç”¨ <code>super.name</code>ï¼Œæˆ–è€… <code>this.name</code>ï¼Œæˆ–è€… <code>name</code>ï¼Œæ•ˆæœéƒ½æ˜¯ä¸€æ ·çš„ã€‚ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å®šä½åˆ°çˆ¶ç±»çš„ <code>name</code> å­—æ®µã€‚</p><p>ä½†æ˜¯ï¼Œåœ¨æŸäº›æ—¶å€™ï¼Œå°±å¿…é¡»ä½¿ç”¨ <code>super</code> ã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;Xiao Ming&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼Œå¤§æ„æ˜¯åœ¨ <code>Student</code> çš„æ„é€ æ–¹æ³•ä¸­ï¼Œæ— æ³•è°ƒç”¨ <code>Person</code> çš„æ„é€ æ–¹æ³•ã€‚</p><p>è¿™æ˜¯å› ä¸ºåœ¨ Java ä¸­ï¼Œä»»ä½• <code>class</code> çš„æ„é€ æ–¹æ³•ï¼Œç¬¬ä¸€è¡Œè¯­å¥å¿…é¡»æ˜¯è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚å¦‚æœæ²¡æœ‰æ˜ç¡®åœ°è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨åŠ ä¸€å¥ <code>super();</code>ï¼Œæ‰€ä»¥ï¼Œ<code>Student</code> ç±»çš„æ„é€ æ–¹æ³•å®é™…ä¸Šæ˜¯è¿™æ ·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è‡ªåŠ¨è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†æ˜¯ï¼Œ<code>Person</code> ç±»å¹¶æ²¡æœ‰æ— å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œå› æ­¤ï¼Œç¼–è¯‘å¤±è´¥ã€‚</p><p>è§£å†³æ–¹æ³•æ˜¯è°ƒç”¨ <code>Person</code> ç±»å­˜åœ¨çš„æŸä¸ªæ„é€ æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³• Person(String, int)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·å°±å¯ä»¥æ­£å¸¸ç¼–è¯‘äº†ï¼</p><p>å› æ­¤æˆ‘ä»¬å¾—å‡ºç»“è®ºï¼š <strong><em>å¦‚æœçˆ¶ç±»æ²¡æœ‰é»˜è®¤çš„æ„é€ æ–¹æ³•ï¼Œå­ç±»å°±å¿…é¡»æ˜¾å¼è°ƒç”¨ <code>super()</code> å¹¶ç»™å‡ºå‚æ•°ä»¥ä¾¿è®©ç¼–è¯‘å™¨å®šä½åˆ°çˆ¶ç±»çš„ä¸€ä¸ªåˆé€‚çš„æ„é€ æ–¹æ³•</em></strong> ã€‚</p><p>è¿™é‡Œè¿˜é¡ºå¸¦å¼•å‡ºäº†å¦ä¸€ä¸ªé—®é¢˜ï¼šå³ <strong><em>å­ç±»ä¸ä¼šç»§æ‰¿ä»»ä½•çˆ¶ç±»çš„æ„é€ æ–¹æ³•</em></strong> ã€‚å­ç±»é»˜è®¤çš„æ„é€ æ–¹æ³•æ˜¯ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œä¸æ˜¯ç»§æ‰¿çš„ã€‚</p><h3 id="é˜»æ­¢ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#é˜»æ­¢ç»§æ‰¿" aria-hidden="true">#</a> é˜»æ­¢ç»§æ‰¿ *</h3><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œåªè¦æŸä¸ª <code>class</code> æ²¡æœ‰ <code>final</code> ä¿®é¥°ç¬¦ï¼Œé‚£ä¹ˆä»»ä½•ç±»éƒ½å¯ä»¥ä»è¯¥ <code>class</code> ç»§æ‰¿ã€‚</p><div class="hint-container important"><p class="hint-container-title">é‡è¦</p><p>ä» Java 15 å¼€å§‹ï¼Œå…è®¸ä½¿ç”¨ <code>sealed</code> ä¿®é¥° <code>class</code>ï¼Œå¹¶é€šè¿‡ <code>permits</code> æ˜ç¡®å†™å‡ºèƒ½å¤Ÿä»è¯¥ <code>class</code> ç»§æ‰¿çš„å­ç±»åç§°ã€‚</p></div><p>ä¾‹å¦‚ï¼Œå®šä¹‰ä¸€ä¸ª <code>Shape</code> ç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">Shape</span> <span class="token keyword">permits</span> <span class="token class-name">Rect</span><span class="token punctuation">,</span> <span class="token class-name">Circle</span><span class="token punctuation">,</span> <span class="token class-name">Triangle</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿° <code>Shape</code> ç±»å°±æ˜¯ä¸€ä¸ª <code>sealed</code> ç±»ï¼Œå®ƒåªå…è®¸æŒ‡å®šçš„ 3 ä¸ªç±»ç»§æ‰¿å®ƒã€‚å¦‚æœå†™ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Rect</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ˜¯æ²¡é—®é¢˜çš„ï¼Œå› ä¸º <code>Rect</code> å‡ºç°åœ¨ <code>Shape</code> çš„ <code>permits</code> åˆ—è¡¨ä¸­ã€‚ä½†æ˜¯ï¼Œå¦‚æœå®šä¹‰ä¸€ä¸ª <code>Ellipse</code> å°±ä¼šæŠ¥é”™ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Ellipse</span> <span class="token keyword">extends</span> <span class="token class-name">Shape</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token comment">// Compile error: class is not allowed to extend sealed class: Shape</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åŸå› æ˜¯ <code>Ellipse</code> å¹¶æœªå‡ºç°åœ¨ <code>Shape</code> çš„ <code>permits</code> åˆ—è¡¨ä¸­ã€‚è¿™ç§ <code>sealed</code> ç±»ä¸»è¦ç”¨äºä¸€äº›æ¡†æ¶ï¼Œé˜²æ­¢ç»§æ‰¿è¢«æ»¥ç”¨ã€‚</p><p><code>sealed</code> ç±»åœ¨ Java 15 ä¸­ç›®å‰æ˜¯é¢„è§ˆçŠ¶æ€ï¼Œè¦å¯ç”¨å®ƒï¼Œå¿…é¡»ä½¿ç”¨å‚æ•° <code>--enable-preview</code> å’Œ <code>--source 15</code> ã€‚</p><h3 id="å‘ä¸Šè½¬å‹" tabindex="-1"><a class="header-anchor" href="#å‘ä¸Šè½¬å‹" aria-hidden="true">#</a> å‘ä¸Šè½¬å‹</h3><p>å¦‚æœä¸€ä¸ªå¼•ç”¨å˜é‡çš„ç±»å‹æ˜¯ <code>Student</code>ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æŒ‡å‘ä¸€ä¸ª <code>Student</code> ç±»å‹çš„å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä¸€ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡æ˜¯ <code>Person</code>ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥æŒ‡å‘ä¸€ä¸ª <code>Person</code> ç±»å‹çš„å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°åœ¨é—®é¢˜æ¥äº†ï¼šå¦‚æœ <code>Student</code> æ˜¯ä» <code>Person</code> ç»§æ‰¿ä¸‹æ¥çš„ï¼Œé‚£ä¹ˆï¼Œä¸€ä¸ªå¼•ç”¨ç±»å‹ä¸º <code>Person</code> çš„å˜é‡ï¼Œèƒ½å¦æŒ‡å‘ <code>Student</code> ç±»å‹çš„å®ä¾‹ï¼Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ???</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æµ‹è¯•ä¸€ä¸‹å°±å¯ä»¥å‘ç°ï¼Œè¿™ç§æŒ‡å‘æ˜¯å…è®¸çš„ï¼</p><p>è¿™æ˜¯å› ä¸º <code>Student</code> ç»§æ‰¿è‡ª <code>Person</code>ï¼Œå› æ­¤ï¼Œå®ƒæ‹¥æœ‰ <code>Person</code> çš„å…¨éƒ¨åŠŸèƒ½ã€‚<code>Person</code> ç±»å‹çš„å˜é‡ï¼Œå¦‚æœæŒ‡å‘ <code>Student</code> ç±»å‹çš„å®ä¾‹ï¼Œå¯¹å®ƒè¿›è¡Œæ“ä½œï¼Œæ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼</p><p>è¿™ç§ <em>æŠŠä¸€ä¸ªå­ç±»ç±»å‹å®‰å…¨åœ°å˜ä¸ºçˆ¶ç±»ç±»å‹çš„èµ‹å€¼</em> ï¼Œè¢«ç§°ä¸º <strong><em>å‘ä¸Šè½¬å‹</em></strong> ï¼ˆ<em>upcasting</em>ï¼‰ã€‚</p><p>å‘ä¸Šè½¬å‹å®é™…ä¸Šæ˜¯æŠŠä¸€ä¸ªå­ç±»å‹å®‰å…¨åœ°å˜ä¸ºæ›´åŠ æŠ½è±¡çš„çˆ¶ç±»å‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Person</span> p <span class="token operator">=</span> s<span class="token punctuation">;</span> <span class="token comment">// upcasting, ok</span>
    <span class="token class-name">Object</span> o1 <span class="token operator">=</span> p<span class="token punctuation">;</span> <span class="token comment">// upcasting, ok</span>
    <span class="token class-name">Object</span> o2 <span class="token operator">=</span> s<span class="token punctuation">;</span> <span class="token comment">// upcasting, ok</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,80),w=n("p",null,[s("æ³¨æ„åˆ°ç»§æ‰¿æ ‘æ˜¯ "),n("span",{class:"katex"},[n("span",{class:"katex-mathml"},[n("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[n("semantics",null,[n("mrow",null,[n("mi",null,"S"),n("mi",null,"t"),n("mi",null,"u"),n("mi",null,"d"),n("mi",null,"e"),n("mi",null,"n"),n("mi",null,"t"),n("mo",null,">"),n("mi",null,"P"),n("mi",null,"e"),n("mi",null,"r"),n("mi",null,"s"),n("mi",null,"o"),n("mi",null,"n"),n("mo",null,">"),n("mi",null,"O"),n("mi",null,"b"),n("mi",null,"j"),n("mi",null,"e"),n("mi",null,"c"),n("mi",null,"t")]),n("annotation",{encoding:"application/x-tex"},"Student > Person > Object")])])]),n("span",{class:"katex-html","aria-hidden":"true"},[n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.7335em","vertical-align":"-0.0391em"}}),n("span",{class:"mord mathnormal"},"St"),n("span",{class:"mord mathnormal"},"u"),n("span",{class:"mord mathnormal"},"d"),n("span",{class:"mord mathnormal"},"e"),n("span",{class:"mord mathnormal"},"n"),n("span",{class:"mord mathnormal"},"t"),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),n("span",{class:"mrel"},">"),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.7224em","vertical-align":"-0.0391em"}}),n("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),n("span",{class:"mord mathnormal"},"erso"),n("span",{class:"mord mathnormal"},"n"),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),n("span",{class:"mrel"},">"),n("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),n("span",{class:"base"},[n("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),n("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),n("span",{class:"mord mathnormal",style:{"margin-right":"0.05724em"}},"bj"),n("span",{class:"mord mathnormal"},"ec"),n("span",{class:"mord mathnormal"},"t")])])]),s(" ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥æŠŠ "),n("code",null,"Student"),s(" ç±»å‹è½¬å‹ä¸º "),n("code",null,"Person"),s("ï¼Œæˆ–è€…æ›´é«˜å±‚æ¬¡çš„ "),n("code",null,"Object"),s(" ã€‚")],-1),g=t(`<h3 id="å‘ä¸‹è½¬å‹" tabindex="-1"><a class="header-anchor" href="#å‘ä¸‹è½¬å‹" aria-hidden="true">#</a> å‘ä¸‹è½¬å‹</h3><p>å’Œå‘ä¸Šè½¬å‹ç›¸åï¼Œå¦‚æœæŠŠä¸€ä¸ªçˆ¶ç±»ç±»å‹å¼ºåˆ¶è½¬å‹ä¸ºå­ç±»ç±»å‹ï¼Œå°±æ˜¯å‘ä¸‹è½¬å‹ï¼ˆ<em>downcasting</em>ï¼‰ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Person</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// upcasting, ok</span>
    <span class="token class-name">Person</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Student</span> s1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> p1<span class="token punctuation">;</span> <span class="token comment">// ok</span>
    <span class="token class-name">Student</span> s2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> p2<span class="token punctuation">;</span> <span class="token comment">// runtime error! ClassCastException!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæµ‹è¯•ä¸Šé¢çš„ä»£ç ï¼Œå¯ä»¥å‘ç°ï¼š</p><p><code>Person</code> ç±»å‹ <code>p1</code> å®é™…æŒ‡å‘ <code>Student</code> å®ä¾‹ï¼Œ<code>Person</code> ç±»å‹å˜é‡ <code>p2</code> å®é™…æŒ‡å‘ <code>Person</code> å®ä¾‹ã€‚åœ¨å‘ä¸‹è½¬å‹çš„æ—¶å€™ï¼ŒæŠŠ <code>p1</code> è½¬å‹ä¸º <code>Student</code> ä¼šæˆåŠŸï¼Œå› ä¸º <code>p1</code> ç¡®å®æŒ‡å‘ <code>Student</code> å®ä¾‹ï¼ŒæŠŠ <code>p2</code> è½¬å‹ä¸º <code>Student</code> ä¼šå¤±è´¥ï¼Œå› ä¸º <code>p2</code> çš„å®é™…ç±»å‹æ˜¯ <code>Person</code>ï¼Œä¸èƒ½æŠŠçˆ¶ç±»å˜ä¸ºå­ç±»ï¼Œå› ä¸ºå­ç±»åŠŸèƒ½æ¯”çˆ¶ç±»å¤šï¼Œå¤šçš„åŠŸèƒ½æ— æ³•å‡­ç©ºå˜å‡ºæ¥ã€‚</p><p>å› æ­¤ï¼Œå‘ä¸‹è½¬å‹å¾ˆå¯èƒ½ä¼šå¤±è´¥ã€‚å¤±è´¥çš„æ—¶å€™ï¼ŒJava è™šæ‹Ÿæœºä¼šæŠ¥ <code>ClassCastException</code> ã€‚</p><p>ä¸ºäº†é¿å…å‘ä¸‹è½¬å‹å‡ºé”™ï¼ŒJava æä¾›äº† <code>instanceof</code> æ“ä½œç¬¦ï¼Œå¯ä»¥å…ˆåˆ¤æ–­ä¸€ä¸ªå®ä¾‹ç©¶ç«Ÿæ˜¯ä¸æ˜¯æŸç§ç±»å‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

    <span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

    <span class="token class-name">Student</span> n <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>instanceof</code> å®é™…ä¸Šåˆ¤æ–­ä¸€ä¸ªå˜é‡æ‰€æŒ‡å‘çš„å®ä¾‹æ˜¯å¦æ˜¯æŒ‡å®šç±»å‹ï¼Œæˆ–è€…è¿™ä¸ªç±»å‹çš„å­ç±»ã€‚å¦‚æœä¸€ä¸ªå¼•ç”¨å˜é‡ä¸º <code>null</code>ï¼Œé‚£ä¹ˆå¯¹ä»»ä½• <code>instanceof</code> çš„åˆ¤æ–­éƒ½ä¸º <code>falseã€‚</code></p><p>åˆ©ç”¨ <code>instanceof</code>ï¼Œåœ¨å‘ä¸‹è½¬å‹å‰å¯ä»¥å…ˆåˆ¤æ–­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// åªæœ‰åˆ¤æ–­æˆåŠŸæ‰ä¼šå‘ä¸‹è½¬å‹:</span>
        <span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">)</span> p<span class="token punctuation">;</span> <span class="token comment">// ä¸€å®šä¼šæˆåŠŸ</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container important"><p class="hint-container-title">é‡è¦</p><p>ä» Java 14 å¼€å§‹ï¼Œåˆ¤æ–­ <code>instanceof</code> åï¼Œå¯ä»¥ç›´æ¥è½¬å‹ä¸ºæŒ‡å®šå˜é‡ï¼Œé¿å…å†æ¬¡å¼ºåˆ¶è½¬å‹ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä»¥ä¸‹ä»£ç ï¼š</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> obj<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥æ”¹å†™å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span> obj <span class="token operator">=</span> <span class="token string">&quot;hello&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// å¯ä»¥ç›´æ¥ä½¿ç”¨å˜é‡ s:</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§ä½¿ç”¨ <code>instanceof</code> çš„å†™æ³•æ›´åŠ ç®€æ´ã€‚</p><h3 id="åŒºåˆ†ç»§æ‰¿å’Œç»„åˆ" tabindex="-1"><a class="header-anchor" href="#åŒºåˆ†ç»§æ‰¿å’Œç»„åˆ" aria-hidden="true">#</a> åŒºåˆ†ç»§æ‰¿å’Œç»„åˆ</h3><p>åœ¨ä½¿ç”¨ç»§æ‰¿æ—¶ï¼Œæˆ‘ä»¬è¦æ³¨æ„é€»è¾‘ä¸€è‡´æ€§ã€‚</p><p>è€ƒå¯Ÿä¸‹é¢çš„ <code>Book</code> ç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ª <code>Book</code> ç±»ä¹Ÿæœ‰ <code>name</code> å­—æ®µï¼Œé‚£ä¹ˆï¼Œæˆ‘ä»¬èƒ½ä¸èƒ½è®© <code>Student</code> ç»§æ‰¿è‡ª <code>Book</code> å‘¢ï¼Ÿ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Book</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ˜¾ç„¶ï¼Œä»é€»è¾‘ä¸Šè®²ï¼Œè¿™æ˜¯ä¸åˆç†çš„ï¼Œ<code>Student</code> ä¸åº”è¯¥ä» <code>Book</code> ç»§æ‰¿ï¼Œè€Œåº”è¯¥ä» <code>Person</code> ç»§æ‰¿ã€‚</p><p>ç©¶å…¶åŸå› ï¼Œæ˜¯å› ä¸º <code>Student</code> æ˜¯ <code>Person</code> çš„ä¸€ç§ï¼Œå®ƒä»¬æ˜¯ <code>is</code> å…³ç³»ï¼Œè€Œ <code>Student</code> å¹¶ä¸æ˜¯ <code>Book</code> ã€‚å®é™…ä¸Š <code>Student</code> å’Œ <code>Book</code> çš„å…³ç³»æ˜¯ has å…³ç³»ã€‚</p><p>å…·æœ‰ has å…³ç³»ä¸åº”è¯¥ä½¿ç”¨ç»§æ‰¿ï¼Œè€Œæ˜¯ä½¿ç”¨ç»„åˆï¼Œå³ <code>Student</code> å¯ä»¥æŒæœ‰ä¸€ä¸ª <code>Book</code> å®ä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">Book</span> book<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› æ­¤ï¼Œç»§æ‰¿æ˜¯ <code>is</code> å…³ç³»ï¼Œç»„åˆæ˜¯ <code>has</code> å…³ç³»ã€‚</p><h3 id="ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ " aria-hidden="true">#</a> ç»ƒä¹ </h3><p>å®šä¹‰ <code>PrimaryStudent</code>ï¼Œä» <code>Student</code> ç»§æ‰¿ï¼Œå¹¶æ–°å¢ä¸€ä¸ª <code>grade</code> å­—æ®µï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PrimaryStudentTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">PersonD</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PersonD</span><span class="token punctuation">(</span><span class="token string">&quot;å°æ˜&quot;</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StudentD</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StudentD</span><span class="token punctuation">(</span><span class="token string">&quot;å°çº¢&quot;</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// TODO: å®šä¹‰ PrimaryStudentï¼Œä» Student ç»§æ‰¿ï¼Œæ–°å¢ grade å­—æ®µ:</span>
        <span class="token class-name">StudentD</span> ps <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrimaryStudent</span><span class="token punctuation">(</span><span class="token string">&quot;å°å†›&quot;</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ps<span class="token punctuation">.</span><span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">PersonD</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">PersonD</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> name<span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> age<span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAge</span><span class="token punctuation">(</span><span class="token keyword">int</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">StudentD</span> <span class="token keyword">extends</span> <span class="token class-name">PersonD</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> score<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">StudentD</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> score<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">PrimaryStudent</span> <span class="token keyword">extends</span> <span class="token class-name">StudentD</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO</span>
    <span class="token keyword">protected</span> <span class="token keyword">int</span> grade<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">PrimaryStudent</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> age<span class="token punctuation">,</span> <span class="token keyword">int</span> score<span class="token punctuation">,</span> <span class="token keyword">int</span> grade<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> score<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>grade <span class="token operator">=</span> grade<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å°ç»“" tabindex="-1"><a class="header-anchor" href="#å°ç»“" aria-hidden="true">#</a> å°ç»“</h3><ul><li>ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ç§å¼ºå¤§çš„ä»£ç å¤ç”¨æ–¹å¼ï¼›</li><li>Java åªå…è®¸å•ç»§æ‰¿ï¼Œæ‰€æœ‰ç±»æœ€ç»ˆçš„æ ¹ç±»æ˜¯ <code>Object</code> ï¼›</li><li><code>protected</code> å…è®¸å­ç±»è®¿é—®çˆ¶ç±»çš„å­—æ®µå’Œæ–¹æ³•ï¼›</li><li>å­ç±»çš„æ„é€ æ–¹æ³•å¯ä»¥é€šè¿‡ <code>super()</code> è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼›</li><li>å¯ä»¥å®‰å…¨åœ°å‘ä¸Šè½¬å‹ä¸ºæ›´æŠ½è±¡çš„ç±»å‹ï¼›</li><li>å¯ä»¥å¼ºåˆ¶å‘ä¸‹è½¬å‹ï¼Œæœ€å¥½å€ŸåŠ© <code>instanceof</code> åˆ¤æ–­ï¼›</li><li>å­ç±»å’Œçˆ¶ç±»çš„å…³ç³»æ˜¯ <code>is</code>ï¼Œ<code>has</code> å…³ç³»ä¸èƒ½ç”¨ç»§æ‰¿ã€‚</li></ul><h4 id="ç»§æ‰¿æ€§çš„å¥½å¤„" tabindex="-1"><a class="header-anchor" href="#ç»§æ‰¿æ€§çš„å¥½å¤„" aria-hidden="true">#</a> ç»§æ‰¿æ€§çš„å¥½å¤„ï¼š</h4><p>â‘  å‡å°‘äº†ä»£ç çš„å†—ä½™ï¼Œæé«˜äº†ä»£ç çš„å¤ç”¨æ€§ â‘¡ ä¾¿äºåŠŸèƒ½çš„æ‰©å±• â‘¢ ä¸ºä¹‹åå¤šæ€æ€§çš„ä½¿ç”¨ï¼Œæä¾›äº†å‰æ</p><h4 id="å­ç±»ç»§æ‰¿çˆ¶ç±»åæœ‰å“ªäº›ä¸åŒ" tabindex="-1"><a class="header-anchor" href="#å­ç±»ç»§æ‰¿çˆ¶ç±»åæœ‰å“ªäº›ä¸åŒ" aria-hidden="true">#</a> å­ç±»ç»§æ‰¿çˆ¶ç±»åæœ‰å“ªäº›ä¸åŒï¼Ÿ</h4><ol><li>ä½“ç°ï¼šä¸€æ—¦å­ç±» A ç»§æ‰¿çˆ¶ç±» B ä»¥åï¼Œå­ç±» A ä¸­å°±è·å–äº†çˆ¶ç±» B ä¸­å£°æ˜çš„æ‰€æœ‰çš„å±æ€§ã€æ–¹æ³•ã€‚ <ul><li>ç‰¹åˆ«çš„ï¼Œçˆ¶ç±»ä¸­å£°æ˜ä¸º <code>private</code> çš„å±æ€§æˆ–æ–¹æ³•ï¼Œå­ç±»ç»§æ‰¿çˆ¶ç±»ä»¥åï¼Œä»ç„¶è®¤ä¸º <em>è·å–äº†çˆ¶ç±»ä¸­ç§æœ‰çš„ç»“æ„</em> ï¼Œåªå› ä¸ºå°è£…æ€§çš„å½±å“ï¼Œä½¿å¾—å­ç±»ä¸èƒ½ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„ç»“æ„è€Œå·²ã€‚</li></ul></li><li>å­ç±»ç»§æ‰¿çˆ¶ç±»ä»¥åï¼Œè¿˜å¯ä»¥ <em>å£°æ˜è‡ªå·±ç‰¹æœ‰çš„å±æ€§æˆ–æ–¹æ³•</em> ï¼Œå®ç°åŠŸèƒ½çš„æ‹“å±•ã€‚</li></ol><h4 id="java-ä¸­å…³äºç»§æ‰¿æ€§çš„è§„å®š" tabindex="-1"><a class="header-anchor" href="#java-ä¸­å…³äºç»§æ‰¿æ€§çš„è§„å®š" aria-hidden="true">#</a> Java ä¸­å…³äºç»§æ‰¿æ€§çš„è§„å®š</h4><ol><li>ä¸€ä¸ªç±»å¯ä»¥è¢«å¤šä¸ªå­ç±»ç»§æ‰¿ï¼›</li><li>Java ä¸­ç±»çš„å•ç»§æ‰¿æ€§ï¼šä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ï¼›</li><li>å­çˆ¶ç±»æ˜¯ç›¸å¯¹çš„æ¦‚å¿µï¼ˆå¤šå±‚ç»§æ‰¿ï¼‰ï¼›</li><li>å­ç±»ç›´æ¥ç»§æ‰¿çš„çˆ¶ç±»ï¼šç›´æ¥çˆ¶ç±»ï¼›å­ç±»é—´æ¥ç»§æ‰¿çš„çˆ¶ç±»ï¼šé—´æ¥çˆ¶ç±»ï¼›</li><li>å­ç±»ç»§æ‰¿çˆ¶ç±»ä»¥åï¼Œå°±è·å–äº†ç›´æ¥çˆ¶ç±»ä»¥åŠæ‰€æœ‰é—´æ¥çˆ¶ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ã€‚</li></ol><h2 id="ğŸ€-å¤šæ€æ€§-polymorphic" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å¤šæ€æ€§-polymorphic" aria-hidden="true">#</a> ğŸ€ å¤šæ€æ€§(Polymorphic)</h2><p>åœ¨ä¸Šä¸€èŠ‚ä¸­ï¼Œæˆ‘ä»¬å·²ç»çŸ¥é“ï¼Œå¼•ç”¨å˜é‡çš„å£°æ˜ç±»å‹å¯èƒ½ä¸å…¶å®é™…ç±»å‹ä¸ç¬¦ï¼Œä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸€ç§æƒ…å†µï¼Œå¦‚æœå­ç±»é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åº”è¯¥æ‰“å° Person.run è¿˜æ˜¯ Student.run?</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Person.run&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Student.run&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆï¼Œä¸€ä¸ªå®é™…ç±»å‹ä¸º <code>Student</code>ï¼Œå¼•ç”¨ç±»å‹ä¸º <code>Person</code> çš„å˜é‡ï¼Œè°ƒç”¨å…¶ <code>run()</code> æ–¹æ³•ï¼Œè°ƒç”¨çš„æ˜¯ <code>Person</code> è¿˜æ˜¯ <code>Student</code> çš„ <code>run()</code> æ–¹æ³•ï¼Ÿ</p><p>è¿è¡Œä¸€ä¸‹ä¸Šé¢çš„ä»£ç å°±å¯ä»¥çŸ¥é“ï¼Œå®é™…ä¸Šè°ƒç”¨çš„æ–¹æ³•æ˜¯ <code>Student</code> çš„ <code>run()</code> æ–¹æ³•ã€‚å› æ­¤å¯å¾—å‡ºç»“è®ºï¼š</p><p>Java çš„å®ä¾‹æ–¹æ³•è°ƒç”¨æ˜¯åŸºäºè¿è¡Œæ—¶çš„å®é™…ç±»å‹çš„åŠ¨æ€è°ƒç”¨ï¼Œè€Œéå˜é‡çš„å£°æ˜ç±»å‹ã€‚</p><p>è¿™ä¸ªéå¸¸é‡è¦çš„ç‰¹æ€§åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­ç§°ä¹‹ä¸ºå¤šæ€ã€‚å®ƒçš„è‹±æ–‡æ‹¼å†™éå¸¸å¤æ‚ï¼š <strong><em>Polymorphic</em></strong> ã€‚</p><h3 id="å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#å®šä¹‰" aria-hidden="true">#</a> å®šä¹‰</h3><p>å¤šæ€æ˜¯æŒ‡ï¼Œ<strong><em>é’ˆå¯¹æŸä¸ªç±»å‹çš„æ–¹æ³•è°ƒç”¨ï¼Œå…¶çœŸæ­£æ‰§è¡Œçš„æ–¹æ³•å–å†³äºè¿è¡Œæ—¶æœŸå®é™…ç±»å‹çš„æ–¹æ³•ã€‚</em></strong> ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ— æ³•ç¡®å®šè¿è¡Œæ—¶ç©¶ç«Ÿè°ƒç”¨å“ªä¸ª run() æ–¹æ³•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰ç«¥é‹ä¼šé—®ï¼Œä»ä¸Šé¢çš„ä»£ç ä¸€çœ‹å°±æ˜ç™½ï¼Œè‚¯å®šè°ƒç”¨çš„æ˜¯ Student çš„ run() æ–¹æ³•å•Šã€‚</p><p>ä½†æ˜¯ï¼Œå‡è®¾æˆ‘ä»¬ç¼–å†™è¿™æ ·ä¸€ä¸ªæ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runTwice</span><span class="token punctuation">(</span><span class="token class-name">Person</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒä¼ å…¥çš„å‚æ•°ç±»å‹æ˜¯ <code>Person</code>ï¼Œæˆ‘ä»¬æ˜¯æ— æ³•çŸ¥é“ä¼ å…¥çš„å‚æ•°å®é™…ç±»å‹ç©¶ç«Ÿæ˜¯ <code>Person</code>ï¼Œè¿˜æ˜¯ <code>Student</code>ï¼Œè¿˜æ˜¯ <code>Person</code> çš„å…¶ä»–å­ç±»ï¼Œå› æ­¤ï¼Œä¹Ÿæ— æ³•ç¡®å®šè°ƒç”¨çš„æ˜¯ä¸æ˜¯ <code>Person</code> ç±»å®šä¹‰çš„ <code>run()</code> æ–¹æ³•ã€‚</p><p>æ‰€ä»¥ï¼Œå¤šæ€çš„ç‰¹æ€§å°±æ˜¯ï¼Œ<strong><em>è¿è¡ŒæœŸæ‰èƒ½åŠ¨æ€å†³å®šè°ƒç”¨çš„å­ç±»æ–¹æ³•</em></strong> ã€‚å¯¹æŸä¸ªç±»å‹è°ƒç”¨æŸä¸ªæ–¹æ³•ï¼Œæ‰§è¡Œçš„å®é™…æ–¹æ³•å¯èƒ½æ˜¯æŸä¸ªå­ç±»çš„é‡å†™æ–¹æ³•ã€‚è¿™ç§ä¸ç¡®å®šæ€§çš„æ–¹æ³•è°ƒç”¨ï¼Œç©¶ç«Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</p><p>æˆ‘ä»¬è¿˜æ˜¯æ¥ä¸¾æ —å­ã€‚</p><p>å‡è®¾æˆ‘ä»¬å®šä¹‰ä¸€ç§æ”¶å…¥ï¼Œéœ€è¦ç»™å®ƒæŠ¥ç¨ï¼Œé‚£ä¹ˆå…ˆå®šä¹‰ä¸€ä¸ª <code>Income</code> ç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Income</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> income<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> income <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">;</span> <span class="token comment">// ç¨ç‡ 10%</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºå·¥èµ„æ”¶å…¥ï¼Œå¯ä»¥å‡å»ä¸€ä¸ªåŸºæ•°ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä» <code>Income</code> æ´¾ç”Ÿå‡º <code>SalaryIncome</code>ï¼Œå¹¶é‡å†™ <code>getTax()</code> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Salary</span> <span class="token keyword">extends</span> <span class="token class-name">Income</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>income <span class="token operator">&lt;=</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>income <span class="token operator">-</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ äº«å—å›½åŠ¡é™¢ç‰¹æ®Šæ´¥è´´ï¼Œé‚£ä¹ˆæŒ‰ç…§è§„å®šï¼Œå¯ä»¥å…¨éƒ¨å…ç¨ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">StateCouncilSpecialAllowance</span> <span class="token keyword">extends</span> <span class="token class-name">Income</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬è¦ç¼–å†™ä¸€ä¸ªæŠ¥ç¨çš„è´¢åŠ¡è½¯ä»¶ï¼Œå¯¹äºä¸€ä¸ªäººçš„æ‰€æœ‰æ”¶å…¥è¿›è¡ŒæŠ¥ç¨ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">totalTax</span><span class="token punctuation">(</span><span class="token class-name">Income</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> incomes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">double</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Income</span> income<span class="token operator">:</span> incomes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        total <span class="token operator">=</span> total <span class="token operator">+</span> income<span class="token punctuation">.</span><span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> total<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥è¯•ä¸€ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Polymorphic</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç»™ä¸€ä¸ªæœ‰æ™®é€šæ”¶å…¥ã€å·¥èµ„æ”¶å…¥å’Œäº«å—å›½åŠ¡é™¢ç‰¹æ®Šæ´¥è´´çš„å°ä¼™ä¼´ç®—ç¨:</span>
        <span class="token class-name">Income</span><span class="token punctuation">[</span><span class="token punctuation">]</span> incomes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Income</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
            <span class="token keyword">new</span> <span class="token class-name">Income</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">Salary</span><span class="token punctuation">(</span><span class="token number">7500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">StateCouncilSpecialAllowance</span><span class="token punctuation">(</span><span class="token number">15000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">totalTax</span><span class="token punctuation">(</span>incomes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">totalTax</span><span class="token punctuation">(</span><span class="token class-name">Income</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> incomes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Income</span> income<span class="token operator">:</span> incomes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            total <span class="token operator">=</span> total <span class="token operator">+</span> income<span class="token punctuation">.</span><span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> total<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Income</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> income<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Income</span><span class="token punctuation">(</span><span class="token keyword">double</span> income<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>income <span class="token operator">=</span> income<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> income <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">;</span> <span class="token comment">// ç¨ç‡ 10%</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Salary</span> <span class="token keyword">extends</span> <span class="token class-name">Income</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Salary</span><span class="token punctuation">(</span><span class="token keyword">double</span> income<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>income<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>income <span class="token operator">&lt;=</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>income <span class="token operator">-</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">StateCouncilSpecialAllowance</span> <span class="token keyword">extends</span> <span class="token class-name">Income</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">StateCouncilSpecialAllowance</span><span class="token punctuation">(</span><span class="token keyword">double</span> income<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>income<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è§‚å¯Ÿ <code>totalTax()</code> æ–¹æ³•ï¼šåˆ©ç”¨å¤šæ€ï¼Œ<code>totalTax()</code> æ–¹æ³•åªéœ€è¦å’Œ <code>Income</code> æ‰“äº¤é“ï¼Œå®ƒå®Œå…¨ä¸éœ€è¦çŸ¥é“ <code>Salary</code> å’Œ <code>StateCouncilSpecialAllowance</code> çš„å­˜åœ¨ï¼Œå°±å¯ä»¥æ­£ç¡®è®¡ç®—å‡ºæ€»çš„ç¨ã€‚å¦‚æœæˆ‘ä»¬è¦æ–°å¢ä¸€ç§ç¨¿è´¹æ”¶å…¥ï¼Œåªéœ€è¦ä» <code>Income</code> æ´¾ç”Ÿï¼Œç„¶åæ­£ç¡®é‡å†™ <code>getTax()</code> æ–¹æ³•å°±å¯ä»¥ã€‚æŠŠæ–°çš„ç±»å‹ä¼ å…¥ <code>totalTax()</code>ï¼Œä¸éœ€è¦ä¿®æ”¹ä»»ä½•ä»£ç ã€‚</p><p>å¯è§ï¼Œå¤šæ€å…·æœ‰ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå°±æ˜¯ <strong><em>å…è®¸æ·»åŠ æ›´å¤šç±»å‹çš„å­ç±»å®ç°åŠŸèƒ½æ‰©å±•ï¼Œå´ä¸éœ€è¦ä¿®æ”¹åŸºäºçˆ¶ç±»çš„ä»£ç </em></strong> ã€‚</p><h3 id="é‡å†™-object-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#é‡å†™-object-æ–¹æ³•" aria-hidden="true">#</a> é‡å†™ Object æ–¹æ³•</h3><p>å› ä¸ºæ‰€æœ‰çš„ <code>class</code> æœ€ç»ˆéƒ½ç»§æ‰¿è‡ª <code>Object</code>ï¼Œè€Œ <code>Object</code> å®šä¹‰äº†å‡ ä¸ªé‡è¦çš„æ–¹æ³•ï¼š</p><ul><li><code>toString()</code> ï¼šæŠŠ <code>instance</code> è¾“å‡ºä¸º <code>String</code> ï¼›</li><li><code>equals()</code> ï¼šåˆ¤æ–­ä¸¤ä¸ª <code>instance</code> æ˜¯å¦é€»è¾‘ç›¸ç­‰ï¼›</li><li><code>hashCode()</code> ï¼šè®¡ç®—ä¸€ä¸ª <code>instance</code> çš„å“ˆå¸Œå€¼ã€‚</li></ul><p>åœ¨å¿…è¦çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é‡å†™ <code>Object</code> çš„è¿™å‡ ä¸ªæ–¹æ³•ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token comment">// æ˜¾ç¤ºæ›´æœ‰æ„ä¹‰çš„å­—ç¬¦ä¸²:</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Person:name=&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰:</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å½“ä¸”ä»…å½“ o ä¸º Person ç±»å‹:</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">)</span> o<span class="token punctuation">;</span>
            <span class="token comment">// å¹¶ä¸” name å­—æ®µç›¸åŒæ—¶ï¼Œè¿”å› true:</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// è®¡ç®— hash:</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è°ƒç”¨-super" tabindex="-1"><a class="header-anchor" href="#è°ƒç”¨-super" aria-hidden="true">#</a> è°ƒç”¨ super</h3><p>åœ¨å­ç±»çš„é‡å†™æ–¹æ³•ä¸­ï¼Œå¦‚æœè¦ <strong><em>è°ƒç”¨çˆ¶ç±»çš„è¢«é‡å†™çš„æ–¹æ³•</em></strong> ï¼Œå¯ä»¥é€šè¿‡ <code>super</code> æ¥è°ƒç”¨ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello,&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// è°ƒç”¨çˆ¶ç±»çš„ hello() æ–¹æ³•:</span>
        <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;!&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="final" tabindex="-1"><a class="header-anchor" href="#final" aria-hidden="true">#</a> final</h3><p>ç»§æ‰¿å¯ä»¥å…è®¸å­ç±»é‡å†™çˆ¶ç±»çš„æ–¹æ³•ã€‚å¦‚æœä¸€ä¸ªçˆ¶ç±»ä¸å…è®¸å­ç±»å¯¹å®ƒçš„æŸä¸ªæ–¹æ³•è¿›è¡Œé‡å†™ï¼Œå¯ä»¥æŠŠè¯¥æ–¹æ³•æ ‡è®°ä¸º <code>final</code> ã€‚<strong><em>ç”¨ <code>final</code> ä¿®é¥°çš„æ–¹æ³•ä¸èƒ½è¢« <code>Override</code></em></strong> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;Hello,&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token comment">// compile error: ä¸å…è®¸é‡å†™</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä¸€ä¸ªç±»ä¸å¸Œæœ›ä»»ä½•å…¶ä»–ç±»ç»§æ‰¿è‡ªå®ƒï¼Œé‚£ä¹ˆå¯ä»¥æŠŠè¿™ä¸ªç±»æœ¬èº«æ ‡è®°ä¸º <code>final</code> ã€‚<strong><em>ç”¨ <code>final</code> ä¿®é¥°çš„ç±»ä¸èƒ½è¢«ç»§æ‰¿</em></strong> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">final</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// compile error: ä¸å…è®¸ç»§æ‰¿è‡ª Person</span>
<span class="token class-name">Student</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹äºä¸€ä¸ªç±»çš„å®ä¾‹å­—æ®µï¼ŒåŒæ ·å¯ä»¥ç”¨ <code>final</code> ä¿®é¥°ã€‚<strong><em>ç”¨ <code>final</code> ä¿®é¥°çš„å­—æ®µåœ¨åˆå§‹åŒ–åä¸èƒ½è¢«ä¿®æ”¹ã€‚</em></strong> ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">&quot;Unamed&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹ <code>final</code> å­—æ®µé‡æ–°èµ‹å€¼ä¼šæŠ¥é”™ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>    <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    p<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;New Name&quot;</span><span class="token punctuation">;</span> <span class="token comment">// compile error!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ– <code>final</code> å­—æ®µï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ç§æ–¹æ³•æ›´ä¸ºå¸¸ç”¨ï¼Œå› ä¸º <strong><em>å¯ä»¥ä¿è¯å®ä¾‹ä¸€æ—¦åˆ›å»ºï¼Œå…¶ <code>final</code> å­—æ®µå°±ä¸å¯ä¿®æ”¹</em></strong> ã€‚</p><h3 id="ç»ƒä¹ -1" tabindex="-1"><a class="header-anchor" href="#ç»ƒä¹ -1" aria-hidden="true">#</a> ç»ƒä¹ </h3><p>ç»™ä¸€ä¸ªæœ‰å·¥èµ„æ”¶å…¥å’Œç¨¿è´¹æ”¶å…¥çš„å°ä¼™ä¼´ç®—ç¨ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PolymorphicTest</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç»™ä¸€ä¸ªæœ‰å·¥èµ„æ”¶å…¥å’Œç¨¿è´¹æ”¶å…¥çš„å°ä¼™ä¼´ç®—ç¨:</span>
        <span class="token class-name">Income</span><span class="token punctuation">[</span><span class="token punctuation">]</span> incomes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Income</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
                <span class="token keyword">new</span> <span class="token class-name">Salary</span><span class="token punctuation">(</span><span class="token number">8000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token class-name">RoyaltyIncome</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token class-name">Person</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;Frank&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token punctuation">.</span><span class="token function">setIncome</span><span class="token punctuation">(</span>incomes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">double</span> totalTax <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getTotalTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%s&#39;s total tax is: %.2f&quot;</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span><span class="token function">getTotalTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">double</span> <span class="token function">totalTax</span><span class="token punctuation">(</span><span class="token class-name">Income</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> incomes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Income</span> income<span class="token operator">:</span> incomes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            total <span class="token operator">=</span> total <span class="token operator">+</span> income<span class="token punctuation">.</span><span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> total<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token class-name">Income</span><span class="token punctuation">[</span><span class="token punctuation">]</span> incomes<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setIncome</span><span class="token punctuation">(</span><span class="token class-name">Income</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> incomes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>incomes <span class="token operator">=</span> incomes<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTotalTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">double</span> totalTax <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Income</span> income <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>incomes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            totalTax <span class="token operator">+=</span> income<span class="token punctuation">.</span><span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> totalTax<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Income</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">double</span> income<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Income</span><span class="token punctuation">(</span><span class="token keyword">double</span> income<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>income <span class="token operator">=</span> income<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> income <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">;</span> <span class="token comment">// ç¨ç‡ 10%</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Salary</span> <span class="token keyword">extends</span> <span class="token class-name">Income</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">Salary</span><span class="token punctuation">(</span><span class="token keyword">double</span> income<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>income<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>income <span class="token operator">&lt;=</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>income <span class="token operator">-</span> <span class="token number">5000</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">RoyaltyIncome</span> <span class="token keyword">extends</span> <span class="token class-name">Income</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">RoyaltyIncome</span><span class="token punctuation">(</span><span class="token keyword">double</span> income<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span>income<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">double</span> <span class="token function">getTax</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> income <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span><span class="token comment">//ç¨¿è´¹æ”¶å…¥ç¨ç‡æ˜¯20%</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å°ç»“-1" tabindex="-1"><a class="header-anchor" href="#å°ç»“-1" aria-hidden="true">#</a> å°ç»“</h3><ul><li>å­ç±»å¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼ˆ<em>Override</em>ï¼‰ï¼Œé‡å†™åœ¨å­ç±»ä¸­æ”¹å˜äº†çˆ¶ç±»æ–¹æ³•çš„è¡Œä¸ºï¼›</li><li>Java çš„æ–¹æ³•è°ƒç”¨æ€»æ˜¯ä½œç”¨äºè¿è¡ŒæœŸå¯¹è±¡çš„å®é™…ç±»å‹ï¼Œè¿™ç§è¡Œä¸ºç§°ä¸ºå¤šæ€ï¼›</li><li><code>final</code> ä¿®é¥°ç¬¦æœ‰å¤šç§ä½œç”¨ï¼š</li><li><code>final</code> ä¿®é¥°çš„æ–¹æ³•å¯ä»¥é˜»æ­¢è¢«é‡å†™ï¼›</li><li><code>final</code> ä¿®é¥°çš„ <code>class</code> å¯ä»¥é˜»æ­¢è¢«ç»§æ‰¿ï¼›</li><li><code>final</code> ä¿®é¥°çš„ <code>field</code> å¿…é¡»åœ¨åˆ›å»ºå¯¹è±¡æ—¶åˆå§‹åŒ–ï¼Œéšåä¸å¯ä¿®æ”¹ã€‚</li></ul>`,93);function h(f,S){const a=o("router-link");return l(),i("div",null,[n("details",m,[v,n("nav",b,[n("ul",null,[n("li",null,[e(a,{to:"#ğŸ€-å°è£…æ€§-encapsulation"},{default:p(()=>[s("ğŸ€ å°è£…æ€§ï¼ˆEncapsulationï¼‰")]),_:1}),n("ul",null,[n("li",null,[e(a,{to:"#å°è£…æ€§çš„ä½“ç°"},{default:p(()=>[s("å°è£…æ€§çš„ä½“ç°")]),_:1})]),n("li",null,[e(a,{to:"#ä¸ºä»€ä¹ˆéœ€è¦å°è£…-å°è£…çš„ä½œç”¨å’Œå«ä¹‰"},{default:p(()=>[s("ä¸ºä»€ä¹ˆéœ€è¦å°è£…ï¼Ÿå°è£…çš„ä½œç”¨å’Œå«ä¹‰ï¼Ÿ")]),_:1})])])]),n("li",null,[e(a,{to:"#ğŸ€-ç»§æ‰¿æ€§-inheritance"},{default:p(()=>[s("ğŸ€ ç»§æ‰¿æ€§ï¼ˆinheritanceï¼‰")]),_:1}),n("ul",null,[n("li",null,[e(a,{to:"#ç»§æ‰¿æ ‘"},{default:p(()=>[s("ç»§æ‰¿æ ‘")]),_:1})]),n("li",null,[e(a,{to:"#protected"},{default:p(()=>[s("protected")]),_:1})]),n("li",null,[e(a,{to:"#super"},{default:p(()=>[s("super")]),_:1})]),n("li",null,[e(a,{to:"#é˜»æ­¢ç»§æ‰¿"},{default:p(()=>[s("é˜»æ­¢ç»§æ‰¿ *")]),_:1})]),n("li",null,[e(a,{to:"#å‘ä¸Šè½¬å‹"},{default:p(()=>[s("å‘ä¸Šè½¬å‹")]),_:1})]),n("li",null,[e(a,{to:"#å‘ä¸‹è½¬å‹"},{default:p(()=>[s("å‘ä¸‹è½¬å‹")]),_:1})]),n("li",null,[e(a,{to:"#åŒºåˆ†ç»§æ‰¿å’Œç»„åˆ"},{default:p(()=>[s("åŒºåˆ†ç»§æ‰¿å’Œç»„åˆ")]),_:1})]),n("li",null,[e(a,{to:"#ç»ƒä¹ "},{default:p(()=>[s("ç»ƒä¹ ")]),_:1})]),n("li",null,[e(a,{to:"#å°ç»“"},{default:p(()=>[s("å°ç»“")]),_:1})])])]),n("li",null,[e(a,{to:"#ğŸ€-å¤šæ€æ€§-polymorphic"},{default:p(()=>[s("ğŸ€ å¤šæ€æ€§(Polymorphic)")]),_:1}),n("ul",null,[n("li",null,[e(a,{to:"#å®šä¹‰"},{default:p(()=>[s("å®šä¹‰")]),_:1})]),n("li",null,[e(a,{to:"#é‡å†™-object-æ–¹æ³•"},{default:p(()=>[s("é‡å†™ Object æ–¹æ³•")]),_:1})]),n("li",null,[e(a,{to:"#è°ƒç”¨-super"},{default:p(()=>[s("è°ƒç”¨ super")]),_:1})]),n("li",null,[e(a,{to:"#final"},{default:p(()=>[s("final")]),_:1})]),n("li",null,[e(a,{to:"#ç»ƒä¹ -1"},{default:p(()=>[s("ç»ƒä¹ ")]),_:1})]),n("li",null,[e(a,{to:"#å°ç»“-1"},{default:p(()=>[s("å°ç»“")]),_:1})])])])])])]),y,w,g])}const P=c(r,[["render",h],["__file","6.html.vue"]]);export{P as default};
