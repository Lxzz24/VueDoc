import{_ as c}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as d,c as r,a as n,b as s,w as i,e,d as l}from"./app-CvlAI_tu.js";const p="/VueDoc/assets/Nginx1-nu9G6kY3.png",u="/VueDoc/assets/Nginx2-CsmSaCqi.png",m={},h={class:"hint-container details"},g=n("summary",null,"ç›®å½•",-1),v={class:"table-of-contents"},b=n("h2",{id:"web-æœåŠ¡å™¨-nginx-å®‰è£…éƒ¨ç½²",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#web-æœåŠ¡å™¨-nginx-å®‰è£…éƒ¨ç½²","aria-hidden":"true"},"#"),e(" WEB æœåŠ¡å™¨ Nginx å®‰è£…éƒ¨ç½²")],-1),x={href:"https://space.bilibili.com/384068749",target:"_blank",rel:"noopener noreferrer"},_=l(`<h3 id="ğŸ€-é¦–å…ˆå®‰è£…åŒ…å¹¶è§£å‹" tabindex="-1"><a class="header-anchor" href="#ğŸ€-é¦–å…ˆå®‰è£…åŒ…å¹¶è§£å‹" aria-hidden="true">#</a> ğŸ€ é¦–å…ˆå®‰è£…åŒ…å¹¶è§£å‹</h3><p>è¿™â¾¥ä¸‹è½½çš„æ˜¯ nginx-1.20.2.tar.gz å®‰è£…åŒ…ï¼Œå¹¶å°†å…¶ç›´æ¥æ”¾åœ¨äº† root â½¬å½•ä¸‹</p><p>1ã€åœ¨ /usr/local/ ä¸‹åˆ›å»º nginx â½‚ä»¶å¤¹å¹¶è¿›â¼Š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local/
<span class="token function">mkdir</span> nginx
<span class="token builtin class-name">cd</span> nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2ã€å°† Nginx å®‰è£…åŒ…è§£å‹åˆ° /usr/local/nginx ä¸­å³å¯</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">tar</span> zxvf /root/nginx-1.20.2.tar.gz <span class="token parameter variable">-C</span> ./
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è§£å‹å®Œä¹‹åï¼Œ /usr/local/nginx â½¬å½•ä¸­ä¼šå‡ºç°â¼€ä¸ª nginx-1.20.2 çš„â½¬å½•</p><h3 id="ğŸ€-é¢„å…ˆå®‰è£…é¢å¤–çš„ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#ğŸ€-é¢„å…ˆå®‰è£…é¢å¤–çš„ä¾èµ–" aria-hidden="true">#</a> ğŸ€ é¢„å…ˆå®‰è£…é¢å¤–çš„ä¾èµ–</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> gcc pcre pcre-devel zlib zlib-devel openssl openssl-devel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="ğŸ€-ç¼–è¯‘å®‰è£…-nginx" tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç¼–è¯‘å®‰è£…-nginx" aria-hidden="true">#</a> ğŸ€ ç¼–è¯‘å®‰è£… Nginx</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> nginx-1.20.2
./configure
<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®‰è£…å®Œæˆåï¼ŒNginx çš„å¯æ‰§â¾â½‚ä»¶ä½ç½®ä½äº <code>/usr/local/nginx/sbin/nginx</code></p><h3 id="ğŸ€-å¯åŠ¨-nginx" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å¯åŠ¨-nginx" aria-hidden="true">#</a> ğŸ€ å¯åŠ¨ Nginx</h3><p>ç›´æ¥æ‰§â¾å¦‚ä¸‹å‘½ä»¤å³å¯ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/usr/local/nginx/sbin/nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœæƒ³åœâ½Œ Nginx æœåŠ¡ï¼Œå¯æ‰§â¾ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/usr/local/nginx/sbin/nginx <span class="token parameter variable">-s</span> stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä¿®æ”¹äº†é…ç½®â½‚ä»¶åæƒ³é‡æ–°åŠ è½½ Nginxï¼Œå¯æ‰§â¾ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/usr/local/nginx/sbin/nginx <span class="token parameter variable">-s</span> reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ³¨æ„å…¶é…ç½®â½‚ä»¶ä½äºï¼š<code>/usr/local/nginx/conf/nginx.conf</code></p><h3 id="ğŸ€-æµè§ˆå™¨éªŒè¯å¯åŠ¨æƒ…å†µ" tabindex="-1"><a class="header-anchor" href="#ğŸ€-æµè§ˆå™¨éªŒè¯å¯åŠ¨æƒ…å†µ" aria-hidden="true">#</a> ğŸ€ æµè§ˆå™¨éªŒè¯å¯åŠ¨æƒ…å†µ</h3><p>æµè§ˆå™¨è¾“å…¥ <code>localhost:80</code> éªŒè¯ï¼Œå…¶ä¸­ <code>localhost</code> ä¸ºä½ çš„æœåŠ¡å™¨å…¬ç½‘ IP åœ°å€</p><h2 id="https-è®¿é—®-nginx-ç»‘å®š-ssl-è¯ä¹¦" tabindex="-1"><a class="header-anchor" href="#https-è®¿é—®-nginx-ç»‘å®š-ssl-è¯ä¹¦" aria-hidden="true">#</a> HTTPS è®¿é—®ï¼ˆNginx ç»‘å®š SSL è¯ä¹¦ï¼‰</h2>`,23),k={href:"https://help.aliyun.com/document_detail/98728.html?spm=5176.b657008.help.19.3ea7799dDQKv29#step-g2p-wai-ral",target:"_blank",rel:"noopener noreferrer"},f=l('<h3 id="ğŸ€-æ­¥éª¤1-ä¸‹è½½è¯ä¹¦åˆ°æœ¬åœ°" tabindex="-1"><a class="header-anchor" href="#ğŸ€-æ­¥éª¤1-ä¸‹è½½è¯ä¹¦åˆ°æœ¬åœ°" aria-hidden="true">#</a> ğŸ€ æ­¥éª¤1ï¼šä¸‹è½½è¯ä¹¦åˆ°æœ¬åœ°</h3><p>ä»¥é˜¿é‡Œäº‘ä¸ºä¾‹ï¼š</p><ol><li>ç™»å½• <strong>SSL è¯ä¹¦æ§åˆ¶å°</strong>ã€‚</li><li>åœ¨å·¦ä¾§å¯¼èˆªæ ï¼Œå•å‡» SSL è¯ä¹¦ã€‚</li><li>åˆ°å®šä½è¦ä¸‹è½½çš„è¯ä¹¦ï¼Œæ‰‹åŠ¨æ“ä½œåˆ—ä¸‹çš„ä¸‹è½½ã€‚</li><li>åœ¨è¯ä¹¦ä¸‹è½½é¢æ¿ï¼Œå®šä½åˆ° Nginx æœåŠ¡å™¨ï¼Œæ“ä½œåˆ—ä¸‹çš„ä¸‹è½½ã€‚ è¯¥æ“ä½œå°† Nginx æœåŠ¡å™¨è¯ä¹¦å‹ç¼©åŒ…ä¸‹è½½åˆ°æœ¬åœ°ï¼Œå¹¶ä¿å­˜åœ¨æµè§ˆå™¨çš„é»˜è®¤ä¸‹è½½ä½ç½®ã€‚</li><li>æ‰“å¼€æµè§ˆå™¨çš„é»˜è®¤ä¸‹è½½ä½ç½®ï¼Œè§£å‹å·²ä¸‹è½½çš„ Nginx è¯ä¹¦å‹ç¼©åŒ…æ–‡ä»¶ã€‚è§£å‹åæ‚¨å°†è·å¾—ä»¥ä¸‹æ–‡ä»¶ï¼š</li></ol><figure><img src="'+p+'" alt="Nginx1" tabindex="0" loading="lazy"><figcaption>Nginx1</figcaption></figure>',4),N=n("em",null,"cert-file-name",-1),T=n("em",null,"cert-file-name.pem",-1),S=n("em",null,"cert-file-name.key",-1),y=n("em",null,"cert-file-name",-1),q={href:"https://help.aliyun.com/document_detail/98728.html?spm=5176.b657008.help.19.3ea7799dDQKv29#step-g2p-wai-ral",target:"_blank",rel:"noopener noreferrer"},H=n("br",null,null,-1),w=n("br",null,null,-1),E={href:"https://help.aliyun.com/document_detail/42214.htm?spm=a2c4g.11186623.0.0.6f507cc9jMeFeH#concept-a4g-mbv-ydb",target:"_blank",rel:"noopener noreferrer"},P=n("li",null,[n("p",null,"KEY æ ¼å¼çš„è¯ä¹¦å¯†é’¥æ–‡ä»¶ã€‚")],-1),C=n("blockquote",null,[n("p",null,[e("å¦‚æœæ‚¨åœ¨ç”³è¯·è¯ä¹¦æ—¶å°† "),n("strong",null,"CSRç”Ÿæˆ"),e(" è®¾ç½®ä¸º"),n("strong",null,"æ‰‹åŠ¨å¡«å†™"),e("ï¼Œåˆ™ä¸‹è½½çš„è¯ä¹¦å‹ç¼©åŒ…æ–¹å¼ä¸­ä¸ä¼šåŒ…å«å¯†é’¥ï¼Œæ‚¨éœ€è¦æ‰‹åŠ¨åˆ›å»ºè¯ä¹¦æ–‡ä»¶æ–‡ä»¶ã€‚")])],-1),L=n("h3",{id:"ğŸ€-æ­¥éª¤2-åœ¨-nginx-æœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ğŸ€-æ­¥éª¤2-åœ¨-nginx-æœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦","aria-hidden":"true"},"#"),e(" ğŸ€ æ­¥éª¤2ï¼šåœ¨ Nginx æœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦")],-1),z=n("p",null,"åœ¨ Nginx ç‹¬ç«‹æœåŠ¡å™¨ã€Nginx è™šæ‹Ÿä¸»æœºä¸Šå®‰è£…è¯ä¹¦çš„å…·ä½“æ“ä½œä¸åŒï¼Œè¯·æ ¹æ®æ‚¨çš„å®é™…ç¯å¢ƒï¼Œé€‰æ‹©ç›¸åº”çš„å®‰è£…æ­¥éª¤ã€‚",-1),D=n("p",null,"å‚è€ƒä»¥ä¸‹æ­¥éª¤ï¼Œåœ¨ Nginx ç‹¬ç«‹æœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦ï¼š",-1),I=l(`<li><p>ç™»å½• Nginx æœåŠ¡å™¨ã€‚<br> ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨è¿œç¨‹ç™»å½•å·¥å…·ï¼ˆä¾‹å¦‚ï¼ŒPuTTYã€Xshellï¼‰ç™»å½•æœåŠ¡å™¨ã€‚</p></li><li><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œåœ¨ Nginx å®‰è£…ç›®å½•ï¼ˆé»˜è®¤ä¸º /usr/local/nginx/confï¼‰ä¸‹åˆ›å»ºä¸€ä¸ªç”¨äºå­˜æ”¾è¯ä¹¦çš„ç›®å½•ï¼Œå°†å…¶å‘½åä¸º certã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#è¿›å…¥Nginxé»˜è®¤å®‰è£…ç›®å½•ã€‚å¦‚æœæ‚¨ä¿®æ”¹è¿‡é»˜è®¤å®‰è£…ç›®å½•ï¼Œè¯·æ ¹æ®å®é™…é…ç½®è¿›è¡Œè°ƒæ•´ã€‚</span>
<span class="token builtin class-name">cd</span> /usr/local/nginx/conf 

<span class="token comment">#åˆ›å»ºè¯ä¹¦ç›®å½•ï¼Œå‘½åä¸ºcertã€‚ </span>
<span class="token function">mkdir</span> cert  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨è¿œç¨‹ç™»å½•å·¥å…·ï¼ˆä¾‹å¦‚ï¼ŒPuTTYã€Xshellï¼‰é™„å¸¦çš„æœ¬åœ°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œå°†æœ¬åœ°è¯ä¹¦æ–‡ä»¶å’Œç§é’¥æ–‡ä»¶ä¸Šä¼ åˆ° Nginx æœåŠ¡å™¨çš„è¯ä¹¦ç›®å½• ï¼ˆç¤ºä¾‹ä¸­ä¸º /usr/local/nginx/conf/certï¼‰ã€‚</p><blockquote><p>å¦‚æœæ‚¨åœ¨ç”³è¯·è¯ä¹¦æ—¶å°† CSR ç”Ÿæˆæ–¹å¼è®¾ç½®ä¸ºæ‰‹åŠ¨å¡«å†™ï¼Œè¯·å°†æ‚¨æ‰‹åŠ¨åˆ›å»ºçš„è¯ä¹¦ç§é’¥æ–‡ä»¶ä¸Šä¼ è‡³ /usr/local/nginx/conf/cert ç›®å½•ã€‚</p></blockquote></li>`,3),B=l(`<p>ç¼–è¾‘ Nginx é…ç½®æ–‡ä»¶ï¼ˆnginx.confï¼‰ï¼Œä¿®æ”¹ä¸è¯ä¹¦ç›¸å…³çš„é…ç½®å†…å®¹ã€‚</p><ul><li><ol><li>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ‰“å¼€é…ç½®æ–‡ä»¶ã€‚</li></ol></li></ul><blockquote><p>æ³¨æ„ nginx.conf é»˜è®¤ä¿å­˜åœ¨ /usr/local/nginx/conf ç›®å½•ä¸‹ã€‚å¦‚æœæ‚¨ä¿®æ”¹è¿‡ nginx.conf çš„ä½ç½®ï¼Œ è¯·å°† /usr/local/nginx/conf/nginx.conf æ›¿æ¢æˆä¿®æ”¹åçš„ä½ç½®ã€‚</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /usr/local/nginx/conf/nginx.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4),V=l(`<li><ol start="2"><li>è¿›å…¥ <code>I</code> é”®ç¼–è¾‘æ¨¡å¼ã€‚</li></ol></li><li><ol start="3"><li><p>åœ¨ä¿®æ”¹é…ç½®æ–‡ä»¶ä¸­å®šä½åˆ°HTTPåè®®ä»£ç ç‰‡æ®µï¼ˆhttp{}ï¼‰ï¼Œå¹¶åœ¨ HTTP åè®®ä»£ç é‡Œé¢æ·»åŠ ä»¥ä¸‹ server é…ç½® ï¼ˆå¦‚æœæœåŠ¡å™¨é…ç½®å†…å®¹å·²ç»å­˜åœ¨ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ³¨é‡Šç›¸åº”é…ç½®å¯ç”¨ï¼‰ã€‚<br> ä½¿ç”¨ç¤ºä¾‹ä»£ç å‰ï¼Œè¯·æ³¨æ„æ›¿æ¢ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li><p>yourdomainï¼šæ›¿æ¢æˆè¯ä¹¦ç»‘å®šçš„åŸŸåã€‚ å¦‚æœæ‚¨è´­ä¹°çš„æ˜¯å•åŸŸåè¯ä¹¦ï¼Œéœ€è¦ä¿®æ”¹ä¸ºå•åŸŸåï¼ˆä¾‹å¦‚ www.aliyundoc.comï¼‰ï¼› å¦‚æœæ‚¨è´­ä¹°çš„æ˜¯é€šé…ç¬¦åŸŸåè¯ä¹¦ï¼Œåˆ™éœ€è¦ä¿®æ”¹ä¸ºé€šé…ç¬¦åŸŸåï¼ˆä¾‹å¦‚ *.aliyundoc.comï¼‰ã€‚</p></li><li><p><code>cert-file-name.pem</code>ï¼šæ›¿æ¢æˆæ‚¨åœ¨æ­¥éª¤ 3 ä¸Šä¼ çš„è¯ä¹¦æ–‡ä»¶çš„åç§°ã€‚</p></li><li><p><code>cert-file-name.key</code>ï¼šæ›¿æ¢æˆæ‚¨åœ¨æ­¥éª¤ 3 ä¸Šä¼ çš„è¯ä¹¦ç§é’¥æ–‡ä»¶çš„åç§°ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#ä»¥ä¸‹å±æ€§ä¸­ï¼Œä»¥æ•…äº‹æƒ…èŠ‚çš„å±æ€§è¡¨ç¤ºä¸è¯ä¹¦é…ç½®æœ‰å…³ã€‚</span>
server <span class="token punctuation">{</span>
    listen <span class="token number">443</span> ssl<span class="token punctuation">;</span>
    <span class="token comment">#é…ç½®HTTPSçš„é»˜è®¤è®¿é—®ç«¯å£ä¸º443ã€‚</span>
    <span class="token comment">#å¦‚æœæœªåœ¨æ­¤å¤„é…ç½®HTTPSçš„é»˜è®¤è®¿é—®ç«¯å£ï¼Œå¯èƒ½ä¼šé€ æˆNginxæ— æ³•å¯åŠ¨ã€‚</span>
    <span class="token comment">#å¦‚æœæ‚¨ä½¿ç”¨Nginx 1.15.0åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œè¯·ä½¿ç”¨listen 443 sslä»£æ›¿listen 443å’Œssl onã€‚</span>
    server_name yourdomain<span class="token punctuation">;</span> <span class="token comment">#éœ€è¦å°†yourdomainæ›¿æ¢æˆè¯ä¹¦ç»‘å®šçš„åŸŸåã€‚</span>
    root html<span class="token punctuation">;</span>
    index index.html index.htm<span class="token punctuation">;</span>
    ssl_certificate cert/*cert-file-name*.pem<span class="token punctuation">;</span>  <span class="token comment">#éœ€è¦å°†*cert-file-name*.pemæ›¿æ¢æˆå·²ä¸Šä¼ çš„è¯ä¹¦æ–‡ä»¶çš„åç§°ã€‚</span>
    ssl_certificate_key cert/*cert-file-name*.key<span class="token punctuation">;</span> <span class="token comment">#éœ€è¦å°†*cert-file-name*.keyæ›¿æ¢æˆå·²ä¸Šä¼ çš„è¯ä¹¦ç§é’¥æ–‡ä»¶çš„åç§°ã€‚</span>
    ssl_session_timeout 5m<span class="token punctuation">;</span>
    ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:<span class="token operator">!</span>NULL:<span class="token operator">!</span>aNULL:<span class="token operator">!</span>MD5:<span class="token operator">!</span>ADH:<span class="token operator">!</span>RC4<span class="token punctuation">;</span>
    <span class="token comment">#è¡¨ç¤ºä½¿ç”¨çš„åŠ å¯†å¥—ä»¶çš„ç±»å‹ã€‚</span>
    ssl_protocols TLSv1.1 TLSv1.2 TLSv1.3<span class="token punctuation">;</span> <span class="token comment">#è¡¨ç¤ºä½¿ç”¨çš„TLSåè®®çš„ç±»å‹ã€‚</span>
    ssl_prefer_server_ciphers on<span class="token punctuation">;</span>
    location / <span class="token punctuation">{</span>
        root html<span class="token punctuation">;</span>  <span class="token comment">#Webç½‘ç«™ç¨‹åºå­˜æ”¾ç›®å½•ã€‚</span>
        index index.html index.htm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol></li>`,2),A={start:"4"},M=l(`<p>å¯é€‰ï¼šè®¾ç½® HTTP è¯·æ±‚è‡ªåŠ¨è·³è½¬ HTTPSã€‚<br> å¦‚æœæ‚¨å¸Œæœ›æ‰€æœ‰çš„ HTTP è®¿é—®è‡ªåŠ¨è·³è½¬åˆ° HTTPS é¡µé¢ï¼Œåˆ™å¯ä»¥åœ¨éœ€è¦è·³è½¬çš„ HTTP ç«™ç‚¹ä¸‹æ·»åŠ ä»¥ä¸‹ rewrite è¯­å¥ã€‚</p><blockquote><p>ä»¥ä¸‹ä»£ç ç‰‡æ®µéœ€è¦æ”¾ç½®åœ¨ nginx.conf æ–‡ä»¶ä¸­ server {} ä»£ç æ®µåé¢ï¼Œå³è®¾ç½® HTTP è¯·æ±‚è‡ªåŠ¨è·³è½¬ HTTPS åï¼Œ nginx.conf æ–‡ä»¶ä¸­ä¼šå­˜åœ¨ä¸¤ä¸ªserver {}ä»£ç æ®µã€‚</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>server <span class="token punctuation">{</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    server_name yourdomain<span class="token punctuation">;</span> <span class="token comment">#éœ€è¦å°†yourdomainæ›¿æ¢æˆè¯ä¹¦ç»‘å®šçš„åŸŸåã€‚</span>
    rewrite ^<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$ https://<span class="token variable">$host</span><span class="token variable">$1</span><span class="token punctuation">;</span> <span class="token comment">#å°†æ‰€æœ‰HTTPè¯·æ±‚é€šè¿‡rewriteæŒ‡ä»¤é‡å®šå‘åˆ°HTTPSã€‚</span>
    location / <span class="token punctuation">{</span>
        index index.html index.htm<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),F={class:"hint-container warning"},O=n("p",{class:"hint-container-title"},"æ³¨æ„",-1),R=n("code",null,"80",-1),Y=n("code",null,"443",-1),j={href:"https://help.aliyun.com/document_detail/25471.htm?spm=a2c4g.11186623.0.0.6f507cc9jMeFeH#concept-sm5-2wz-xdb",target:"_blank",rel:"noopener noreferrer"},G=n("code",null,":wq!",-1),K=l('<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local/nginx/sbin  <span class="token comment">#è¿›å…¥NginxæœåŠ¡çš„å¯æ‰§è¡Œç›®å½•ã€‚</span>\n./nginx <span class="token parameter variable">-s</span> reload  <span class="token comment">#é‡æ–°è½½å…¥é…ç½®æ–‡ä»¶ã€‚</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>å¦‚æœé‡å¯ Nginx æœåŠ¡æ—¶æ”¶åˆ°æŠ¥é”™ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è¿›è¡Œæ’æŸ¥ï¼š - æ”¶åˆ° <code>the &quot;ssl&quot; parameter requires ngx_http_ssl_module</code> æŠ¥é”™ï¼š æ‚¨éœ€è¦é‡æ–°ç¼–è¯‘ Nginx å¹¶åœ¨ç¼–è¯‘å®‰è£…çš„æ—¶å€™åŠ ä¸Š <code>--with-http_ssl_module</code> é…ç½®ã€‚ - æ”¶åˆ°å¦‚ä¸‹æŠ¥é”™ï¼šæ‚¨éœ€è¦å»æ‰è¯ä¹¦ç›¸å¯¹è·¯å¾„æœ€å‰é¢çš„ /ã€‚</p></div><pre><code> ```sh\n &quot;/cert/3970497_pic.certificatestests.com.pem&quot;:BIO_new_file() failed (SSL: error:02001002:system library:fopen:No such file or directory:fopen(&#39;/cert/3970497_pic.certificatestests.com.pem&#39;,&#39;r&#39;) error:2006D080:BIO routines:BIO_new_file:no such file)\n ```\n \n ä¾‹å¦‚ï¼Œæ‚¨éœ€è¦å»æ‰ `/cert/*cert-file-name*.pem` æœ€å‰é¢çš„ /ï¼Œ\n ä½¿ç”¨æ­£ç¡®çš„ç›¸å¯¹è·¯å¾„ `cert/*cert-file-name*.pem`ã€‚\n</code></pre>',3),W=l(`<h3 id="ğŸ€-æ­¥éª¤3-éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ" tabindex="-1"><a class="header-anchor" href="#ğŸ€-æ­¥éª¤3-éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ" aria-hidden="true">#</a> ğŸ€ æ­¥éª¤3ï¼šéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>è¯ä¹¦å®‰è£…å®Œæˆåï¼Œæ‚¨å¯é€šè¿‡è®¿é—®è¯ä¹¦çš„ç»‘å®šåŸŸåéªŒè¯è¯¥è¯ä¹¦æ˜¯å¦å®‰è£…æˆåŠŸã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>https://yourdomain   <span class="token comment">#éœ€è¦å°†yourdomainæ›¿æ¢æˆè¯ä¹¦ç»‘å®šçš„åŸŸåã€‚</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœç½‘é¡µåœ°å€æ å‡ºç°å°é”æ ‡å¿—ï¼Œè¡¨ç¤ºè¯ä¹¦å·²ç»å®‰è£…æˆåŠŸã€‚</p><h2 id="é—®é¢˜è§£å†³" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜è§£å†³" aria-hidden="true">#</a> é—®é¢˜è§£å†³</h2><p>åœ¨é‡å¯ Nginx æœåŠ¡æ—¶æ”¶åˆ° <code>the &quot;ssl&quot; parameter requires ngx_http_ssl_module</code> æŠ¥é”™ï¼Œå¯å‚è€ƒä»¥ä¸‹æ–¹æ³•è§£å†³ï¼š</p>`,6),$={href:"https://zhuanlan.zhihu.com/p/47928700",target:"_blank",rel:"noopener noreferrer"},Q=l(`<p>æŠ¥é”™è¯æ˜ nginx åœ¨ç¼–è¯‘å®‰è£…æ—¶å€™æ²¡æœ‰è¿åŒ http_ssl_module æ¨¡å—ä¸€åŒç¼–è¯‘ï¼›</p><p>ç°åœ¨çš„æƒ…å†µæ˜¯ nginx å·²ç»å®‰è£…è¿‡äº†ï¼Œéœ€è¦é‡æ–°ç¼–è¯‘ï¼Œç¼–è¯‘å®‰è£…çš„æ—¶å€™å¸¦ä¸Š <code>--with-http_ssl_module</code> é…ç½®ã€‚</p><blockquote><p>æµ‹è¯•ç¯å¢ƒï¼šcentos 7.9<br> å·¥ç¨‹ç‰ˆæœ¬ï¼šnginx-1.20.2</p></blockquote><p><strong>æ“ä½œå‰å¿…é¡»å…ˆå¤‡ä»½åŸæœ‰çš„ Nginx</strong></p><p>ç¼–è¯‘å¼€å§‹æ ¹æ®å¦‚ä¸‹ï¼š</p><ol><li>ç¤ºä¾‹ï¼šnginx çš„å®‰è£…ç›®å½•æ˜¯ /usr/local/nginx ï¼Œæºç åŒ…åœ¨ /root/nginx-1.20.2 ç›®å½•ä¸‹ã€‚</li></ol><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>åšä¸»æ˜¯å°† <code>/usr/local/nginx</code> ç›®å½•ä¸‹çš„ <code>nginx-1.20.2</code> æ–‡ä»¶å¤¹ï¼ˆå·²ç¼–è¯‘å®‰è£…è¿‡ï¼‰å¤åˆ¶åˆ°äº† <code>/root</code> ç›®å½•ä¸‹</p></div><ol start="2"><li>åˆ‡æ¢åˆ°æºç åŒ…ï¼š</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/nginx-1.20.2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>è¿›è¡Œç¼–è¯‘ï¼š</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>./configure <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local/nginx --with-http_stub_status_module --with-http_ssl_module
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li>é…ç½®å®Œæˆåï¼Œè¿è¡Œå‘½ä»¤ï¼š</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">make</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="5"><li><p>make å‘½ä»¤æ‰§è¡Œåï¼Œä¸è¦è¿›è¡Œ make installï¼Œå¦åˆ™ä¼šè¦†ç›–å®‰è£…ã€‚</p></li><li><p>å¤‡ä»½åŸæœ‰å·²å®‰è£…å¥½çš„ nginx ï¼š</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> /usr/local/nginx/sbin/nginx /usr/local/nginx/sbin/nginx.bak
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="7"><li>åœæ­¢ nginx çŠ¶æ€ï¼š</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/usr/local/nginx/sbin/nginx <span class="token parameter variable">-s</span> stop
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="8"><li>å°†ç¼–è¯‘å¥½çš„ nginx è¦†ç›–æ‰åŸæœ‰çš„ nginx ï¼š</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /root/nginx-1.20.2/
<span class="token function">cp</span> ./objs/nginx /usr/local/nginx/sbin/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="9"><li><p>æç¤ºæ˜¯å¦è¦†ç›–ï¼Œè¾“å…¥ yes å³å¯ã€‚</p></li><li><p>ç„¶åå¯åŠ¨ nginxï¼š</p></li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/usr/local/nginx/sbin/nginx
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="11"><li>è¿›å…¥ nginx/sbin ç›®å½•ä¸‹ï¼Œé€šè¿‡å‘½ä»¤æŸ¥çœ‹æ¨¡å—æ˜¯å¦å·²ç»åŠ å…¥æˆåŠŸï¼š</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local/nginx/sbin/
./nginx <span class="token parameter variable">-V</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>[!ATTENTION] <strong>V</strong> æ˜¯å¤§å†™</p></blockquote><ol start="12"><li>æœ‰ä»¥ä¸‹æç¤ºï¼Œè¯æ˜å·²ç»ç¼–è¯‘æˆåŠŸï¼š</li></ol><figure><img src="`+u+'" alt="Nginx2" tabindex="0" loading="lazy"><figcaption>Nginx2</figcaption></figure>',26);function U(X,J){const a=o("router-link"),t=o("ExternalLinkIcon");return d(),r("div",null,[n("details",h,[g,n("nav",v,[n("ul",null,[n("li",null,[s(a,{to:"#web-æœåŠ¡å™¨-nginx-å®‰è£…éƒ¨ç½²"},{default:i(()=>[e("WEB æœåŠ¡å™¨ Nginx å®‰è£…éƒ¨ç½²")]),_:1}),n("ul",null,[n("li",null,[s(a,{to:"#ğŸ€-é¦–å…ˆå®‰è£…åŒ…å¹¶è§£å‹"},{default:i(()=>[e("ğŸ€ é¦–å…ˆå®‰è£…åŒ…å¹¶è§£å‹")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-é¢„å…ˆå®‰è£…é¢å¤–çš„ä¾èµ–"},{default:i(()=>[e("ğŸ€ é¢„å…ˆå®‰è£…é¢å¤–çš„ä¾èµ–")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-ç¼–è¯‘å®‰è£…-nginx"},{default:i(()=>[e("ğŸ€ ç¼–è¯‘å®‰è£… Nginx")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-å¯åŠ¨-nginx"},{default:i(()=>[e("ğŸ€ å¯åŠ¨ Nginx")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-æµè§ˆå™¨éªŒè¯å¯åŠ¨æƒ…å†µ"},{default:i(()=>[e("ğŸ€ æµè§ˆå™¨éªŒè¯å¯åŠ¨æƒ…å†µ")]),_:1})])])]),n("li",null,[s(a,{to:"#https-è®¿é—®-nginx-ç»‘å®š-ssl-è¯ä¹¦"},{default:i(()=>[e("HTTPS è®¿é—®ï¼ˆNginx ç»‘å®š SSL è¯ä¹¦ï¼‰")]),_:1}),n("ul",null,[n("li",null,[s(a,{to:"#ğŸ€-æ­¥éª¤1-ä¸‹è½½è¯ä¹¦åˆ°æœ¬åœ°"},{default:i(()=>[e("ğŸ€ æ­¥éª¤1ï¼šä¸‹è½½è¯ä¹¦åˆ°æœ¬åœ°")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-æ­¥éª¤2-åœ¨-nginx-æœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦"},{default:i(()=>[e("ğŸ€ æ­¥éª¤2ï¼šåœ¨ Nginx æœåŠ¡å™¨ä¸Šå®‰è£…è¯ä¹¦")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-æ­¥éª¤3-éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ"},{default:i(()=>[e("ğŸ€ æ­¥éª¤3ï¼šéªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ")]),_:1})])])]),n("li",null,[s(a,{to:"#é—®é¢˜è§£å†³"},{default:i(()=>[e("é—®é¢˜è§£å†³")]),_:1})])])])]),b,n("blockquote",null,[n("p",null,[e("From "),n("a",x,[e("CodeSheep"),s(t)])])]),_,n("blockquote",null,[n("p",null,[e("From "),n("a",k,[e("é˜¿é‡Œäº‘"),s(t)])])]),f,n("blockquote",null,[n("p",null,[e("[!ATTENTION] æ³¨æ„ æœ¬æ–‡ä¸­å‡ºç°è¯ä¹¦æ–‡ä»¶åç§°çš„åœ°æ–¹ï¼Œç»Ÿä¸€ä½¿ç”¨ "),N,e(" ä¸ºä¾‹è¿›è¡Œæè¿°ã€‚ ä¾‹å¦‚ï¼Œæœ¬æ–‡ä¸­ç”¨åˆ°çš„è¯ä¹¦æ–‡ä»¶ä¸º "),T,e("ï¼Œè¯ä¹¦ç§é’¥æ–‡ä»¶ä¸º "),S,e("ã€‚ åœ¨å®é™…æ“ä½œè¿‡ç¨‹ä¸­ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨çœŸå®çš„è¯ä¹¦æ–‡ä»¶åç§°æ›¿æ¢ç¤ºä¾‹ä»£ç ä¸­çš„ "),y,e("ã€‚ è·å–è¯ä¹¦æ–‡ä»¶åç§°çš„å…·ä½“æ“ä½œï¼Œè¯·å‚è§ "),n("a",q,[e("ä¸‹è½½è¯ä¹¦åˆ°æœ¬åœ°"),s(t)]),e("ã€‚")])]),n("ul",null,[n("li",null,[n("p",null,[e("PEM æ ¼å¼çš„è¯ä¹¦æ–‡ä»¶ã€‚"),H,e(" PEMæ ¼å¼çš„è¯ä¹¦æ–‡ä»¶æ˜¯é‡‡ç”¨Base64ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ‚¨å¯ä»¥æ ¹æ®éœ€è¦å°†è¯ä¹¦æ–‡ä»¶ä¿®æ”¹æˆå…¶ä»–æ ¼å¼ã€‚"),w,e(" å…³äºè¯ä¹¦æ ¼å¼çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ "),n("a",E,[e("ä¸»æµæ•°å­—è¯ä¹¦éƒ½æœ‰å“ªäº›æ ¼å¼"),s(t)]),e("ã€‚")])]),P]),C,L,z,D,n("ol",null,[I,n("li",null,[B,n("ul",null,[V,n("li",null,[n("ol",A,[n("li",null,[M,n("div",F,[O,n("p",null,[e("è­¦å‘Š å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯é˜¿é‡Œäº‘ ECS æœåŠ¡å™¨ï¼Œå¿…é¡»åœ¨ ECS ç®¡ç†æ§åˆ¶å°çš„å®‰å…¨ç»„é¡µé¢ï¼Œ é…ç½®æ”¾è¡Œ "),R,e(" ç«¯å£å’Œ "),Y,e(" ç«¯å£ï¼Œå¦åˆ™ç½‘ç«™è®¿é—®å¯èƒ½å‡ºç°å¼‚å¸¸ã€‚å…³äºå¦‚ä½•é…ç½®å®‰å…¨ç»„ï¼Œ è¯·å‚è§"),n("a",j,[e("æ·»åŠ å®‰å…¨ç»„è§„åˆ™"),s(t)]),e("ã€‚ - 5. ä¿®æ”¹å®Œæˆåï¼ŒæŒ‰ Esc é”®ã€è¾“å…¥ "),G,e(" å¹¶æŒ‰Enteré”®ï¼Œä¿å­˜ä¿®æ”¹åçš„é…ç½®æ–‡ä»¶å¹¶é€€å‡ºç¼–è¾‘æ¨¡å¼ã€‚ 5. æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œé‡å¯ Nginx æœåŠ¡ã€‚")])])])])])]),K])]),W,n("blockquote",null,[n("p",null,[e("From "),n("a",$,[e("å…³äºç»™ç¼–è¯‘å¥½çš„ nginxï¼Œæ·»åŠ  http_ssl_module æ¨¡å—åŠé…ç½® ssl è¯ä¹¦"),s(t)])])]),Q])}const en=c(m,[["render",U],["__file","2.html.vue"]]);export{en as default};
