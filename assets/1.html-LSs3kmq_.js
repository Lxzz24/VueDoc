import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as c,c as l,a as n,b as a,w as e,d as i,e as t}from"./app-CvlAI_tu.js";const r="/VueDoc/assets/image-20231220171452717-CF_MsUVd.png",d="/VueDoc/assets/l-20231220171306566-DwpTuEzc.jpeg",u="/VueDoc/assets/image-20231220171529128-BfVrUogW.png",k="/VueDoc/assets/l-20231220171306527-DUiJ-s44.jpeg",v={},m={class:"hint-container details"},g=n("summary",null,"ç›®å½•",-1),h={class:"table-of-contents"},b=i(`<h2 id="ğŸ€-redirect" tabindex="-1"><a class="header-anchor" href="#ğŸ€-redirect" aria-hidden="true">#</a> ğŸ€ Redirect</h2><p>é‡å®šå‘æ˜¯æŒ‡å½“æµè§ˆå™¨è¯·æ±‚ä¸€ä¸ª URL æ—¶ï¼ŒæœåŠ¡å™¨è¿”å›ä¸€ä¸ªé‡å®šå‘æŒ‡ä»¤ï¼Œå‘Šè¯‰æµè§ˆå™¨åœ°å€å·²ç»å˜äº†ï¼Œéº»çƒ¦ä½¿ç”¨æ–°çš„ URL å†é‡æ–°å‘é€æ–°è¯·æ±‚ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†ä¸€ä¸ªèƒ½å¤„ç† <code>/hello</code> çš„ <code>HelloServlet</code>ï¼Œå¦‚æœæ”¶åˆ°çš„è·¯å¾„ä¸º <code>/hi</code>ï¼Œå¸Œæœ›èƒ½é‡å®šå‘åˆ° <code>/hello</code>ï¼Œå¯ä»¥å†ç¼–å†™ä¸€ä¸ª <code>RedirectServlet</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/hi&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedirectServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ„é€ é‡å®šå‘çš„è·¯å¾„:</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> redirectToUrl <span class="token operator">=</span> <span class="token string">&quot;/hello&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>name <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span><span class="token operator">:</span><span class="token string">&quot;?name=&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// å‘é€é‡å®šå‘å“åº”:</span>
        resp<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>redirectToUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæµè§ˆå™¨å‘é€ <code>GET /hi</code> è¯·æ±‚ï¼Œ<code>RedirectServlet</code> å°†å¤„ç†æ­¤è¯·æ±‚ã€‚ç”±äº <code>RedirectServlet</code> åœ¨å†…éƒ¨åˆå‘é€äº†é‡å®šå‘å“åº”ï¼Œå› æ­¤ï¼Œæµè§ˆå™¨ä¼šæ”¶åˆ°å¦‚ä¸‹å“åº”ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>HTTP/1.1 <span class="token number">302</span> Found
Location: /hello
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æµè§ˆå™¨æ”¶åˆ° 302 å“åº”åï¼Œå®ƒä¼šç«‹åˆ»æ ¹æ® <code>Location</code> çš„æŒ‡ç¤ºå‘é€ä¸€ä¸ªæ–°çš„ <code>GET /hello</code> è¯·æ±‚ï¼Œè¿™ä¸ªè¿‡ç¨‹å°±æ˜¯é‡å®šå‘ï¼š</p><figure><img src="`+r+'" alt="image-20231220171452717" tabindex="0" loading="lazy"><figcaption>image-20231220171452717</figcaption></figure><p>è§‚å¯Ÿ Chrome æµè§ˆå™¨çš„ç½‘ç»œè¯·æ±‚ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤æ¬¡ HTTP è¯·æ±‚ï¼š</p><figure><img src="'+d+`" alt="redirect" tabindex="0" loading="lazy"><figcaption>redirect</figcaption></figure><p>å¹¶ä¸”æµè§ˆå™¨çš„åœ°å€æ è·¯å¾„è‡ªåŠ¨æ›´æ–°ä¸º <code>/hello</code>ã€‚</p><p>é‡å®šå‘æœ‰ä¸¤ç§ï¼šä¸€ç§æ˜¯ 302 å“åº”ï¼Œç§°ä¸ºä¸´æ—¶é‡å®šå‘ï¼Œä¸€ç§æ˜¯ 301 å“åº”ï¼Œç§°ä¸ºæ°¸ä¹…é‡å®šå‘ã€‚ä¸¤è€…çš„åŒºåˆ«æ˜¯ï¼Œå¦‚æœæœåŠ¡å™¨å‘é€ 301 æ°¸ä¹…é‡å®šå‘å“åº”ï¼Œæµè§ˆå™¨ä¼šç¼“å­˜ <code>/hi</code> åˆ° <code>/hello</code> è¿™ä¸ªé‡å®šå‘çš„å…³è”ï¼Œä¸‹æ¬¡è¯·æ±‚ <code>/hi</code> çš„æ—¶å€™ï¼Œæµè§ˆå™¨å°±ç›´æ¥å‘é€ <code>/hello</code> è¯·æ±‚äº†ã€‚</p><p>é‡å®šå‘æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿé‡å®šå‘çš„ç›®çš„æ˜¯å½“ Web åº”ç”¨å‡çº§åï¼Œå¦‚æœè¯·æ±‚è·¯å¾„å‘ç”Ÿäº†å˜åŒ–ï¼Œå¯ä»¥å°†åŸæ¥çš„è·¯å¾„é‡å®šå‘åˆ°æ–°è·¯å¾„ï¼Œä»è€Œé¿å…æµè§ˆå™¨è¯·æ±‚åŸè·¯å¾„æ‰¾ä¸åˆ°èµ„æºã€‚</p><p><code>HttpServletResponse</code> æä¾›äº†å¿«æ·çš„ <code>redirect()</code> æ–¹æ³•å®ç° 302 é‡å®šå‘ã€‚å¦‚æœè¦å®ç° 301 æ°¸ä¹…é‡å®šå‘ï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>resp<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token class-name">HttpServletResponse</span><span class="token punctuation">.</span><span class="token constant">SC_MOVED_PERMANENTLY</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 301</span>
resp<span class="token punctuation">.</span><span class="token function">setHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Location&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ€-forward" tabindex="-1"><a class="header-anchor" href="#ğŸ€-forward" aria-hidden="true">#</a> ğŸ€ Forward</h2><p>Forward æ˜¯æŒ‡å†…éƒ¨è½¬å‘ã€‚å½“ä¸€ä¸ª Servlet å¤„ç†è¯·æ±‚çš„æ—¶å€™ï¼Œå®ƒå¯ä»¥å†³å®šè‡ªå·±ä¸ç»§ç»­å¤„ç†ï¼Œè€Œæ˜¯è½¬å‘ç»™å¦ä¸€ä¸ª Servlet å¤„ç†ã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†ä¸€ä¸ªèƒ½å¤„ç† <code>/hello</code> çš„ <code>HelloServlet</code>ï¼Œç»§ç»­ç¼–å†™ä¸€ä¸ªèƒ½å¤„ç† <code>/morning</code> çš„ <code>ForwardServlet</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/morning&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ForwardServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>ForwardServlet</code> åœ¨æ”¶åˆ°è¯·æ±‚åï¼Œå®ƒå¹¶ä¸è‡ªå·±å‘é€å“åº”ï¼Œè€Œæ˜¯æŠŠè¯·æ±‚å’Œå“åº”éƒ½è½¬å‘ç»™è·¯å¾„ä¸º <code>/hello</code> çš„ Servletï¼Œå³ä¸‹é¢çš„ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åç»­è¯·æ±‚çš„å¤„ç†å®é™…ä¸Šæ˜¯ç”± <code>HelloServlet</code> å®Œæˆçš„ã€‚è¿™ç§å¤„ç†æ–¹å¼ç§°ä¸ºè½¬å‘ï¼ˆForwardï¼‰ï¼Œæˆ‘ä»¬ç”¨æµç¨‹å›¾ç”»å‡ºæ¥å¦‚ä¸‹ï¼š</p><figure><img src="`+u+'" alt="image-20231220171529128" tabindex="0" loading="lazy"><figcaption>image-20231220171529128</figcaption></figure><p>è½¬å‘å’Œé‡å®šå‘çš„åŒºåˆ«åœ¨äºï¼Œè½¬å‘æ˜¯åœ¨ Web æœåŠ¡å™¨å†…éƒ¨å®Œæˆçš„ï¼Œå¯¹æµè§ˆå™¨æ¥è¯´ï¼Œå®ƒåªå‘å‡ºäº†ä¸€ä¸ª HTTP è¯·æ±‚ï¼š</p><figure><img src="'+k+'" alt="forward" tabindex="0" loading="lazy"><figcaption>forward</figcaption></figure><p>æ³¨æ„åˆ°ä½¿ç”¨è½¬å‘çš„æ—¶å€™ï¼Œæµè§ˆå™¨çš„åœ°å€æ è·¯å¾„ä»ç„¶æ˜¯ <code>/morning</code>ï¼Œæµè§ˆå™¨å¹¶ä¸çŸ¥é“è¯¥è¯·æ±‚åœ¨ Web æœåŠ¡å™¨å†…éƒ¨å®é™…ä¸Šåšäº†ä¸€æ¬¡è½¬å‘ã€‚</p><h2 id="ğŸ€-ç»ƒä¹ " tabindex="-1"><a class="header-anchor" href="#ğŸ€-ç»ƒä¹ " aria-hidden="true">#</a> ğŸ€ ç»ƒä¹ </h2><p>ä½¿ç”¨é‡å®šå‘å’Œè½¬å‘</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>ä½¿ç”¨é‡å®šå‘æ—¶ï¼Œæµè§ˆå™¨çŸ¥é“é‡å®šå‘è§„åˆ™ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨å‘èµ·æ–°çš„ HTTP è¯·æ±‚ï¼›</p><p>ä½¿ç”¨è½¬å‘æ—¶ï¼Œæµè§ˆå™¨å¹¶ä¸çŸ¥é“æœåŠ¡å™¨å†…éƒ¨çš„è½¬å‘é€»è¾‘ã€‚</p>',31);function f(_,w){const s=p("router-link");return c(),l("div",null,[n("details",m,[g,n("nav",h,[n("ul",null,[n("li",null,[a(s,{to:"#ğŸ€-redirect"},{default:e(()=>[t("ğŸ€ Redirect")]),_:1})]),n("li",null,[a(s,{to:"#ğŸ€-forward"},{default:e(()=>[t("ğŸ€ Forward")]),_:1})]),n("li",null,[a(s,{to:"#ğŸ€-ç»ƒä¹ "},{default:e(()=>[t("ğŸ€ ç»ƒä¹ ")]),_:1})]),n("li",null,[a(s,{to:"#ğŸ€-å°ç»“"},{default:e(()=>[t("ğŸ€ å°ç»“")]),_:1})])])])]),b])}const x=o(v,[["render",f],["__file","1.html.vue"]]);export{x as default};
