import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as c,c as i,a as n,b as s,w as t,d as u,e as p}from"./app-CvlAI_tu.js";const l="/VueDoc/assets/20221123212717-BYkAMVjp.png",r={},k={class:"hint-container details"},d=n("summary",null,"ç›®å½•",-1),m={class:"table-of-contents"},v=u('<p>ZipInputStream æ˜¯ä¸€ç§ FilterInputStreamï¼Œå®ƒå¯ä»¥ç›´æ¥è¯»å– zip åŒ…çš„å†…å®¹ï¼š</p><figure><img src="'+l+`" alt="20221123212717" tabindex="0" loading="lazy"><figcaption>20221123212717</figcaption></figure><p>å¦ä¸€ä¸ª JarInputStream æ˜¯ä» ZipInputStream æ´¾ç”Ÿï¼Œå®ƒå¢åŠ çš„ä¸»è¦åŠŸèƒ½æ˜¯ç›´æ¥è¯»å– jar æ–‡ä»¶é‡Œé¢çš„ MANIFEST.MF æ–‡ä»¶ã€‚å› ä¸ºæœ¬è´¨ä¸Š jar åŒ…å°±æ˜¯ zip åŒ…ï¼Œåªæ˜¯é¢å¤–é™„åŠ äº†ä¸€äº›å›ºå®šçš„æè¿°æ–‡ä»¶ã€‚</p><h2 id="ğŸ€-è¯»å–-zip-åŒ…" tabindex="-1"><a class="header-anchor" href="#ğŸ€-è¯»å–-zip-åŒ…" aria-hidden="true">#</a> ğŸ€ è¯»å– zip åŒ…</h2><p>æˆ‘ä»¬æ¥çœ‹çœ‹ ZipInputStream çš„åŸºæœ¬ç”¨æ³•ã€‚</p><p>æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ª ZipInputStreamï¼Œé€šå¸¸æ˜¯ä¼ å…¥ä¸€ä¸ª FileInputStream ä½œä¸ºæ•°æ®æºï¼Œç„¶åï¼Œå¾ªç¯è°ƒç”¨ getNextEntry()ï¼Œç›´åˆ°è¿”å› nullï¼Œè¡¨ç¤º zip æµç»“æŸã€‚</p><p>ä¸€ä¸ª ZipEntry è¡¨ç¤ºä¸€ä¸ªå‹ç¼©æ–‡ä»¶æˆ–ç›®å½•ï¼Œå¦‚æœæ˜¯å‹ç¼©æ–‡ä»¶ï¼Œæˆ‘ä»¬å°±ç”¨ read() æ–¹æ³•ä¸æ–­è¯»å–ï¼Œç›´åˆ°è¿”å› - 1ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">ZipInputStream</span> zip <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ZipEntry</span> entry <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>entry <span class="token operator">=</span> zip<span class="token punctuation">.</span><span class="token function">getNextEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> name <span class="token operator">=</span> entry<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>entry<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> n<span class="token punctuation">;</span>
            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>n <span class="token operator">=</span> zip<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ€-å†™å…¥-zip-åŒ…" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å†™å…¥-zip-åŒ…" aria-hidden="true">#</a> ğŸ€ å†™å…¥ zip åŒ…</h2><p>ZipOutputStream æ˜¯ä¸€ç§ FilterOutputStreamï¼Œå®ƒå¯ä»¥ç›´æ¥å†™å…¥å†…å®¹åˆ° zip åŒ…ã€‚æˆ‘ä»¬è¦å…ˆåˆ›å»ºä¸€ä¸ª ZipOutputStreamï¼Œé€šå¸¸æ˜¯åŒ…è£…ä¸€ä¸ª FileOutputStreamï¼Œç„¶åï¼Œæ¯å†™å…¥ä¸€ä¸ªæ–‡ä»¶å‰ï¼Œå…ˆè°ƒç”¨ putNextEntry()ï¼Œç„¶åç”¨ write() å†™å…¥ byte[] æ•°æ®ï¼Œå†™å…¥å®Œæ¯•åè°ƒç”¨ closeEntry() ç»“æŸè¿™ä¸ªæ–‡ä»¶çš„æ‰“åŒ…ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">try</span> <span class="token punctuation">(</span><span class="token class-name">ZipOutputStream</span> zip <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ZipOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">File</span><span class="token punctuation">[</span><span class="token punctuation">]</span> files <span class="token operator">=</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">File</span> file <span class="token operator">:</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        zip<span class="token punctuation">.</span><span class="token function">putNextEntry</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ZipEntry</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        zip<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">readAllBytes</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">toPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        zip<span class="token punctuation">.</span><span class="token function">closeEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ä»£ç æ²¡æœ‰è€ƒè™‘æ–‡ä»¶çš„ç›®å½•ç»“æ„ã€‚å¦‚æœè¦å®ç°ç›®å½•å±‚æ¬¡ç»“æ„ï¼Œnew ZipEntry(name) ä¼ å…¥çš„ name è¦ç”¨ç›¸å¯¹è·¯å¾„ã€‚</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>ZipInputStream å¯ä»¥è¯»å– zip æ ¼å¼çš„æµï¼ŒZipOutputStream å¯ä»¥æŠŠå¤šä»½æ•°æ®å†™å…¥ zip åŒ…ï¼›</p><p>é…åˆ FileInputStream å’Œ FileOutputStream å°±å¯ä»¥è¯»å†™ zip æ–‡ä»¶ã€‚</p>`,15);function f(y,b){const a=o("router-link");return c(),i("div",null,[n("details",k,[d,n("nav",m,[n("ul",null,[n("li",null,[s(a,{to:"#ğŸ€-è¯»å–-zip-åŒ…"},{default:t(()=>[p("ğŸ€ è¯»å– zip åŒ…")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-å†™å…¥-zip-åŒ…"},{default:t(()=>[p("ğŸ€ å†™å…¥ zip åŒ…")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-å°ç»“"},{default:t(()=>[p("ğŸ€ å°ç»“")]),_:1})])])])]),v])}const w=e(r,[["render",f],["__file","5.html.vue"]]);export{w as default};
