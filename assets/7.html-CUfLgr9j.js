import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as c,c as l,a as n,b as s,w as t,d as i,e as p}from"./app-CvlAI_tu.js";const u={},d={class:"hint-container details"},k=n("summary",null,"ç›®å½•",-1),r={class:"table-of-contents"},m=i(`<p>ç”±äº Java æä¾›äº†æ–°æ—§ä¸¤å¥—æ—¥æœŸå’Œæ—¶é—´çš„ APIï¼Œé™¤éæ¶‰åŠåˆ°é—ç•™ä»£ç ï¼Œå¦åˆ™æˆ‘ä»¬åº”è¯¥åšæŒä½¿ç”¨æ–°çš„ APIã€‚</p><p>å¦‚æœéœ€è¦ä¸é—ç•™ä»£ç æ‰“äº¤é“ï¼Œå¦‚ä½•åœ¨æ–°æ—§ API ä¹‹é—´äº’ç›¸è½¬æ¢å‘¢ï¼Ÿ</p><h2 id="ğŸ€-æ—§-api-è½¬æ–°-api" tabindex="-1"><a class="header-anchor" href="#ğŸ€-æ—§-api-è½¬æ–°-api" aria-hidden="true">#</a> ğŸ€ æ—§ API è½¬æ–° API</h2><p>å¦‚æœè¦æŠŠæ—§å¼çš„ <code>Date</code> æˆ– <code>Calendar</code> è½¬æ¢ä¸ºæ–° API å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡ <code>toInstant()</code> æ–¹æ³•è½¬æ¢ä¸º <code>Instant</code> å¯¹è±¡ï¼Œå†ç»§ç»­è½¬æ¢ä¸º <code>ZonedDateTime</code> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// Date -&gt; Instant:</span>
<span class="token class-name">Instant</span> ins1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Calendar -&gt; Instant -&gt; ZonedDateTime:</span>
<span class="token class-name">Calendar</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Instant</span> ins2 <span class="token operator">=</span> calendar<span class="token punctuation">.</span><span class="token function">toInstant</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">ZonedDateTime</span> zdt <span class="token operator">=</span> ins2<span class="token punctuation">.</span><span class="token function">atZone</span><span class="token punctuation">(</span>calendar<span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toZoneId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»ä¸Šé¢çš„ä»£ç è¿˜å¯ä»¥çœ‹åˆ°ï¼Œæ—§çš„ <code>TimeZone</code> æä¾›äº†ä¸€ä¸ª <code>toZoneId()</code>ï¼Œå¯ä»¥æŠŠè‡ªå·±å˜æˆæ–°çš„ <code>ZoneId</code> ã€‚</p><h2 id="ğŸ€-æ–°-api-è½¬æ—§-api" tabindex="-1"><a class="header-anchor" href="#ğŸ€-æ–°-api-è½¬æ—§-api" aria-hidden="true">#</a> ğŸ€ æ–° API è½¬æ—§ API</h2><p>å¦‚æœè¦æŠŠæ–°çš„ <code>ZonedDateTime</code> è½¬æ¢ä¸ºæ—§çš„ API å¯¹è±¡ï¼Œåªèƒ½å€ŸåŠ© <code>long</code> å‹æ—¶é—´æˆ³åšä¸€ä¸ª â€œä¸­è½¬â€ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// ZonedDateTime -&gt; long:</span>
<span class="token class-name">ZonedDateTime</span> zdt <span class="token operator">=</span> <span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">long</span> ts <span class="token operator">=</span> zdt<span class="token punctuation">.</span><span class="token function">toEpochSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">;</span>

<span class="token comment">// long -&gt; Date:</span>
<span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>ts<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// long -&gt; Calendar:</span>
<span class="token class-name">Calendar</span> calendar <span class="token operator">=</span> <span class="token class-name">Calendar</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
calendar<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
calendar<span class="token punctuation">.</span><span class="token function">setTimeZone</span><span class="token punctuation">(</span><span class="token class-name">TimeZone</span><span class="token punctuation">.</span><span class="token function">getTimeZone</span><span class="token punctuation">(</span>zdt<span class="token punctuation">.</span><span class="token function">getZone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
calendar<span class="token punctuation">.</span><span class="token function">setTimeInMillis</span><span class="token punctuation">(</span>zdt<span class="token punctuation">.</span><span class="token function">toEpochSecond</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»ä¸Šé¢çš„ä»£ç è¿˜å¯ä»¥çœ‹åˆ°ï¼Œæ–°çš„ <code>ZoneId</code> è½¬æ¢ä¸ºæ—§çš„ <code>TimeZone</code>ï¼Œéœ€è¦å€ŸåŠ© <code>ZoneId.getId()</code> è¿”å›çš„ <code>String</code> å®Œæˆã€‚</p><h2 id="ğŸ€-åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¥æœŸå’Œæ—¶é—´" tabindex="-1"><a class="header-anchor" href="#ğŸ€-åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¥æœŸå’Œæ—¶é—´" aria-hidden="true">#</a> ğŸ€ åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¥æœŸå’Œæ—¶é—´</h2><p>é™¤äº†æ—§å¼çš„ java.util.Date ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ‰¾åˆ°å¦ä¸€ä¸ª java.sql.Date ï¼Œå®ƒç»§æ‰¿è‡ª java.util.Date ï¼Œä½†ä¼šè‡ªåŠ¨å¿½ç•¥æ‰€æœ‰æ—¶é—´ç›¸å…³ä¿¡æ¯ã€‚è¿™ä¸ªå¥‡è‘©çš„è®¾è®¡åŸå› è¦è¿½æº¯åˆ°æ•°æ®åº“çš„æ—¥æœŸä¸æ—¶é—´ç±»å‹ã€‚</p><p>åœ¨æ•°æ®åº“ä¸­ï¼Œä¹Ÿå­˜åœ¨å‡ ç§æ—¥æœŸå’Œæ—¶é—´ç±»å‹ï¼š</p><ul><li><code>DATETIME</code> ï¼šè¡¨ç¤ºæ—¥æœŸå’Œæ—¶é—´ï¼›</li><li><code>DATE</code> ï¼šä»…è¡¨ç¤ºæ—¥æœŸï¼›</li><li><code>TIME</code> ï¼šä»…è¡¨ç¤ºæ—¶é—´ï¼›</li><li><code>TIMESTAMP</code> ï¼šå’Œ <code>DATETIME</code> ç±»ä¼¼ï¼Œä½†æ˜¯æ•°æ®åº“ä¼šåœ¨åˆ›å»ºæˆ–è€…æ›´æ–°è®°å½•çš„æ—¶å€™åŒæ—¶ä¿®æ”¹ <code>TIMESTAMP</code> ã€‚</li></ul><p>åœ¨ä½¿ç”¨ Java ç¨‹åºæ“ä½œæ•°æ®åº“æ—¶ï¼Œæˆ‘ä»¬éœ€è¦æŠŠæ•°æ®åº“ç±»å‹ä¸ Java ç±»å‹æ˜ å°„èµ·æ¥ã€‚ä¸‹è¡¨æ˜¯æ•°æ®åº“ç±»å‹ä¸ Java æ–°æ—§ API çš„æ˜ å°„å…³ç³»ï¼š</p><table><thead><tr><th>æ•°æ®åº“</th><th>å¯¹åº” Java ç±»ï¼ˆæ—§ï¼‰</th><th>å¯¹åº” Java ç±»ï¼ˆæ–°ï¼‰</th></tr></thead><tbody><tr><td>DATETIME</td><td>java.util.Date</td><td>LocalDateTime</td></tr><tr><td>DATE</td><td>java.sql.Date</td><td>LocalDate</td></tr><tr><td>TIME</td><td>java.sql.Time</td><td>LocalTime</td></tr><tr><td>TIMESTAMP</td><td>java.sql.Timestamp</td><td>LocalDateTime</td></tr></tbody></table><p>å®é™…ä¸Šï¼Œåœ¨æ•°æ®åº“ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å­˜å‚¨çš„æœ€å¸¸ç”¨çš„æ˜¯æ—¶åˆ»ï¼ˆ <code>Instant</code> ï¼‰ï¼Œå› ä¸ºæœ‰äº†æ—¶åˆ»ä¿¡æ¯ï¼Œå°±å¯ä»¥æ ¹æ®ç”¨æˆ·è‡ªå·±é€‰æ‹©çš„æ—¶åŒºï¼Œæ˜¾ç¤ºå‡ºæ­£ç¡®çš„æœ¬åœ°æ—¶é—´ã€‚æ‰€ä»¥ï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯ç›´æ¥ç”¨é•¿æ•´æ•° <code>long</code> è¡¨ç¤ºï¼Œåœ¨æ•°æ®åº“ä¸­å­˜å‚¨ä¸º <code>BIGINT</code> ç±»å‹ã€‚</p><p>é€šè¿‡å­˜å‚¨ä¸€ä¸ª <code>long</code> å‹æ—¶é—´æˆ³ï¼Œæˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ª <code>timestampToString()</code> çš„æ–¹æ³•ï¼Œéå¸¸ç®€å•åœ°ä¸ºä¸åŒç”¨æˆ·ä»¥ä¸åŒçš„åå¥½æ¥æ˜¾ç¤ºä¸åŒçš„æœ¬åœ°æ—¶é—´ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span>format<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Locale</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">long</span> ts <span class="token operator">=</span> <span class="token number">1574208900000L</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">timestampToString</span><span class="token punctuation">(</span>ts<span class="token punctuation">,</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">CHINA</span><span class="token punctuation">,</span> <span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">timestampToString</span><span class="token punctuation">(</span>ts<span class="token punctuation">,</span> <span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">US</span><span class="token punctuation">,</span> <span class="token string">&quot;America/New_York&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">timestampToString</span><span class="token punctuation">(</span><span class="token keyword">long</span> epochMilli<span class="token punctuation">,</span> <span class="token class-name">Locale</span> lo<span class="token punctuation">,</span> <span class="token class-name">String</span> zoneId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Instant</span> ins <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">ofEpochMilli</span><span class="token punctuation">(</span>epochMilli<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DateTimeFormatter</span> f <span class="token operator">=</span> <span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofLocalizedDateTime</span><span class="token punctuation">(</span><span class="token class-name">FormatStyle</span><span class="token punctuation">.</span><span class="token constant">MEDIUM</span><span class="token punctuation">,</span> <span class="token class-name">FormatStyle</span><span class="token punctuation">.</span><span class="token constant">SHORT</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> f<span class="token punctuation">.</span><span class="token function">withLocale</span><span class="token punctuation">(</span>lo<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">ZonedDateTime</span><span class="token punctuation">.</span><span class="token function">ofInstant</span><span class="token punctuation">(</span>ins<span class="token punctuation">,</span> <span class="token class-name">ZoneId</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>zoneId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹ä¸Šè¿°æ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼Œç»“æœå¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>2019 å¹´ 11 æœˆ 20 æ—¥ ä¸Šåˆ 8:15
Nov 19, 2019, 7:15 PM
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>å¤„ç†æ—¥æœŸå’Œæ—¶é—´æ—¶ï¼Œå°½é‡ä½¿ç”¨æ–°çš„ java.time åŒ…ï¼›</p><p>åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¶é—´æˆ³æ—¶ï¼Œå°½é‡ä½¿ç”¨ <code>long</code> å‹æ—¶é—´æˆ³ï¼Œå®ƒå…·æœ‰çœç©ºé—´ï¼Œæ•ˆç‡é«˜ï¼Œä¸ä¾èµ–æ•°æ®åº“çš„ä¼˜ç‚¹ã€‚</p>`,24);function v(b,f){const a=o("router-link");return c(),l("div",null,[n("details",d,[k,n("nav",r,[n("ul",null,[n("li",null,[s(a,{to:"#ğŸ€-æ—§-api-è½¬æ–°-api"},{default:t(()=>[p("ğŸ€ æ—§ API è½¬æ–° API")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-æ–°-api-è½¬æ—§-api"},{default:t(()=>[p("ğŸ€ æ–° API è½¬æ—§ API")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¥æœŸå’Œæ—¶é—´"},{default:t(()=>[p("ğŸ€ åœ¨æ•°æ®åº“ä¸­å­˜å‚¨æ—¥æœŸå’Œæ—¶é—´")]),_:1})]),n("li",null,[s(a,{to:"#ğŸ€-å°ç»“"},{default:t(()=>[p("ğŸ€ å°ç»“")]),_:1})])])])]),m])}const I=e(u,[["render",v],["__file","7.html.vue"]]);export{I as default};
