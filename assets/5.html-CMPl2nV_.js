import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as c,o,c as l,a as n,b as a,w as e,d as i,e as t}from"./app-CvlAI_tu.js";const u={},d={class:"hint-container details"},k=n("summary",null,"ç›®å½•",-1),r={class:"table-of-contents"},m=i(`<p>æˆ‘ä»¬å‰é¢å·²ç»è®²åˆ°äº†æ³›å‹çš„ç»§æ‰¿å…³ç³»ï¼š <code>Pair&lt;Integer&gt;</code> ä¸æ˜¯ <code>Pair&lt;Number&gt;</code> çš„å­ç±»ã€‚</p><p>å‡è®¾æˆ‘ä»¬å®šä¹‰äº† <code>Pair&lt;T&gt;</code> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åï¼Œæˆ‘ä»¬åˆé’ˆå¯¹ <code>Pair&lt;Number&gt;</code> ç±»å‹å†™äº†ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œå®ƒæ¥æ”¶çš„å‚æ•°ç±»å‹æ˜¯ <code>Pair&lt;Number&gt;</code> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PairHelper</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Number</span> first <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Number</span> last <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> first<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> last<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šè¿°ä»£ç æ˜¯å¯ä»¥æ­£å¸¸ç¼–è¯‘çš„ã€‚ä½¿ç”¨çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼ å…¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token class-name">PairHelper</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container caution"><p class="hint-container-title">è­¦å‘Š</p><p>ä¼ å…¥çš„ç±»å‹æ˜¯ <code>Pair&lt;Number&gt;</code>ï¼Œå®é™…å‚æ•°ç±»å‹æ˜¯ <code>(Integer, Integer)</code> ã€‚</p></div><hr><p>æ—¢ç„¶å®é™…å‚æ•°æ˜¯ <code>Integer</code> ç±»å‹ï¼Œè¯•è¯•ä¼ å…¥ <code>Pair&lt;Integer&gt;</code> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Number</span> first <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Number</span> last <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> first<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> last<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> first<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> last<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Pair</span><span class="token punctuation">(</span><span class="token class-name">T</span> first<span class="token punctuation">,</span> <span class="token class-name">T</span> last<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> first<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> last<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> first<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> last<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç›´æ¥è¿è¡Œï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>incompatible types: Pair&lt;Integer&gt; cannot be converted to Pair&lt;Number&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åŸå› å¾ˆæ˜æ˜¾ï¼Œå› ä¸º <code>Pair&lt;Integer&gt;</code> ä¸æ˜¯ <code>Pair&lt;Number&gt;</code> çš„å­ç±»ï¼Œå› æ­¤ï¼Œ<code>add(Pair&lt;Number&gt;)</code> ä¸æ¥å—å‚æ•°ç±»å‹ <code>Pair&lt;Integer&gt;</code> ã€‚</p><p>ä½†æ˜¯ä» <code>add()</code> æ–¹æ³•çš„ä»£ç å¯çŸ¥ï¼Œä¼ å…¥ <code>Pair&lt;Integer&gt;</code> æ˜¯å®Œå…¨ç¬¦åˆå†…éƒ¨ä»£ç çš„ç±»å‹è§„èŒƒï¼Œå› ä¸ºè¯­å¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Number</span> first <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Number</span> last <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…ç±»å‹æ˜¯ <code>Integer</code>ï¼Œå¼•ç”¨ç±»å‹æ˜¯ <code>Number</code>ï¼Œæ²¡æœ‰é—®é¢˜ã€‚é—®é¢˜åœ¨äºæ–¹æ³•å‚æ•°ç±»å‹å®šæ­»äº†åªèƒ½ä¼ å…¥ <code>Pair&lt;Number&gt;</code> ã€‚</p><hr><p>æœ‰æ²¡æœ‰åŠæ³•ä½¿å¾—æ–¹æ³•å‚æ•°æ¥å— <code>Pair&lt;Integer&gt;</code> ï¼ŸåŠæ³•æ˜¯æœ‰çš„ï¼Œè¿™å°±æ˜¯ä½¿ç”¨ <code>Pair&lt;? extends Number&gt;</code> ä½¿å¾—æ–¹æ³•æ¥æ”¶æ‰€æœ‰æ³›å‹ç±»å‹ä¸º <code>Number</code> æˆ– <code>Number</code> å­ç±»çš„ <code>Pair</code> ç±»å‹ã€‚æˆ‘ä»¬æŠŠä»£ç æ”¹å†™å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Number</span> first <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Number</span> last <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> first<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> last<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> first<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> last<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name">Pair</span><span class="token punctuation">(</span><span class="token class-name">T</span> first<span class="token punctuation">,</span> <span class="token class-name">T</span> last<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> first<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> last<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> first<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> last<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·ä¸€æ¥ï¼Œç»™æ–¹æ³•ä¼ å…¥ <code>Pair&lt;Integer&gt;</code> ç±»å‹æ—¶ï¼Œå®ƒç¬¦åˆå‚æ•° <code>Pair&lt;? extends Number&gt;</code> ç±»å‹ã€‚è¿™ç§ä½¿ç”¨ <code>&lt;? extends Number&gt;</code> çš„æ³›å‹å®šä¹‰ç§°ä¹‹ä¸º <strong>ä¸Šç•Œé€šé…ç¬¦</strong>ï¼ˆUpper Bounds Wildcardsï¼‰ï¼Œå³æŠŠæ³›å‹ç±»å‹ <code>T</code> çš„ä¸Šç•Œé™å®šåœ¨ <code>Number</code> äº†ã€‚</p><p>é™¤äº†å¯ä»¥ä¼ å…¥ <code>Pair&lt;Integer&gt;</code> ç±»å‹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¼ å…¥ <code>Pair&lt;Double&gt;</code> ç±»å‹ï¼Œ<code>Pair&lt;BigDecimal&gt;</code> ç±»å‹ç­‰ç­‰ï¼Œå› ä¸º <code>Double</code> å’Œ <code>BigDecimal</code> éƒ½æ˜¯ <code>Number</code> çš„å­ç±»ã€‚</p><p>å¦‚æœæˆ‘ä»¬è€ƒå¯Ÿå¯¹ <code>Pair&lt;? extends Number&gt;</code> ç±»å‹è°ƒç”¨ <code>getFirst()</code> æ–¹æ³•ï¼Œå®é™…çš„æ–¹æ³•ç­¾åå˜æˆäº†ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å³è¿”å›å€¼æ˜¯ <code>Number</code> æˆ– <code>Number</code> çš„å­ç±»ï¼Œå› æ­¤ï¼Œå¯ä»¥å®‰å…¨èµ‹å€¼ç»™ <code>Number</code> ç±»å‹çš„å˜é‡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Number</span> x <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç„¶åï¼Œæˆ‘ä»¬ä¸å¯é¢„æµ‹å®é™…ç±»å‹å°±æ˜¯ <code>Integer</code>ï¼Œä¾‹å¦‚ï¼Œä¸‹é¢çš„ä»£ç æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Integer</span> x <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™æ˜¯å› ä¸ºå®é™…çš„è¿”å›ç±»å‹å¯èƒ½æ˜¯ <code>Integer</code>ï¼Œä¹Ÿå¯èƒ½æ˜¯ <code>Double</code> æˆ–è€…å…¶ä»–ç±»å‹ï¼Œç¼–è¯‘å™¨åªèƒ½ç¡®å®šç±»å‹ä¸€å®šæ˜¯ <code>Number</code> çš„å­ç±»ï¼ˆåŒ…æ‹¬ <code>Number</code> ç±»å‹æœ¬èº«ï¼‰ï¼Œä½†å…·ä½“ç±»å‹æ— æ³•ç¡®å®šã€‚</p><hr><p>æˆ‘ä»¬å†æ¥è€ƒå¯Ÿä¸€ä¸‹ <code>Pair&lt;T&gt;</code> çš„ <code>set</code> æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">456</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Number</span> first <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Number</span> last <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token punctuation">.</span><span class="token function">setFirst</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>first<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        p<span class="token punctuation">.</span><span class="token function">setLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>last<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> first<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> last<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Pair</span><span class="token punctuation">(</span><span class="token class-name">T</span> first<span class="token punctuation">,</span> <span class="token class-name">T</span> last<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> first<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> last<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> first<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">T</span> <span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> last<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setFirst</span><span class="token punctuation">(</span><span class="token class-name">T</span> first<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>first <span class="token operator">=</span> first<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLast</span><span class="token punctuation">(</span><span class="token class-name">T</span> last<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>last <span class="token operator">=</span> last<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸å‡ºæ„å¤–ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªç¼–è¯‘é”™è¯¯ï¼š</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>incompatible types: Integer cannot be converted to CAP#1
where CAP#1 is a fresh type-variable:
    CAP#1 extends Number from capture of ? extends Number
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¼–è¯‘é”™è¯¯å‘ç”Ÿåœ¨ <code>p.setFirst()</code> ä¼ å…¥çš„å‚æ•°æ˜¯ <code>Integer</code> ç±»å‹ã€‚æœ‰äº›ç«¥é‹ä¼šé—®äº†ï¼Œæ—¢ç„¶ <code>p</code> çš„å®šä¹‰æ˜¯ <code>Pair&lt;? extends Number&gt;</code>ï¼Œé‚£ä¹ˆ <code>setFirst(? extends Number)</code> ä¸ºä»€ä¹ˆä¸èƒ½ä¼ å…¥ <code>Integer</code> ï¼Ÿ</p><p>åŸå› è¿˜åœ¨äºæ“¦æ‹­æ³•ã€‚å¦‚æœæˆ‘ä»¬ä¼ å…¥çš„ <code>p</code> æ˜¯ <code>Pair&lt;Double&gt;</code>ï¼Œæ˜¾ç„¶å®ƒæ»¡è¶³å‚æ•°å®šä¹‰ <code>Pair&lt;? extends Number&gt;</code>ï¼Œç„¶è€Œï¼Œ<code>Pair&lt;Double&gt;</code> çš„ <code>setFirst()</code> æ˜¾ç„¶æ— æ³•æ¥å— <code>Integer</code> ç±»å‹ã€‚</p><blockquote><p>è¿™å°±æ˜¯ <code>&lt;? extends Number&gt;</code> é€šé…ç¬¦çš„ä¸€ä¸ªé‡è¦é™åˆ¶ï¼š<br> æ–¹æ³•å‚æ•°ç­¾å <code>setFirst(? extends Number)</code> æ— æ³•ä¼ é€’ä»»ä½• <code>Number</code> çš„å­ç±»å‹ç»™ <code>setFirst(? extends Number)</code> ã€‚</p></blockquote><p>è¿™é‡Œå”¯ä¸€çš„ä¾‹å¤–æ˜¯å¯ä»¥ç»™æ–¹æ³•å‚æ•°ä¼ å…¥ <code>null</code> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>p<span class="token punctuation">.</span><span class="token function">setFirst</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ok, ä½†æ˜¯åé¢ä¼šæŠ›å‡º NullPointerException</span>
p<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// NullPointerException</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ€-extends-é€šé…ç¬¦çš„ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#ğŸ€-extends-é€šé…ç¬¦çš„ä½œç”¨" aria-hidden="true">#</a> ğŸ€ extends é€šé…ç¬¦çš„ä½œç”¨</h2><p>å¦‚æœæˆ‘ä»¬è€ƒå¯Ÿ Java æ ‡å‡†åº“çš„ <code>java.util.List&lt;T&gt;</code> æ¥å£ï¼Œå®ƒå®ç°çš„æ˜¯ä¸€ä¸ªç±»ä¼¼ â€œå¯å˜æ•°ç»„â€ çš„åˆ—è¡¨ï¼Œä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–ä¸ªæ•°</span>
    <span class="token class-name">T</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ¹æ®ç´¢å¼•è·å–æŒ‡å®šå…ƒç´ </span>
    <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´ </span>
    <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆ é™¤ä¸€ä¸ªå·²æœ‰å…ƒç´ </span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªæ–¹æ³•æ¥å¤„ç†åˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> <span class="token function">sumOfList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Integer</span> n <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sum <span class="token operator">=</span> sum <span class="token operator">+</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºä»€ä¹ˆæˆ‘ä»¬å®šä¹‰çš„æ–¹æ³•å‚æ•°ç±»å‹æ˜¯ <code>List&lt;? extends Integer&gt;</code> è€Œä¸æ˜¯ <code>List&lt;Integer&gt;</code> ï¼Ÿä»æ–¹æ³•å†…éƒ¨ä»£ç çœ‹ï¼Œä¼ å…¥ <code>List&lt;? extends Integer&gt;</code> æˆ–è€… <code>List&lt;Integer&gt;</code> æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œä½†æ˜¯ï¼Œæ³¨æ„åˆ° <code>List&lt;? extends Integer&gt;</code> çš„é™åˆ¶ï¼š</p><ul><li>å…è®¸è°ƒç”¨ <code>get()</code> æ–¹æ³•è·å– <code>Integer</code> çš„å¼•ç”¨ï¼›</li><li>ä¸å…è®¸è°ƒç”¨ <code>set(? extends Integer)</code> æ–¹æ³•å¹¶ä¼ å…¥ä»»ä½• <code>Integer</code> çš„å¼•ç”¨ï¼ˆ <code>null</code> é™¤å¤–ï¼‰ã€‚</li></ul><p>å› æ­¤ï¼Œæ–¹æ³•å‚æ•°ç±»å‹ <code>List&lt;? extends Integer&gt;</code> è¡¨æ˜äº†è¯¥æ–¹æ³•å†…éƒ¨åªä¼šè¯»å– <code>List</code> çš„å…ƒç´ ï¼Œä¸ä¼šä¿®æ”¹ <code>List</code> çš„å…ƒç´ ï¼ˆå› ä¸ºæ— æ³•è°ƒç”¨ <code>add(? extends Integer)</code>ã€<code>remove(? extends Integer)</code> è¿™äº›æ–¹æ³•ã€‚æ¢å¥è¯è¯´ï¼Œ<em>è¿™æ˜¯ä¸€ä¸ªå¯¹å‚æ•° <code>List&lt;? extends Integer&gt;</code> è¿›è¡Œåªè¯»çš„æ–¹æ³•</em>ï¼ˆæ¶æ„è°ƒç”¨ <code>set(null)</code> é™¤å¤–ï¼‰ã€‚</p><h2 id="ğŸ€-ä½¿ç”¨-extends-é™å®š-t-ç±»å‹" tabindex="-1"><a class="header-anchor" href="#ğŸ€-ä½¿ç”¨-extends-é™å®š-t-ç±»å‹" aria-hidden="true">#</a> ğŸ€ ä½¿ç”¨ extends é™å®š T ç±»å‹</h2><p>åœ¨å®šä¹‰æ³›å‹ç±»å‹ <code>Pair&lt;T&gt;</code> çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>extends</code> é€šé…ç¬¦æ¥é™å®š <code>T</code> çš„ç±»å‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç°åœ¨ï¼Œæˆ‘ä»¬åªèƒ½å®šä¹‰ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Number</span><span class="token punctuation">&gt;</span></span> p1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> p3 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º <code>Number</code>ã€<code>Integer</code> å’Œ <code>Double</code> éƒ½ç¬¦åˆ <code>&lt;T extends Number&gt;</code>ã€‚</p><p>é <code>Number</code> ç±»å‹å°†æ— æ³•é€šè¿‡ç¼–è¯‘ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> p1 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// compile error!</span>
<span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> p2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// compile error!</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º <code>String</code>ã€<code>Object</code> éƒ½ä¸ç¬¦åˆ <code>&lt;T extends Number&gt;</code>ï¼Œå› ä¸ºå®ƒä»¬ä¸æ˜¯ <code>Number</code> ç±»å‹æˆ– <code>Number</code> çš„å­ç±»ã€‚</p><h2 id="ğŸ€-å°ç»“" tabindex="-1"><a class="header-anchor" href="#ğŸ€-å°ç»“" aria-hidden="true">#</a> ğŸ€ å°ç»“</h2><p>ä½¿ç”¨ç±»ä¼¼ <code>&lt;? extends Number&gt;</code> é€šé…ç¬¦ä½œä¸ºæ–¹æ³•å‚æ•°æ—¶è¡¨ç¤ºï¼š</p><ul><li>æ–¹æ³•å†…éƒ¨å¯ä»¥è°ƒç”¨è·å– <code>Number</code> å¼•ç”¨çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š <code>Number n = obj.getFirst();</code> ï¼›</li><li>æ–¹æ³•å†…éƒ¨æ— æ³•è°ƒç”¨ä¼ å…¥ <code>Number</code> å¼•ç”¨çš„æ–¹æ³•ï¼ˆ <code>null</code> é™¤å¤–ï¼‰ï¼Œä¾‹å¦‚ï¼š <code>obj.setFirst(Number n);</code> ã€‚</li></ul><p>å³ä¸€å¥è¯æ€»ç»“ï¼š <em>ä½¿ç”¨ extends é€šé…ç¬¦è¡¨ç¤ºå¯ä»¥è¯»ï¼Œ<strong>ä¸èƒ½å†™</strong></em>ã€‚</p><p>ä½¿ç”¨ç±»ä¼¼ <code>&lt;T extends Number&gt;</code> å®šä¹‰æ³›å‹ç±»æ—¶è¡¨ç¤ºï¼š</p><ul><li>æ³›å‹ç±»å‹é™å®šä¸º <code>Number</code> ä»¥åŠ <code>Number</code> çš„å­ç±»ã€‚</li></ul>`,62);function v(b,g){const s=c("router-link");return o(),l("div",null,[n("details",d,[k,n("nav",r,[n("ul",null,[n("li",null,[a(s,{to:"#ğŸ€-extends-é€šé…ç¬¦çš„ä½œç”¨"},{default:e(()=>[t("ğŸ€ extends é€šé…ç¬¦çš„ä½œç”¨")]),_:1})]),n("li",null,[a(s,{to:"#ğŸ€-ä½¿ç”¨-extends-é™å®š-t-ç±»å‹"},{default:e(()=>[t("ğŸ€ ä½¿ç”¨ extends é™å®š T ç±»å‹")]),_:1})]),n("li",null,[a(s,{to:"#ğŸ€-å°ç»“"},{default:e(()=>[t("ğŸ€ å°ç»“")]),_:1})])])])]),m])}const f=p(u,[["render",v],["__file","5.html.vue"]]);export{f as default};
