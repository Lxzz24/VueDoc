---
title: Linux å¸¸ç”¨å‘½ä»¤
sidebarDepth: 1
category: 
tag: 
---

::: details ç›®å½•
[[toc]]
:::

## ğŸ€ Linux åˆ›å»ºæ–°ç”¨æˆ·å¹¶èµ‹äºˆç®¡ç†å‘˜æƒé™

1.åˆ›å»ºç”¨æˆ·ï¼š

è¿™é‡Œåˆ›å»ºçš„ç”¨æˆ·åä¸º xxxï¼š

```
sudo adduser xxx
```

åˆ é™¤ç”¨æˆ·ï¼š

```
sudo userdel -r xxx
```

æŸ¥çœ‹è´¦æˆ·ï¼š

```
cat /etc/group
```

2.ç®¡ç†å‘˜ç™»é™†ï¼š

```
sudo -i
```

(è´¦å·å‰ç¼€ä¼šå˜æˆ root )

3.è®¾ç½®ç®¡ç†å‘˜ï¼š

è¾“å…¥ï¼š

```
sudo vim /etc/sudoers
```

æŒ‰ i è¾“å…¥

åœ¨ `root ALL=(ALL) ALL` ä¸‹ä¸€è¡Œè¾“å…¥ï¼š

```
xxx Â ALL=(ALL) Â Â ALL
```

å…å¯†è¿›å…¥ï¼š

```
xxx Â ALL=(ALL) Â Â NOPASSWDï¼šALL
```

æŒ‰ `esc` ï¼Œè¾“å…¥ `:wq!` ä¿å­˜é€€å‡º

4.é¿å…ç¯å¢ƒå˜é‡å¤±æ•ˆ

ä¿®æ”¹ `/etc/sudoers` æ–‡ä»¶

å°† `Defaults env_reset` æ”¹ä¸º `Defaults !env_reset`

è¿›å…¥ `bashrc` æ–‡ä»¶çš„ç¼–è¾‘ï¼š

```
vim.bashrc
```

5.è¾“å…¥ï¼š

```
#sudo set
alias sudo='sudo env PATH=$PATH
```



## vsftpd


```
## æ˜¯å¦å…è®¸åŒ¿åç™»å½• FTP æœåŠ¡å™¨ï¼Œé»˜è®¤è®¾ç½®ä¸º YES å…è®¸
## ç”¨æˆ·å¯ä½¿ç”¨ç”¨æˆ·å ftp æˆ– anonymous è¿›è¡Œ ftp ç™»å½•ï¼Œå£ä»¤ä¸ºç”¨æˆ·çš„ E-mail åœ°å€ã€‚
## å¦‚ä¸å…è®¸åŒ¿åè®¿é—®åˆ™è®¾ç½®ä¸º NO
anonymous_enable=YES

## æ˜¯å¦å…è®¸æœ¬åœ°ç”¨æˆ· (å³ linux ç³»ç»Ÿä¸­çš„ç”¨æˆ·å¸å·) ç™»å½• FTP æœåŠ¡å™¨ï¼Œé»˜è®¤è®¾ç½®ä¸º YES å…è®¸
## æœ¬åœ°ç”¨æˆ·ç™»å½•åä¼šè¿›å…¥ç”¨æˆ·ä¸»ç›®å½•ï¼Œè€ŒåŒ¿åç”¨æˆ·ç™»å½•åè¿›å…¥åŒ¿åç”¨æˆ·çš„ä¸‹è½½ç›®å½• /var/ftp/pub
## è‹¥åªå…è®¸åŒ¿åç”¨æˆ·è®¿é—®ï¼Œå‰é¢åŠ ä¸Š ## æ³¨é‡Šæ‰å³å¯é˜»æ­¢æœ¬åœ°ç”¨æˆ·è®¿é—® FTP æœåŠ¡å™¨
local_enable=YES

## æ˜¯å¦å…è®¸æœ¬åœ°ç”¨æˆ·å¯¹ FTP æœåŠ¡å™¨æ–‡ä»¶å…·æœ‰å†™æƒé™ï¼Œé»˜è®¤è®¾ç½®ä¸º YES å…è®¸
write_enable=YES

## æ©ç ï¼Œæœ¬åœ°ç”¨æˆ·é»˜è®¤æ©ç ä¸º 077
## ä½ å¯ä»¥è®¾ç½®æœ¬åœ°ç”¨æˆ·çš„æ–‡ä»¶æ©ç ä¸ºç¼ºçœ 022ï¼Œä¹Ÿå¯æ ¹æ®ä¸ªäººå–œå¥½å°†å…¶è®¾ç½®ä¸ºå…¶ä»–å€¼
#local_umask=022

## æ˜¯å¦å…è®¸åŒ¿åç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ï¼Œé¡»å°†å…¨å±€çš„ write_enable=YESã€‚é»˜è®¤ä¸º YES
#anon_upload_enable=YES

## æ˜¯å¦å…è®¸åŒ¿åç”¨æˆ·åˆ›å»ºæ–°æ–‡ä»¶å¤¹
#anon_mkdir_write_enable=YES

## æ˜¯å¦æ¿€æ´»ç›®å½•æ¬¢è¿ä¿¡æ¯åŠŸèƒ½
## å½“ç”¨æˆ·ç”¨ CMD æ¨¡å¼é¦–æ¬¡è®¿é—®æœåŠ¡å™¨ä¸ŠæŸä¸ªç›®å½•æ—¶ï¼ŒFTP æœåŠ¡å™¨å°†æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
## é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¬¢è¿ä¿¡æ¯æ˜¯é€šè¿‡è¯¥ç›®å½•ä¸‹çš„ .message æ–‡ä»¶è·å¾—çš„
## æ­¤æ–‡ä»¶ä¿å­˜è‡ªå®šä¹‰çš„æ¬¢è¿ä¿¡æ¯ï¼Œç”±ç”¨æˆ·è‡ªå·±å»ºç«‹
#dirmessage_enable=YES

## æ˜¯å¦è®©ç³»ç»Ÿè‡ªåŠ¨ç»´æŠ¤ä¸Šä¼ å’Œä¸‹è½½çš„æ—¥å¿—æ–‡ä»¶
## é»˜è®¤æƒ…å†µè¯¥æ—¥å¿—æ–‡ä»¶ä¸º /var/log/vsftpd.log , ä¹Ÿå¯ä»¥é€šè¿‡ä¸‹é¢çš„ xferlog_file é€‰é¡¹å¯¹å…¶è¿›è¡Œè®¾å®š
## é»˜è®¤å€¼ä¸º NO
xferlog_enable=YES

## Make sure PORT transfer connections originate from port 20 (ftp-data).
## æ˜¯å¦è®¾å®š FTP æœåŠ¡å™¨å°†å¯ç”¨ FTP æ•°æ®ç«¯å£çš„è¿æ¥è¯·æ±‚
## ftp-data æ•°æ®ä¼ è¾“ï¼Œ21 ä¸ºè¿æ¥æ§åˆ¶ç«¯å£
connect_from_port_20=YES

## è®¾å®šæ˜¯å¦å…è®¸æ”¹å˜ä¸Šä¼ æ–‡ä»¶çš„å±ä¸»ï¼Œä¸ä¸‹é¢ä¸€ä¸ªè®¾å®šé¡¹é…åˆä½¿ç”¨
## æ³¨æ„ï¼Œä¸æ¨èä½¿ç”¨ root ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶
#chown_uploads=YES

## è®¾ç½®æƒ³è¦æ”¹å˜çš„ä¸Šä¼ æ–‡ä»¶çš„å±ä¸»ï¼Œå¦‚æœéœ€è¦ï¼Œåˆ™è¾“å…¥ä¸€ä¸ªç³»ç»Ÿç”¨æˆ·å
## å¯ä»¥æŠŠä¸Šä¼ çš„æ–‡ä»¶éƒ½æ”¹æˆ root å±ä¸»ã€‚whoeverï¼šä»»ä½•äºº
#chown_username=whoever

## è®¾å®šç³»ç»Ÿç»´æŠ¤è®°å½• FTP æœåŠ¡å™¨ä¸Šä¼ å’Œä¸‹è½½æƒ…å†µçš„æ—¥å¿—æ–‡ä»¶
## /var/log/vsftpd.log æ˜¯é»˜è®¤çš„ï¼Œä¹Ÿå¯ä»¥å¦è®¾å…¶å®ƒ
#xferlog_file=/var/log/vsftpd.log

## æ˜¯å¦ä»¥æ ‡å‡† xferlog çš„æ ¼å¼ä¹¦å†™ä¼ è¾“æ—¥å¿—æ–‡ä»¶
## é»˜è®¤ä¸º /var/log/xferlogï¼Œä¹Ÿå¯ä»¥é€šè¿‡ xferlog_file é€‰é¡¹å¯¹å…¶è¿›è¡Œè®¾å®š
## é»˜è®¤å€¼ä¸º NO
#xferlog_std_format=YES

## ä»¥ä¸‹æ˜¯é™„åŠ é…ç½®ï¼Œæ·»åŠ ç›¸åº”çš„é€‰é¡¹å°†å¯ç”¨ç›¸åº”çš„è®¾ç½®
## æ˜¯å¦ç”Ÿæˆä¸¤ä¸ªç›¸ä¼¼çš„æ—¥å¿—æ–‡ä»¶
## é»˜è®¤åœ¨ /var/log/xferlog å’Œ /var/log/vsftpd.log ç›®å½•ä¸‹
## å‰è€…æ˜¯ wu_ftpd ç±»å‹çš„ä¼ è¾“æ—¥å¿—ï¼Œå¯ä»¥åˆ©ç”¨æ ‡å‡†æ—¥å¿—å·¥å…·å¯¹å…¶è¿›è¡Œåˆ†æï¼›åè€…æ˜¯ vsftpd ç±»å‹çš„æ—¥å¿—
#dual_log_enable

## æ˜¯å¦å°†åŸæœ¬è¾“å‡ºåˆ° /var/log/vsftpd.log ä¸­çš„æ—¥å¿—ï¼Œè¾“å‡ºåˆ°ç³»ç»Ÿæ—¥å¿—
#syslog_enable

## è®¾ç½®æ•°æ®ä¼ è¾“ä¸­æ–­é—´éš”æ—¶é—´ï¼Œæ­¤è¯­å¥è¡¨ç¤ºç©ºé—²çš„ç”¨æˆ·ä¼šè¯ä¸­æ–­æ—¶é—´ä¸º 600 ç§’
## å³å½“æ•°æ®ä¼ è¾“ç»“æŸåï¼Œç”¨æˆ·è¿æ¥ FTP æœåŠ¡å™¨çš„æ—¶é—´ä¸åº”è¶…è¿‡ 600 ç§’ã€‚å¯ä»¥æ ¹æ®å®é™…æƒ…å†µå¯¹è¯¥å€¼è¿›è¡Œä¿®æ”¹
#idle_session_timeout=600

## è®¾ç½®æ•°æ®è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œè¯¥è¯­å¥è¡¨ç¤ºæ•°æ®è¿æ¥è¶…æ—¶æ—¶é—´ä¸º 120 ç§’ï¼Œå¯æ ¹æ®å®é™…æƒ…å†µå¯¹å…¶ä¸ªä¿®æ”¹
#data_connection_timeout=120

## è¿è¡Œ vsftpd éœ€è¦çš„éç‰¹æƒç³»ç»Ÿç”¨æˆ·ï¼Œç¼ºçœæ˜¯ nobody
#nopriv_user=ftpsecure

## æ˜¯å¦è¯†åˆ«å¼‚æ­¥ ABOR è¯·æ±‚ã€‚
## å¦‚æœ FTP client ä¼šä¸‹è¾¾ â€œasync ABORâ€ è¿™ä¸ªæŒ‡ä»¤æ—¶ï¼Œè¿™ä¸ªè®¾å®šæ‰éœ€è¦å¯ç”¨
## è€Œä¸€èˆ¬æ­¤è®¾å®šå¹¶ä¸å®‰å…¨ï¼Œæ‰€ä»¥é€šå¸¸å°†å…¶å–æ¶ˆ
#async_abor_enable=YES

## æ˜¯å¦ä»¥ ASCII æ–¹å¼ä¼ è¾“æ•°æ®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨ä¼šå¿½ç•¥ ASCII æ–¹å¼çš„è¯·æ±‚ã€‚
## å¯ç”¨æ­¤é€‰é¡¹å°†å…è®¸æœåŠ¡å™¨ä»¥ ASCII æ–¹å¼ä¼ è¾“æ•°æ®
## ä¸è¿‡ï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´ç”± "SIZE /big/file" æ–¹å¼å¼•èµ·çš„ DoS æ”»å‡»
#ascii_upload_enable=YES
#ascii_download_enable=YES

## ç™»å½• FTP æœåŠ¡å™¨æ—¶æ˜¾ç¤ºçš„æ¬¢è¿ä¿¡æ¯
## å¦‚æœ‰éœ€è¦ï¼Œå¯åœ¨æ›´æ”¹ç›®å½•æ¬¢è¿ä¿¡æ¯çš„ç›®å½•ä¸‹åˆ›å»ºåä¸º.message çš„æ–‡ä»¶ï¼Œå¹¶å†™å…¥æ¬¢è¿ä¿¡æ¯ä¿å­˜å
#ftpd_banner=Welcome to blah FTP service.

## é»‘åå•è®¾ç½®ã€‚å¦‚æœå¾ˆè®¨åŒæŸäº› email addressï¼Œå°±å¯ä»¥ä½¿ç”¨æ­¤è®¾å®šæ¥å–æ¶ˆä»–çš„ç™»å½•æƒé™
## å¯ä»¥å°†æŸäº›ç‰¹æ®Šçš„ email address æŠµæŒ¡ä½ã€‚
#deny_email_enable=YES

## å½“ä¸Šé¢çš„ deny_email_enable=YES æ—¶ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸ªè®¾å®šé¡¹æ¥è§„å®šå“ªäº›é‚®ä»¶åœ°å€ä¸å¯ç™»å½• vsftpd æœåŠ¡å™¨
## æ­¤æ–‡ä»¶éœ€ç”¨æˆ·è‡ªå·±åˆ›å»ºï¼Œä¸€è¡Œä¸€ä¸ª email address å³å¯
#banned_email_file=/etc/vsftpd/banned_emails

## ç”¨æˆ·ç™»å½• FTP æœåŠ¡å™¨åæ˜¯å¦å…·æœ‰è®¿é—®è‡ªå·±ç›®å½•ä»¥å¤–çš„å…¶ä»–æ–‡ä»¶çš„æƒé™
## è®¾ç½®ä¸º YES æ—¶ï¼Œç”¨æˆ·è¢«é”å®šåœ¨è‡ªå·±çš„ home ç›®å½•ä¸­ï¼Œvsftpd å°†åœ¨ä¸‹é¢ chroot_list_file é€‰é¡¹å€¼çš„ä½ç½®å¯»æ‰¾ chroot_list æ–‡ä»¶
## å¿…é¡»ä¸ä¸‹é¢çš„è®¾ç½®é¡¹é…åˆ
#chroot_list_enable=YES

## è¢«åˆ—å…¥æ­¤æ–‡ä»¶çš„ç”¨æˆ·ï¼Œåœ¨ç™»å½•åå°†ä¸èƒ½åˆ‡æ¢åˆ°è‡ªå·±ç›®å½•ä»¥å¤–çš„å…¶ä»–ç›®å½•
## ä»è€Œæœ‰åˆ©äº FTP æœåŠ¡å™¨çš„å®‰å…¨ç®¡ç†å’Œéšç§ä¿æŠ¤ã€‚æ­¤æ–‡ä»¶éœ€è‡ªå·±å»ºç«‹
#chroot_list_file=/etc/vsftpd/chroot_list

## æ˜¯å¦å…è®¸é€’å½’æŸ¥è¯¢ã€‚é»˜è®¤ä¸ºå…³é—­ï¼Œä»¥é˜²æ­¢è¿œç¨‹ç”¨æˆ·é€ æˆè¿‡é‡çš„ I/O
#ls_recurse_enable=YES

## æ˜¯å¦å…è®¸ç›‘å¬ã€‚
## å¦‚æœè®¾ç½®ä¸º YESï¼Œåˆ™ vsftpd å°†ä»¥ç‹¬ç«‹æ¨¡å¼è¿è¡Œï¼Œç”± vsftpd è‡ªå·±ç›‘å¬å’Œå¤„ç† IPv4 ç«¯å£çš„è¿æ¥è¯·æ±‚
listen=YES

## è®¾å®šæ˜¯å¦æ”¯æŒ IPV6ã€‚å¦‚è¦åŒæ—¶ç›‘å¬ IPv4 å’Œ IPv6 ç«¯å£ï¼Œ
## åˆ™å¿…é¡»è¿è¡Œä¸¤å¥— vsftpdï¼Œé‡‡ç”¨ä¸¤å¥—é…ç½®æ–‡ä»¶
## åŒæ—¶ç¡®ä¿å…¶ä¸­æœ‰ä¸€ä¸ªç›‘å¬é€‰é¡¹æ˜¯è¢«æ³¨é‡Šæ‰çš„
#listen_ipv6=YES

## è®¾ç½® PAM å¤–æŒ‚æ¨¡å—æä¾›çš„è®¤è¯æœåŠ¡æ‰€ä½¿ç”¨çš„é…ç½®æ–‡ä»¶åï¼Œå³ /etc/pam.d/vsftpd æ–‡ä»¶
## æ­¤æ–‡ä»¶ä¸­ file=/etc/vsftpd/ftpusers å­—æ®µï¼Œè¯´æ˜äº† PAM æ¨¡å—èƒ½æŠµæŒ¡çš„å¸å·å†…å®¹æ¥è‡ªæ–‡ä»¶ /etc/vsftpd/ftpusers ä¸­

#pam_service_name=vsftpd
## æ˜¯å¦å…è®¸ ftpusers æ–‡ä»¶ä¸­çš„ç”¨æˆ·ç™»å½• FTP æœåŠ¡å™¨ï¼Œé»˜è®¤ä¸º NO
## è‹¥æ­¤é¡¹è®¾ä¸º YESï¼Œåˆ™ user_list æ–‡ä»¶ä¸­çš„ç”¨æˆ·å…è®¸ç™»å½• FTP æœåŠ¡å™¨
## è€Œå¦‚æœåŒæ—¶è®¾ç½®äº† userlist_deny=YESï¼Œåˆ™ user_list æ–‡ä»¶ä¸­çš„ç”¨æˆ·å°†ä¸å…è®¸ç™»å½• FTP æœåŠ¡å™¨ï¼Œç”šè‡³è¿è¾“å…¥å¯†ç æç¤ºä¿¡æ¯éƒ½æ²¡æœ‰
#userlist_enable=YES/NO

## è®¾ç½®æ˜¯å¦é˜»æ‰¯ user_list æ–‡ä»¶ä¸­çš„ç”¨æˆ·ç™»å½• FTP æœåŠ¡å™¨ï¼Œé»˜è®¤ä¸º YES
#userlist_deny=YES/NO

## æ˜¯å¦ä½¿ç”¨ tcp_wrappers ä½œä¸ºä¸»æœºè®¿é—®æ§åˆ¶æ–¹å¼ã€‚
## tcp_wrappers å¯ä»¥å®ç° linux ç³»ç»Ÿä¸­ç½‘ç»œæœåŠ¡çš„åŸºäºä¸»æœºåœ°å€çš„è®¿é—®æ§åˆ¶
## åœ¨ /etc ç›®å½•ä¸­çš„ hosts.allow å’Œ hosts.deny ä¸¤ä¸ªæ–‡ä»¶ç”¨äºè®¾ç½® tcp_wrappers çš„è®¿é—®æ§åˆ¶
## å‰è€…è®¾ç½®å…è®¸è®¿é—®è®°å½•ï¼Œåè€…è®¾ç½®æ‹’ç»è®¿é—®è®°å½•ã€‚
## å¦‚æƒ³é™åˆ¶æŸäº›ä¸»æœºå¯¹ FTP æœåŠ¡å™¨ 192.168.57.2 çš„åŒ¿åè®¿é—®ï¼Œç¼–ç¼‰ /etc/hosts.allow æ–‡ä»¶ï¼Œå¦‚åœ¨ä¸‹é¢å¢åŠ ä¸¤è¡Œå‘½ä»¤ï¼š
## vsftpd:192.168.57.1:DENY å’Œ vsftpd:192.168.57.9:DENY
## è¡¨æ˜é™åˆ¶ IP ä¸º 192.168.57.1/192.168.57.9 ä¸»æœºè®¿é—® IP ä¸º 192.168.57.2 çš„ FTP æœåŠ¡å™¨
## æ­¤æ—¶ FTP æœåŠ¡å™¨è™½å¯ä»¥ PING é€šï¼Œä½†æ— æ³•è¿æ¥
tcp_wrappers=YES
```



## firewalld

### ğŸ€ firewalld â€œå¼€æ”¾ç«¯å£â€ ç›¸å…³æ“ä½œæ•™ç¨‹


#### ä¸€. firewalld åŸºæœ¬ä½¿ç”¨å‘½ä»¤

- å¯åŠ¨ï¼š systemctl start firewalld
- æŸ¥çœ‹çŠ¶æ€ï¼š systemctl status firewalld
- åœæ­¢ï¼š systemctl disable firewalld
- ç¦ç”¨ï¼š systemctl stop firewalld

#### äºŒ. systemctl æ˜¯ CentOS 7 çš„æœåŠ¡ç®¡ç†å·¥å…·ä¸­ä¸»è¦çš„å·¥å…·ï¼Œå®ƒèåˆä¹‹å‰ service å’Œ chkconfig çš„åŠŸèƒ½äºä¸€ä½“ã€‚

- å¯åŠ¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctl start firewalld.service
- å…³é—­ä¸€ä¸ªæœåŠ¡ï¼šsystemctlstop firewalld.service
- é‡å¯ä¸€ä¸ªæœåŠ¡ï¼šsystemctlrestart firewalld.service
- æ˜¾ç¤ºä¸€ä¸ªæœåŠ¡çš„çŠ¶æ€ï¼šsystemctlstatus firewalld.service
- åœ¨å¼€æœºæ—¶å¯ç”¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctlenable firewalld.service
- åœ¨å¼€æœºæ—¶ç¦ç”¨ä¸€ä¸ªæœåŠ¡ï¼šsystemctldisable firewalld.service
- æŸ¥çœ‹æœåŠ¡æ˜¯å¦å¼€æœºå¯åŠ¨ï¼šsystemctlis-enabled firewalld.service
- æŸ¥çœ‹å·²å¯åŠ¨çš„æœåŠ¡åˆ—è¡¨ï¼šsystemctllist-unit-files|grep enabled
- æŸ¥çœ‹å¯åŠ¨å¤±è´¥çš„æœåŠ¡åˆ—è¡¨ï¼šsystemctl--failed



#### ä¸‰.é…ç½® firewalld-cmd

- æŸ¥çœ‹ç‰ˆæœ¬ï¼š firewall-cmd --version
- æŸ¥çœ‹å¸®åŠ©ï¼š firewall-cmd --help
- æ˜¾ç¤ºçŠ¶æ€ï¼š firewall-cmd --state
- æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£ï¼š firewall-cmd --zone=public --list-ports
- æ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼š firewall-cmd --reload
- æŸ¥çœ‹åŒºåŸŸä¿¡æ¯: firewall-cmd--get-active-zones
- æŸ¥çœ‹æŒ‡å®šæ¥å£æ‰€å±åŒºåŸŸï¼š firewall-cmd--get-zone-of-interface=eth0
- æ‹’ç»æ‰€æœ‰åŒ…ï¼šfirewall-cmd --panic-on
- å–æ¶ˆæ‹’ç»çŠ¶æ€ï¼š firewall-cmd --panic-off
- æŸ¥çœ‹æ˜¯å¦æ‹’ç»ï¼š firewall-cmd --query-panic

> é‚£ä¹ˆï¼š firewalld å¦‚ä½•å¼€æ”¾ä¸€ä¸ªç«¯å£å‘¢ï¼Ÿ

```
### ğŸ€ 1.å¼€æ”¾ 80 ç«¯å£ï¼š

firewall-cmd --zone=public --add-port=80/tcp --permanent ï¼ˆ--permanent æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆï¼‰

### ğŸ€ 2.é‡æ–°è½½å…¥é…ç½®
root@localhost:~## firewall-cmd --reload

### ğŸ€ 3.æŸ¥çœ‹
root@localhost:~## firewall-cmd --zone=public --query-port=80/tcp

### ğŸ€ 4.åˆ é™¤
root@localhost:~## firewall-cmd --zone=public --remove-port=80/tcp --permanent
```


### ğŸ€ firewalld æ‹“å±•çŸ¥è¯†ï¼š

1.æŸ¥çœ‹ firewall æ˜¯å¦è¿è¡Œï¼Ÿä¸‹é¢ä¸¤ä¸ªå‘½ä»¤éƒ½å¯ä»¥
systemctl status firewalld.service
firewall-cmd --state

2.æŸ¥çœ‹å½“å‰å¼€äº†å“ªäº›ç«¯å£ï¼Ÿ
å…¶å®ä¸€ä¸ªæœåŠ¡å¯¹åº”ä¸€ä¸ªç«¯å£ï¼Œæ¯ä¸ªæœåŠ¡å¯¹åº” /usr/lib/firewalld/services ä¸‹é¢ä¸€ä¸ª xml æ–‡ä»¶ã€‚
firewall-cmd --list-services

3.æŸ¥çœ‹è¿˜æœ‰å“ªäº›æœåŠ¡å¯ä»¥æ‰“å¼€ï¼Ÿ
firewall-cmd --get-services

4.æŸ¥çœ‹æ‰€æœ‰æ‰“å¼€çš„ç«¯å£ï¼š
firewall-cmd --zone=public --list-ports

5.æ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼š
firewall-cmd --reload


### ğŸ€ FirewallD å¸¸ç”¨çš„å‘½ä»¤ï¼š

```
firewall-cmd --state                              ### æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ï¼Œæ˜¯å¦æ˜¯ running
systemctl status firewalld.service                       ### æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€
systemctl start firewalld.service                          ### å¯åŠ¨é˜²ç«å¢™
systemctl stop firewalld.service                           ### ä¸´æ—¶å…³é—­é˜²ç«å¢™
systemctl enable firewalld.service                        ### è®¾ç½®å¼€æœºå¯åŠ¨é˜²ç«å¢™
systemctl disable firewalld.service                        ### è®¾ç½®ç¦æ­¢å¼€æœºå¯åŠ¨é˜²ç«å¢™

firewall-cmd --permanent --query-port=80/tcp  ### æŸ¥çœ‹ 80 ç«¯å£æœ‰æ²¡å¼€æ”¾

firewall-cmd --reload                                      ### é‡æ–°è½½å…¥é…ç½®ï¼Œæ¯”å¦‚æ·»åŠ è§„åˆ™ä¹‹åï¼Œéœ€è¦æ‰§è¡Œæ­¤å‘½ä»¤

firewall-cmd --get-zones                                ### åˆ—å‡ºæ”¯æŒçš„ zone
firewall-cmd --get-services                             ### åˆ—å‡ºé¢„å®šä¹‰çš„æœåŠ¡
firewall-cmd --query-service ftp                     ### æŸ¥çœ‹ ftp æœåŠ¡æ˜¯å¦æ”¾è¡Œï¼Œè¿”å› yes æˆ–è€… no
firewall-cmd --add-service=ftp                      ### ä¸´æ—¶å¼€æ”¾ ftp æœåŠ¡
firewall-cmd --add-service=ftp --permanent          ### æ°¸ä¹…å¼€æ”¾ ftp æœåŠ¡
firewall-cmd --remove-service=ftp --permanent    ### æ°¸ä¹…ç§»é™¤ ftp æœåŠ¡
firewall-cmd --add-port=80/tcp --permanent        ### æ°¸ä¹…æ·»åŠ  80 ç«¯å£
firewall-cmd --zone=public --remove-port=80/tcp --permanent     ### ç§»é™¤ 80 ç«¯å£

iptables -L -n                            ### æŸ¥çœ‹è§„åˆ™ï¼Œè¿™ä¸ªå‘½ä»¤æ˜¯å’Œ iptables çš„ç›¸åŒçš„
man firewall-cmd                               ### æŸ¥çœ‹å¸®åŠ©

å‚æ•°å«ä¹‰ï¼š
--zone                        #ä½œç”¨åŸŸ
--permanent             #æ°¸ä¹…ç”Ÿæ•ˆï¼Œæ²¡æœ‰æ­¤å‚æ•°é‡å¯åå¤±æ•ˆ

```



