---
title: Linux ç³»ç»Ÿå¸¸ç”¨çš„å‹ç¼©æŒ‡ä»¤
sidebarDepth: 0 
category: Tools 
tag: Linux
---


åœ¨ linux ç¯å¢ƒä¸­ï¼Œå‹ç¼©æ–‡ä»¶çš„æ‰©å±•åå¤§å¤šæ˜¯ï¼š.tarã€.tar.gzã€.tgzã€.Zã€.bz2ã€.xz ï¼Œä¸ºä»€ä¹ˆä¼šæœ‰è¿™ä¹ˆå¤šï¼Ÿ

è™½ç„¶åœ¨ linux ä¸‹æ‰©å±•åæ²¡æœ‰å•¥ä½œç”¨ï¼Œä½†æ˜¯æ”¯æŒçš„å‹ç¼©æŒ‡ä»¤éå¸¸å¤šï¼Œå½¼æ­¤ä¹‹é—´æ— æ³•äº’é€šå‹ç¼©æˆ–è§£å‹ç¼©ï¼Œæ‰©å±•åç”¨äºåˆ†åˆ«æ˜¯ä½¿ç”¨å“ªç§è½¯ä»¶æ¥è§£å‹ç¼©ã€‚å¸¸ç”¨çš„æ‰©å±•åå¦‚ä¸‹ï¼š

- .Zï¼šcompress ç¨‹åºå‹ç¼©çš„æ–‡ä»¶
- .zipï¼šzip ç¨‹åºå‹ç¼©çš„æ–‡ä»¶
- .gzï¼šgzip ç¨‹åºå‹ç¼©çš„æ–‡ä»¶
- .bz2ï¼šbzip2 ç¨‹åºå‹ç¼©çš„æ–‡ä»¶
- .xzï¼šxz ç¨‹åºå‹ç¼©çš„æ–‡ä»¶
- .tarï¼štar ç¨‹åºæ‰“åŒ…çš„æ•°æ®ï¼Œå¹¶æ²¡æœ‰å‹ç¼©è¿‡
- .tar.gzï¼štar ç¨‹åºæ‰“åŒ…çš„æ•°æ®ï¼Œå¹¶ç»è¿‡ gzip çš„å‹ç¼©
- .tar.bz2ï¼šåŒä¸Šï¼Œç»è¿‡äº† bzip2 å‹ç¼©
- .tar.xzï¼šåŒä¸Šï¼Œç»è¿‡äº† xz çš„å‹ç¼©

linux ä¸Šå¸¸è§çš„å‹ç¼©æŒ‡ä»¤æ˜¯ gzipã€bzip2 ä»¥åŠæœ€æ–°çš„ xzï¼Œè¿˜æœ‰æ”¯æŒ windows çš„ zipï¼Œè‡³äºå…¶ä»–çš„å‹ç¼©æŒ‡ä»¤åŸºæœ¬ä¸Šéƒ½æ·˜æ±°äº†ã€‚è¿™äº›æŒ‡ä»¤é€šå¸¸ä»…èƒ½é’ˆå¯¹ä¸€ä¸ªæ–‡ä»¶æ¥å‹ç¼©ä¸è§£å‹ç¼©ï¼Œå¦‚æ­¤ä¸€æ¥æ¯æ¬¡å‹ç¼©ä¸è§£å‹ç¼©éƒ½è¦ä¸€å¤§å †æ–‡ä»¶ï¼Œæ‰€ä»¥ tar ï¼ˆæ‰“åŒ…ï¼‰è½¯ä»¶å°±å‡ºç°äº†

tar å¯ä»¥å°†å¾ˆå¤šæ–‡ä»¶ã€Œæ‰“åŒ…ã€æˆä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œå°†å¾ˆå¤šæ–‡ä»¶é›†ç»“ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯æ²¡æœ‰æä¾›å‹ç¼©çš„åŠŸèƒ½ï¼Œåæ¥ GNU è®¡åˆ’ä¸­ï¼Œå°†æ•´ä¸ª tar ä¸å‹ç¼©çš„åŠŸèƒ½ç»“åˆåœ¨ä¸€èµ·ï¼Œæä¾›äº†æ›´å¼ºå¤§çš„å‹ç¼©ä¸æ‰“åŒ…åŠŸèƒ½ã€‚

## ğŸ€ gzipã€zcat/zmore/zless/zgrep

gzip å¯ä»¥è¯´æ˜¯åº”ç”¨æœ€å¹¿çš„å‹ç¼©æŒ‡ä»¤ï¼Œç›®å‰å¯ç”¨è§£å¼€ compressã€zip ä¸ gzip ç­‰è½¯ä»¶æ‰€å‹ç¼©çš„æ–‡ä»¶ï¼Œè¯­æ³•å¦‚ä¸‹

```bash
gzip [-cdtv#] æ–‡æ¡£å
zcat æ–‡æ¡£å.gz
```

é€‰é¡¹ä¸å‚æ•°ï¼š

- cï¼šå°†å‹ç¼©çš„æ•°æ®è¾“å‡ºåˆ°å±å¹•ä¸Šï¼Œå¯é€šè¿‡æ•°æ®æµé‡å¯¼å‘æ¥å¤„ç†
- dï¼šè§£å‹ç¼©çš„å‚æ•°
- tï¼šå¯ä»¥ç”¨æ¥æ£€éªŒä¸€ä¸ªå‹ç¼©æ–‡ä»¶çš„ä¸€è‡´æ€§ï¼Œçœ‹çœ‹æ–‡ä»¶æœ‰æ— é”™è¯¯
- vï¼šå¯ä»¥æ˜¾ç¤ºå‡ºåŸæ–‡ä»¶ã€å‹ç¼©æ–‡ä»¶çš„å‹ç¼©æ¯”ç­‰ä¿¡æ¯
- `#`ï¼šä¸ºæ•°å­—çš„æ„æ€ï¼Œä»£è¡¨å‹ç¼©ç­‰çº§
  - -1ï¼šæœ€å¿«ï¼Œä½†æ˜¯å‹ç¼©æ¯”æœ€å·®
  - -9ï¼šæœ€æ…¢ï¼Œä½†æ˜¯å‹ç¼©æ¯”æœ€å¥½
  - -6ï¼šé»˜è®¤å€¼

å®è·µç»ƒä¹ 

```bash
# æ‰¾å‡º /etc ä¸‹ï¼ˆä¸å«å­ç›®å½•ï¼‰å®¹é‡æœ€å¤§çš„æ–‡ä»¶ï¼Œå¹¶å°†ä»–ä»¬å¤åˆ¶åˆ° /tmp,ç„¶åä»¥ gzip å‹ç¼©
# S æ’åºæ—¶æŒ‰æ–‡ä»¶ sizeï¼Œr ç¿»è½¬ï¼Œå€’åºï¼›å¯¹äºå‚æ•°ï¼Œç¬”è€…è¿™é‡Œä½¿ç”¨ man ls æŸ¥çœ‹çš„å‚æ•°è¯´æ˜ï¼Œè®°ä¸ä½çš„æ—¶å€™å°±å¯ä»¥è¿™æ ·åš
# ls -ldSr /etc/* æœ€å¤§çš„æ’åœ¨æœ€åï¼Œè«éä½¿ç”¨äº† S å°±æ˜¯é™åºæ’åˆ—çš„å—ï¼Ÿ
[mrcode@study ~]$ ls -ldS /etc/*
-rw-r--r--.  1 root root   670293 Jun  7  2013 /etc/services
-rw-r--r--.  1 root root   104251 Oct  4 18:28 /etc/ld.so.cache

[mrcode@study ~]$ cd /tmp/
[mrcode@study tmp]$ cp /etc/services .
[mrcode@study tmp]$ gzip -v services 
services:        79.7% -- replaced with services.gz
[mrcode@study tmp]$ ll /etc/services /tmp/services*
-rw-r--r--. 1 root   root   670293 Jun  7  2013 /etc/services
-rw-r--r--. 1 mrcode mrcode 136088 Oct 28 22:39 /tmp/services.gz
# å¯ä»¥çœ‹åˆ°å‹ç¼©æ¯”ä¸º 79.7ï¼Œå‹ç¼©ä¹‹åå˜æˆäº† 130 å¤š k
```

è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œä½¿ç”¨ gzip è¿›è¡Œå‹ç¼©æ—¶ï¼Œé»˜è®¤çŠ¶æ€ä¸‹åŸæœ¬çš„æ–‡ä»¶ä¼šè¢«å‹ç¼©æˆ .gz çš„æ–‡ä»¶ï¼Œå¹¶ä¸”åŸå§‹æ–‡ä»¶ä¸å­˜åœ¨äº†ï¼ˆæ–‡æ¡ˆå·²ç»æç¤ºäº†ï¼‰ï¼›å¦å¤– gzip å‹ç¼©çš„æ–‡ä»¶åœ¨ windows ä¸­å¯ä»¥è¢« WinRARã€7zip è½¯ä»¶è§£å‹ç¼©

```bash
# ç”±äº services æ˜¯æ–‡ä»¶å†…å®¹ï¼Œå°†å‹ç¼©åçš„æ–‡ä»¶å†…å®¹è¯»å‡ºæ¥
zcat services.gz  
# è¯¥æ–‡ä»¶è¿‡å¤§ï¼Œç›´æ¥è¯»å®Œï¼Œæˆ‘ä»¬çœ‹ä¸åˆ°æœ€å‰é¢çš„å†…å®¹äº†
# å¯ä»¥ä½¿ç”¨ zmoreã€zless å»è¯»å–

# å°† services.gz åŠ å‹ç¼©
# è¿™é‡Œä½¿ç”¨ -d æ¥è§£å‹ç¼©ï¼Œè¿˜æœ‰ä¸€ä¸ª gunzip æŒ‡ä»¤ä¹Ÿå¯ä»¥è§£å‹ç¼©ï¼Œä½†æ˜¯æœ‰ç‚¹éš¾è®°ä½å®ƒ
[mrcode@study tmp]$ gzip -d services.gz 
[mrcode@study tmp]$ ll -l services*
# åŒæ ·ï¼Œé»˜è®¤ä¼šå°† .gz çš„åˆ é™¤ï¼Œå‰©ä¸‹åŸæ¥çš„æ–‡ä»¶å
-rw-r--r--. 1 mrcode mrcode 670293 Oct 28 22:39 services

# å°†ä¸Šé¢è§£å¼€çš„æ–‡ä»¶ï¼Œä½¿ç”¨æœ€ä½³å‹ç¼©æ¯”å‹ç¼©ï¼Œå¹¶ä¿ç•™åŸæ–‡ä»¶
# è¿™ä¸ªä¾‹å­å°±æ˜ç™½ -c ä½¿ç”¨æ•°æ®æµé‡å¯¼æ¥å¤„ç†æ˜¯å•¥æ„æ€äº†ï¼Œå‹ç¼©è¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶ä¸­
# è¿™é‡Œçš„ > åç»­å† bash ç« èŠ‚ä¼šè¯¦ç»†è®²è§£
[mrcode@study tmp]$ gzip -9 -c services > services.gz
[mrcode@study tmp]$ ll -l services*
-rw-r--r--. 1 mrcode mrcode 670293 Oct 28 22:39 services
-rw-rw-r--. 1 mrcode mrcode 135489 Oct 28 22:50 services.gz

# è¿˜å¯ä»¥åœ¨ services.gz æ‰¾é‚£ä¸ªæ‰¾å‡º http å…³é”®è¯åœ¨å“ªé‡Œï¼ˆå…³é”®è¯æœç´¢ï¼‰
[mrcode@study tmp]$ zgrep -n 'http' services.gz 
# ä¸‹é¢ä¼šè¾“å‡ºå¥½å¤šåŒ…å« http çš„ä¿¡æ¯
14:#       http://www.iana.org/assignments/port-numbers
89:http            80/tcp          www www-http    # WorldWideWeb HTTP
```

åœ¨å‹ç¼©æ–‡æ¡£ä¸­æœç´¢å­—ç¬¦çš„è¯å¯ä»¥ä½¿ç”¨ zgrepã€egrep ç­‰æŒ‡ä»¤

## ğŸ€ bzip2ã€bzcat/bzmore/bzgrep

bzip2 å¯ä»¥è¯´æ˜¯å–ä»£äº† gzip å¹¶æä¾›æ›´ä½³çš„å‹ç¼©æ¯”ã€‚ä½¿ç”¨æ–¹å¼å‡ ä¹ä¸ gzip ç›¸åŒ

```bash
bzip2 [-cdkzv#] æ–‡æ¡£å
bzcat æ–‡æ¡£å.bz2
```

é€‰é¡¹ä¸å‚æ•°ï¼š

- cï¼šå°†å‹ç¼©çš„è¿‡ç¨‹äº§ç”Ÿçš„æ•°æ®è¾“å‡ºåˆ°å±å¹•ä¸Š
- dï¼šè§£å‹ç¼©çš„å‚æ•°
- kï¼šä¿ç•™æºæ–‡ä»¶
- zï¼šå‹ç¼©çš„å‚æ•°ï¼ˆé»˜è®¤å€¼ï¼Œå¯ä»¥ä¸åŠ ï¼‰
- vï¼šå¯ä»¥æ˜¾ç¤ºå‡ºæºæ–‡ä»¶/å‹ç¼©æ–‡ä»¶çš„å‹ç¼©æ¯”ä¿¡æ¯
- `#`ï¼šä¸ gzip ä¸€æ ·ï¼Œ-9 æœ€ä½³ã€-1 æœ€å¿«

å®è·µç»ƒä¹ 

```bash
[mrcode@study tmp]$ bzip2 -v services
  services:  5.409:1,  1.479 bits/byte, 81.51% saved, 670293 in, 123932 out.
[mrcode@study tmp]$ ll -l services*
-rw-r--r--. 1 mrcode mrcode 123932 Oct 28 22:39 services.bz2
-rw-rw-r--. 1 mrcode mrcode 135489 Oct 28 22:50 services.gz
# bz2 çš„å‹ç¼©ç‡æ¯” gz çš„å‹ç¼©ç‡è¿˜è¦å¥½ï¼Œçœ‹æ–‡ä»¶å¤§å°

# è¯»å– bz2 æ–‡ä»¶å†…å®¹
bzcat services.bz2
# è§£å‹,é»˜è®¤éƒ½æ˜¯ä¼šåˆ é™¤æ‰åŸæ–‡ä»¶ï¼ŒåŒ…æ‹¬å‹ç¼©ä¹Ÿæ˜¯
[mrcode@study tmp]$ bzip2 -d services.bz2 
[mrcode@study tmp]$ ls -l services*
-rw-r--r--. 1 mrcode mrcode 670293 Oct 28 22:39 services
-rw-rw-r--. 1 mrcode mrcode 135489 Oct 28 22:50 services.gz

# è¿™é‡Œä½¿ç”¨ -k å‚æ•°æ¥ä¿ç•™æºæ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨æœ€ä¼˜å‹ç¼©æ¯”
# è¿˜å¯ä»¥ä½¿ç”¨ -c æ¥è¾“å‡º bzip2 -9 -c services > services.gz
[mrcode@study tmp]$ bzip2 -9 -k services
[mrcode@study tmp]$ ls -l services*
-rw-r--r--. 1 mrcode mrcode 670293 Oct 28 22:39 services
-rw-r--r--. 1 mrcode mrcode 123932 Oct 28 22:39 services.bz2

```

ä½¿ç”¨æ–¹å¼ bzip2 ä¸ gzip å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä¸è¿‡å‹ç¼©ç‡å¥½çš„ä¸€èˆ¬éƒ½ä¼šæ›´è€—æ—¶

## ğŸ€ xzã€xzcat/xzmore/xzless/xzgrep

xz æ¯” bzip2 å‹ç¼©æ¯”æ›´é«˜ï¼Œç”¨æ³•ä¹Ÿä¸ bzip2ã€gzip å°±ä¸€æ¨¡ä¸€æ ·

```bash
xz [-dtlkc#] æ–‡æ¡£å
xcat æ–‡æ¡£å.xz
```

é€‰é¡¹ä¸å‚æ•°ï¼š

- dï¼šè§£å‹ç¼©
- tï¼šæµ‹è¯•å‹ç¼©æ–‡ä»¶çš„å®Œæ•´æ€§ï¼Œçœ‹æ˜¯å¦æœ‰é”™è¯¯
- lï¼šåˆ—å‡ºå‹ç¼©æ–‡ä»¶çš„ç›¸å…³ä¿¡æ¯
- kï¼šä¿ç•™åŸæœ¬çš„æ–‡ä»¶
- cï¼šå°†æ•°æ®ç”±å±å¹•ä¸Šè¾“å‡º
- `#`ï¼šåŒæ ·ï¼Œå‹ç¼©æ¯”æ•°å€¼

```bash
# å‹ç¼©
[mrcode@study tmp]$ xz -v services
services (1/1)
  100 %        97.3 KiB / 654.6 KiB = 0.149                                    
[mrcode@study tmp]$ ls -l services*
-rw-r--r--. 1 mrcode mrcode 123932 Oct 28 22:39 services.bz2
-rw-rw-r--. 1 mrcode mrcode 135489 Oct 28 22:50 services.gz
-rw-r--r--. 1 mrcode mrcode  99608 Oct 28 22:39 services.xz
# çœ‹çœ‹ä¸Šé¢çš„å‹ç¼©ï¼ŒæœçœŸ xz å‹ç¼©æ¯”æ˜¯æœ€å¥½çš„
# åˆ—å‡ºå‹ç¼©æ–‡ä»¶ä¿¡æ¯
[mrcode@study tmp]$ xz -l services.xz 
Strms  Blocks   Compressed Uncompressed  Ratio  Check   Filename
    1       1     97.3 KiB    654.6 KiB  0.149  CRC64   services.xz

# è¯»å–å‹ç¼©æ–‡ä»¶å†…å®¹
 xzless services.xz ã€xzcat services.xz éƒ½å¯ä»¥
# è§£å‹ç¼©
[mrcode@study tmp]$ xz -d services.xz 
# ä½¿ç”¨ -k å‹ç¼©å¹¶ä¿ç•™æºæ–‡ä»¶
[mrcode@study tmp]$ xz -k services


# å¯ä»¥ä½¿ç”¨ time æŒ‡ä»¤ç»Ÿè®¡ä»–ä»¬çš„æ—¶é—´
# time [gzip|bzip2|xz] -c services > services.[gz|bz2|xz]
# ä¸Šé¢çš„è¯­æ³•ï¼Œä¸‹é¢æ˜¯å®é™…çš„æŒ‡ä»¤
[mrcode@study tmp]$ time gzip -c services > services.gz;\
> time bzip2 -c services > services.bz2;\
> time xz -c services > services.xz ;
real    0m0.023s	# çœ‹è¿™ä¸ªæ±‡æ€»æ—¶é—´
user    0m0.021s
sys     0m0.002s

real    0m0.043s
user    0m0.036s
sys     0m0.007s

real    0m0.232s		# çœ‹è¿™ä¸ªæ±‡æ€»æ—¶é—´
user    0m0.227s
sys     0m0.005s

ä¸€ä¸ª 0.023s ä¸€ä¸ª 0.232sï¼Œç›¸å·® 10 å€
```