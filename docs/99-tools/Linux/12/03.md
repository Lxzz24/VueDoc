---
title: 
sidebarDepth: 0 
category: Tools 
tag: Linux
---
# å–„ç”¨åˆ¤æ–­

åœ¨ [ç¬¬åç« ](../10/05.md#æŒ‡ä»¤å›ä¼ å€¼-ä¸-å’Œ) ä¸­ï¼Œæåˆ°è¿‡ `$?` è¿™ä¸ªå˜é‡æ‰€ä»£è¡¨çš„å«ä¹‰ï¼Œä»¥åŠé€šè¿‡ `&& å’Œ ||` æ¥åˆ¤å®šå‰ä¸€ä¸ªæŒ‡ä»¤æ‰§è¡Œå›ä¼ å€¼å¯¹äºåä¸€ä¸ªæŒ‡ä»¤æ˜¯å¦è¦è¿›è¡Œçš„ä¾æ®ã€‚

åœ¨ç¬¬åç« ä¸­ï¼Œåˆ¤å®šä¸€ä¸ªç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œä½¿ç”¨äº† `ll ç›®å½• && æ‰§è¡ŒæŒ‡ä»¤` çš„æ–¹å¼æ¥åˆ¤å®š xx ç›®å½•æ˜¯å¦å­˜åœ¨ï¼Œä»è€Œå†³å®šåç»­æŒ‡ä»¤æ˜¯å¦æ‰§è¡Œï¼Œä½†æ˜¯æœ‰æ›´ç®€å•çš„æ–¹å¼è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå°±æ˜¯é€šè¿‡ test æŒ‡ä»¤

## ğŸ€ ä½¿ç”¨ test æŒ‡ä»¤çš„æµ‹è¯•åŠŸèƒ½

test æŒ‡ä»¤ä¸»è¦ç”¨äºæ£€æµ‹æ–‡ä»¶æˆ–ç›¸å…³å±æ€§æ—¶çš„æŒ‡ä»¤å’Œæ¯”è¾ƒå€¼ï¼Œæ¯”å¦‚æ£€æŸ¥ /mrcode æ˜¯å¦å­˜åœ¨æ—¶

```bash
# -e æ˜¯æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨çš„é€‰é¡¹
[root@cloud-08 script]# test -e /mrcode
```

ä¸Šé¢å‘½ä»¤æ²¡æœ‰ä»»ä½•è¾“å‡ºå€¼

```bash
[root@cloud-08 script]# test -e /mrcode && echo "exist" || "not exist"
exist
# é€šè¿‡ä¸ && æˆ– || å¯ä»¥çŸ¥é“æ˜¯å­˜åœ¨è¿˜æ˜¯ä¸å­˜åœ¨äº†
```

è¦å–„ç”¨ man æŸ¥çœ‹è¯¥æŒ‡ä»¤çš„ä¿¡æ¯ï¼Œä¸‹é¢æ˜¯æ•´ç†ç¿»è¯‘å‡ºæ¥çš„å…¶ä»–é€‰é¡¹

å…³äºæŸä¸ªæ–‡ä»¶åçš„ **æ–‡ä»¶ç±»å‹** åˆ¤æ–­ã€‚å¦‚  `test -e filename`  æ ‡è¯†æ˜¯å¦å­˜åœ¨

| æµ‹è¯•çš„æ ‡å¿— | å«ä¹‰ |
| :--------: | :--- |
| -e | æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼›**å¸¸ç”¨** |
| -f | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”ä¸ºæ–‡ä»¶ï¼ˆfileï¼‰ï¼Ÿ**å¸¸ç”¨** |
| -d | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”ä¸ºç›®å½•ï¼ˆdirectoryï¼‰ï¼Ÿ**å¸¸ç”¨** |
| -b | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ª block device è£…ç½®ï¼Ÿ |
| -c | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ª character device è£…ç½®ï¼Ÿ |
| -S | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ª Socket æ–‡ä»¶ï¼Ÿ |
| -p | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ª FIFOï¼ˆpipeï¼‰æ–‡ä»¶ï¼Ÿ |
| -L | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”ä¸ºä¸€ä¸ªè¿æ¥æ–‡ä»¶ï¼Ÿ |

å…³äºæ–‡ä»¶çš„ **æƒé™** åˆ¤å®šã€‚å¦‚ `test -r filename` æ ‡è¯†æ˜¯å¦å¯è¯»ï¼Ÿï¼ˆä½† root æƒé™å¸¸æœ‰ä¾‹å¤–ï¼‰

| æµ‹è¯•çš„æ ‡å¿— | å«ä¹‰ |
| :--------: | :--- |
| -r | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å…·æœ‰å¯è¯»æƒé™ï¼Ÿ |
| -w | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å…·æœ‰å¯å†™æƒé™ï¼Ÿ |
| -x | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å…·æœ‰å¯æ‰§è¡Œæƒé™ï¼Ÿ |
| -u | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å…·æœ‰ SUID å±æ€§ï¼Ÿ |
| -g | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å…·æœ‰ SGID å±æ€§ï¼Ÿ |
| -k | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”å…·æœ‰ Sticky bit å±æ€§ï¼Ÿ |
| -s | è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ä¸”ä¸ºã€Œéç©ºç™½æ–‡ä»¶ã€ï¼Ÿ |

ä¸¤ä¸ªæ–‡ä»¶ä¹‹é—´çš„æ¯”è¾ƒã€‚å¦‚ `test file1 -nt file2`

| æµ‹è¯•çš„æ ‡å¿— | å«ä¹‰ |
| :--------: | :--- |
| -nt | ï¼ˆnewer thanï¼‰åˆ¤æ–­ file1 æ˜¯å¦æ¯” file2 æ–° |
| -ot | ï¼ˆolder thanï¼‰åˆ¤æ–­ file1  æ˜¯å¦æ¯” file2 æ—§ |
| -ef | åˆ¤æ–­ file1 ä¸ file2 æ˜¯å¦æ˜¯åŒä¸€æ–‡ä»¶ï¼Œå¯ç”¨åœ¨åˆ¤æ–­ hard link çš„åˆ¤å®šä¸Šã€‚ä¸»è¦æ„ä¹‰åœ¨åˆ¤å®šä¸¤ä¸ªæ–‡ä»¶æ˜¯å¦å‡æŒ‡å‘åŒä¸€ä¸ª inode |

ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„åˆ¤å®šã€‚`test nl -eq n2`

| æµ‹è¯•çš„æ ‡å¿— | å«ä¹‰ |
| :--------: | :--- |
| -eq | ä¸¤æ•°å€¼ç›¸ç­‰ï¼ˆequalï¼‰ |
| -ne | ä¸ç›¸ç­‰ï¼ˆnot equalï¼‰ |
| -gt | å¤§äºï¼ˆgreater thanï¼‰ |
| -lt | å°äºï¼ˆless thanï¼‰ |
| -ge | å¤§äºç­‰äºï¼ˆgreater than or equalï¼‰ |
| -le | å°äºç­‰äºï¼ˆless than or equalï¼‰ |

åˆ¤å®šå­—ç¬¦ä¸²çš„æ•°æ®

| æµ‹è¯•çš„æ ‡å¿— | å«ä¹‰ |
| :--------: | :--- |
| test -z string | åˆ¤å®šå­—ç¬¦ä¸²æ˜¯å¦ä¸º 0ï¼Ÿè‹¥ä¸ºç©ºä¸²ï¼Œåˆ™ä¸º true |
| test -n string | åˆ¤å®šå­—ç¬¦ä¸²æ˜¯å¦ä¸ä¸º 0ï¼Ÿè‹¥ä¸ºç©ºä¸²ï¼Œåˆ™ä¸º falseï¼›æ³¨æ„ï¼š-n å¯çœç•¥ |
| test str1 == str2 | æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™ä¸º true |
| test str1 !=  str2 | æ˜¯å¦ä¸ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™ä¸º false |

å¤šé‡æ¡ä»¶åˆ¤æ–­ã€‚æ¯”å¦‚ `test -r filename -a -x filename`

| æµ‹è¯•çš„æ ‡å¿— | å«ä¹‰ |
| :--------: | :--- |
| -a | ï¼ˆandï¼‰ä¸¤çŠ¶å†µåŒæ—¶æˆç«‹ï¼›å¦‚ï¼š`test -r filename -a -x filename`ï¼Œåˆ™ file åŒæ—¶å…·æœ‰ r ä¸ x æƒé™æ—¶æ‰ä¸º true |
| -o | ï¼ˆorï¼‰ä»»æ„ä¸€ä¸ªæˆç«‹ã€‚å¦‚ï¼š`test -r filename -o -x filename`ï¼Œåˆ™ file å…·æœ‰ r æˆ– x æƒé™æ—¶å°±ä¸º true |
| ! | åå‘çŠ¶æ€ã€‚ |

æ€»ç»“å®Œè¿™ä¹ˆå¤šçš„åˆ¤å®šï¼Œå°±å¯ä»¥æ¥å†™å‡ ä¸ªç®€å•çš„ä¾‹å­ã€‚è®©ç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åï¼Œæˆ‘ä»¬åˆ¤æ–­ï¼š

1. è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œè‹¥ä¸å­˜åœ¨åˆ™ç»™äºˆä¸€ä¸ªã€ŒFilename does not existã€ æç¤ºï¼Œå¹¶ä¸­æ–­ç¨‹åº
2. è‹¥è¯¥æ–‡ä»¶å­˜åœ¨ï¼Œåˆ™åˆ¤æ–­æ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•ï¼šæ–‡ä»¶è¾“å‡ºã€ŒFilename is regular fileã€ï¼Œç›®å½•è¾“å‡º ã€ŒFilename is directoryã€
3. åˆ¤æ–­æ‰§è¡Œè€…çš„èº«ä»½å¯¹è¿™ä¸ªæ–‡ä»¶æˆ–ç›®å½•æ‰€æ‹¥æœ‰çš„æƒé™ï¼Œå¹¶è¾“å‡ºæƒé™æ•°æ®

ä¸‹é¢æ˜¯ç¬”è€…å†™çš„æ€è·¯ï¼Œä»£ç ç»„ç»‡æ–¹é¢æœ‰ç‚¹ç³Ÿç³•ã€‚è¿˜æœ‰æŒ‡ä»¤ä½¿ç”¨ä¸å¤ªç†Ÿæ‚‰

```bash
#!/bin/bash
# Program
# 
# History
#       2020/01/19              mrcode          first relese
read -p "è¯·è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åï¼š" filename
# åˆ¤æ–­æ˜¯å¦è¾“å…¥äº†å­—ç¬¦ä¸²
test -z ${filename} && echo "è¯·è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆçš„æ–‡ä»¶åï¼" && exit -1

# åˆ¤æ–­è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨: ä¸å­˜åœ¨è¾“å‡ºæç¤ºä¿¡æ¯å¹¶é€€å‡º
# ç‰¹åˆ«æ˜¯è¿™é‡Œçš„å¤šæ¡æŒ‡ä»¤çš„æ‰§è¡Œï¼Œä½¿ç”¨ || ä¼šå¾ˆéš¾å¤„ç†ï¼Œåªèƒ½è½¬æˆ true
test ! -e ${filename} && echo "${filename} does not exist" && exit -1

# æç¤ºæ˜¯æ–‡ä»¶è¿˜æ˜¯ç›®å½•
test -f ${filename} && echo "${filename} is regular file" || echo "${filename} is directory"

# åˆ¤æ–­æ‰§è¡Œè€…çš„èº«ä»½å¯¹è¿™ä¸ªæ–‡ä»¶æ‹¥æœ‰çš„æƒé™ï¼Œå¹¶è¾“å‡º
test -r ${filename} && echo "${filename} å¯è¯»"
test -w ${filename} && echo "${filename} å¯å†™"
test -x ${filename} && echo "${filename} å¯æ‰§è¡Œ"
```

æµ‹è¯•è¾“å‡ºå¦‚ä¸‹

```bash
[mrcode@study bin]$ ./file_perm.sh 
è¯·è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åï¼šss
ss does not exist
[mrcode@study bin]$ ./file_perm.sh 
è¯·è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åï¼š/etc
/etc is directory
/etc å¯è¯»
/etc å¯æ‰§è¡Œ
```



ä¹¦ä¸Šä»£ç å¦‚ä¸‹

```bash
vim file_perm.sh
#!/bin/bash
# Program
#   User input a filename,program will check the flowing:
#	1.) exist?
#	2.) file/directory?
#	3.) file permissions
# History
#       2020/01/19              mrcode          first relese
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin
export PATH

echo -e "Please input a filename,I will check the filename's type and permission. \n\n"
read -p "Input a filename ï¼š" filename
# åˆ¤æ–­æ˜¯å¦è¾“å…¥äº†å­—ç¬¦ä¸²
test -z ${filename} && echo "You MUST input a filename. " && exit 0

# åˆ¤æ–­è¯¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨: ä¸å­˜åœ¨è¾“å‡ºæç¤ºä¿¡æ¯å¹¶é€€å‡º
test ! -e ${filename} && echo "The filename ${filename} does not exist" && exit 0

# å¼€å§‹åˆ¤æ–­æ–‡ä»¶ç±»å‹ä¸å±æ€§
test -f ${filename} && filetype="regulare file"
test -d ${filename} && filetype="directory"
test -r ${filename} && perm="readable"
test -w ${filename} && perm="${perm} writable"
test -x ${filename} && perm="${perm} executable"

# ä¿¡æ¯è¾“å‡º
echo "The filename: ${filename} is a ${filetype}"
echo "And the permissions for you are : ${perm}"
```

æµ‹è¯•è¾“å‡ºå¦‚ä¸‹

```bash
[mrcode@study bin]$ ./file_perm.sh 
Please input a filename,I will check the filename's type and permission. 


Input a filename ï¼šss
The filename ss does not exist
[mrcode@study bin]$ ./file_perm.sh 
Please input a filename,I will check the filename's type and permission. 


Input a filename ï¼š/etc
The filename: /etc is a directory
And the permissions for you are : readable executable
```

è‡ªå·±å†™çš„è„šæœ¬ç»„ç»‡æ¥çœ‹ï¼Œé™¤äº†ä¸ç†Ÿæ‚‰æŒ‡ä»¤ç”¨æ³•ä¹‹å¤–ï¼Œå¯¹äºç¨‹åºç»“æ„çš„æŠ½è±¡ä¸å¤Ÿå¥½ï¼Œå¯¹æ¯”ä¹¦ä¸Šçš„ï¼Œå‘è§‰è¿™ä¸ªä»£ç ç»„ç»‡çš„ä¸é”™

å¦å¤–ï¼Œè¯¥è„šæœ¬æ£€æŸ¥æƒé™çš„æŒ‡ä»¤æ˜¯é’ˆå¯¹è¿è¡Œè¯¥è„šæœ¬çš„ç”¨æˆ·æ‰€åé¦ˆçš„ï¼Œæ‰€ä»¥å½“ä½¿ç”¨ root çš„æ—¶å€™ï¼Œå¸¸å¸¸ä¼šå‘ç°ä¸ ls -l è§‚å¯Ÿåˆ°çš„ç»“æœå¹¶ä¸ç›¸åŒ

## ğŸ€ åˆ©ç”¨åˆ¤æ–­ç¬¦å· `[]`

é™¤äº† test å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä¸­æ‹¬å· `[]` æ¥åˆ¤å®š

```bash
# åˆ¤æ–­ ${HOME} è¿™ä¸ªå˜é‡æ˜¯å¦ä¸ºç©º
[mrcode@study bin]$ [ -z "${HOME}" ]; echo $?
1
```

ä½¿ç”¨è¯¥ç§æ–¹å¼éœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œå› ä¸ºä¸­æ‹¬å·åœ¨å¾ˆå¤šåœ°æ–¹éƒ½ä»£è¡¨ç‰¹æ®Šç¬¦å·ï¼Œåœ¨ bash çš„è¯­æ³•ä¸­ä½œä¸º shell åˆ¤æ–­æ—¶ï¼Œå¿…é¡»è¦æ³¨æ„ **ä¸­æ‹¬å·çš„ä¸¤ç«¯éœ€è¦æœ‰ç©ºæ ¼ç¬¦æ¥åˆ†éš”**

- åœ¨ä¸­æ‹¬å·å†…çš„æ¯ä¸ªç»„ä»¶éƒ½éœ€è¦æœ‰ç©ºæ ¼æ¥åˆ†éš”
- åœ¨ä¸­æ‹¬å·å†…çš„å˜é‡ï¼Œæœ€å¥½éƒ½ä»¥åŒå¼•å·æ‹¬èµ·æ¥
- åœ¨ä¸­æ‹¬å·å†…çš„å¸¸é‡ï¼Œéƒ½å¥½éƒ½ä»¥å•æˆ–åŒå¼•å·æ‹¬èµ·æ¥

çœ‹ä¸€ä¸ªä¾‹å­ï¼Œè®¾ç½®ä¸€ä¸ª name å˜é‡ï¼Œå†ç”¨ä¸­æ‹¬å·æ–¹å¼åˆ¤æ–­

```bash
[mrcode@study bin]$ name="Mrcode Tset"
[mrcode@study bin]$ [ ${name} == "Mrcode" ]
-bash: [: å‚æ•°å¤ªå¤š
# æ˜¯å› ä¸ºï¼Œå¦‚æœ ${name} æ²¡æœ‰ä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥å°±ä¼šå˜æˆ  [ Mrcode Test  == "Mrcode" ]
# ä¸­æ‹¬å·å†…çš„å˜é‡æ˜¯ä»¥ç©ºæ ¼æ¥åˆ†éš”çš„ï¼Œé‚£ä¹ˆè¿™é‡Œå°±å‡ºç°äº† Mrcode Test â€œMrcodeâ€ ä¸‰ä¸ªæ¯”è¾ƒå¯¹è±¡äº†
# é‚£ä¹ˆä½¿ç”¨ [ â€œ${name}â€ == "Mrcode" ] å°±å˜æˆäº† [ â€œMrcode Testâ€  == "Mrcode" ]
```

é™¤äº†ä»¥ä¸Šæ³¨æ„ä¹‹å¤–ï¼Œä¸­æ‹¬å·ä½¿ç”¨æ–¹å¼ä¸ test å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œåªæ˜¯ä¸­æ‹¬å·æ¯”è¾ƒå¸¸ç”¨åœ¨ **æ¡ä»¶åˆ¤æ–­ if...then..fi** çš„æƒ…å†µä¸­ã€‚

å®è·µèŒƒä¾‹éœ€æ±‚å¦‚ä¸‹ï¼š

1. å½“æ‰§è¡Œä¸€ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œè¦æ±‚ç”¨æˆ·é€‰æ‹© Y æˆ– N
2. å¦‚æœç”¨æˆ·è¾“å…¥ Y æˆ– y æ—¶ï¼Œå°±æ˜¾ç¤ºã€ŒOkï¼Œcontinueã€
3. å¦‚æœç”¨æˆ·è¾“å…¥ N æˆ– n æ—¶ï¼Œå°±æ˜¾ç¤ºã€ŒOhï¼Œinterruptï¼ã€
4. å¦‚æœä¸æ˜¯ä»¥ä¸Šè§„å®šå­—ç¬¦ï¼Œåˆ™æ˜¾ç¤ºã€ŒI don't know what your choice isã€

åˆ©ç”¨ä¸­æ‹¬å·ã€`&&`ã€`||` æ¥è¾¾æˆ

```bash
vi ans_yn.sh
#!/bin/bash
# Program:
#	This program shows the user's choice
# History:
#	2020/01/20		mrcode		first relese
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin
export PATH

read -p "è¯·è¾“å…¥ Y/Nï¼š" yn
[ "${yn}" == "Y" -o "${yn}" == "y" ] && echo "Okï¼Œcontinue" && exit 0
[ "${yn}" == "N" -o "${yn}" == "n" ] && echo "Ohï¼Œinterruptï¼" && exit 0
echo "I don't know what your choice is" && exit 0
```

è¾“å‡ºæµ‹è¯•

```bash
# è¿™é‡ŒæŠ¥é”™æ—¶å› ä¸º [ "${yn}" == "Y" || "${yn}" == "y" ]  ä¸­ä½¿ç”¨äº† || æ¥è¾¾æˆæ¡ä»¶åˆ¤å®š
[mrcode@study bin]$ ./ans_yn.sh 
è¯·è¾“å…¥ Y/Nï¼šn
./ans_yn.sh: ç¬¬ 10 è¡Œ:[: ç¼ºå°‘ `]'
./ans_yn.sh:è¡Œ10: n: æœªæ‰¾åˆ°å‘½ä»¤
./ans_yn.sh: ç¬¬ 11 è¡Œ:[: ç¼ºå°‘ `]'
./ans_yn.sh:è¡Œ11: n: æœªæ‰¾åˆ°å‘½ä»¤
I don't know what your choice is

# [ "${yn}" == "Y" -o "${yn}" == "y" ] ä½¿ç”¨äº† test ä¸­çš„å‚æ•°ï¼Œ -o åªè¦ä»»æ„ä¸€ä¸ªæˆç«‹éƒ½ç®— true
# ç¨‹åºæ­£å¸¸
[mrcode@study bin]$ vim ans_yn.sh 
[mrcode@study bin]$ ./ans_yn.sh 
è¯·è¾“å…¥ Y/Nï¼šn
Ohï¼Œinterruptï¼
[mrcode@study bin]$ ./ans_yn.sh 
è¯·è¾“å…¥ Y/Nï¼šy
Okï¼Œcontinue
[mrcode@study bin]$ ./ans_yn.sh 
è¯·è¾“å…¥ Y/Nï¼š
I don't know what your choice is
```

## ğŸ€ shell script çš„é»˜è®¤å˜é‡ `$0,$1...`

æŒ‡ä»¤å¯ä»¥å¸¦æœ‰é€‰é¡¹ä¸å‚æ•°ï¼Œå¦‚ `ls -la` å¯ä»¥æŸ¥çœ‹åŒ…å«éšè—æ–‡ä»¶çš„æ‰€æœ‰å±æ€§ã€‚é‚£ä¹ˆ script ä¹Ÿå¯ä»¥æºå¸¦å‚æ•°ã€‚

```bash
# é‡æ–°å¯åŠ¨ç³»ç»Ÿçš„ç½‘ç»œ
[mrcode@study bin]$ file /etc/init.d/network 
/etc/init.d/network: Bourne-Again shell script, ASCII text executable
# åˆ©ç”¨ file æŒ‡ä»¤æŸ¥è¯¢è¯¥æ–‡ä»¶ï¼Œæ˜¾ç¤ºæ˜¯ä¸ªå¯æ‰§è¡Œçš„ shell script æ–‡ä»¶

# è¿™é‡Œæºå¸¦ restart å‚æ•°ï¼Œå¦‚æœæ›¿æ¢æˆ stop å‚æ•°å°±æ˜¯å…³é—­è¯¥æœåŠ¡äº†
[mrcode@study bin]$ /etc/init.d/network restart 
```

read æ˜¯ä½¿ç”¨è¿‡ç¨‹ä¸­éœ€è¦æ‰‹åŠ¨è¾“å…¥ï¼Œè€Œå‚æ•°æ˜¯å¯ä»¥è·Ÿéšåœ¨æ‰§è¡Œå‘½ä»¤åçš„ï¼Œè¿™æ ·å°±æ¯”è¾ƒæ–¹ä¾¿

script é’ˆå¯¹å‚æ•°å·²ç»è®¾ç½®å¥½ä¸€äº›å˜é‡åç§°äº†ï¼Œå¯¹åº”å¦‚ä¸‹

```
/path/to/scriptname		opt1	opt2	opt3	opt4
 		&0				 &1		 &2		 &3		 &4
```

é™¤äº†è¿™äº›æ•°å­—çš„å˜é‡å‚æ•°å¤–ï¼Œè¿˜æœ‰ä¸€äº›è¾ƒä¸ºç‰¹æ®Šçš„å˜é‡å¯ä»¥ä½¿ç”¨

- `$#`ï¼šä»£è¡¨åæ¥çš„å‚æ•°ã€Œä¸ªæ•°ã€ï¼Œä»¥ä¸Šè¡¨ä¸ºä¾‹è¿™é‡Œæ˜¾ç¤ºã€Œ4ã€
- `$@`ï¼šä»£è¡¨ ã€Œ`"&1" "&2" "&3" "&4"`ã€ çš„æ„æ€ï¼Œæ¯ä¸ªå˜é‡æ˜¯ç‹¬ç«‹çš„ï¼ˆç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼‰
- `$*`ï¼šä»£è¡¨ã€Œ`"&1c&2c&3c&4"`ã€ï¼Œå…¶ä¸­ c ä¸ºåˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºç©ºæ ¼ï¼Œæ‰€ä»¥æœ¬ä¾‹ä¸­ä»£è¡¨ã€Œ`"&1 &2 &3 &4"`ã€

`$@ ä¸ $*` åŸºæœ¬ä¸Šè¿˜æ˜¯æœ‰æ‰€ä¸åŒï¼Œä¸€èˆ¬ä½¿ç”¨ `$@` è¾ƒå¤šã€‚

èŒƒä¾‹éœ€æ±‚ï¼šè¾“å‡ºå¦‚ä¸‹æ•°æ®

- ç¨‹åºçš„æ–‡ä»¶å
- å…±æœ‰å‡ ä¸ªå‚æ•°
- è‹¥å‚æ•°å°äº 2 ï¼Œåˆ™å‘ŠçŸ¥ä½¿ç”¨è€…å‚æ•°æ•°é‡å¤ªå°‘
- å…¨éƒ¨çš„å‚æ•°å†…å®¹
- ç¬¬ä¸€ä¸ªå‚æ•°
- ç¬¬äºŒä¸ªå‚æ•°

```bash
vi prit_info.sh
#!/bin/bash
# Program:
#       è¾“å‡ºè„šæœ¬æ–‡ä»¶åï¼Œä¸ç›¸å…³å‚æ•°ä¿¡æ¯
# History:
#       2020/01/20              mrcode          first relese
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin
export PATH
echo $0
echo $#
# è¿™æ ·å†™ï¼Œè¯­æ³•æ˜¯é”™è¯¯çš„ï¼Œè¦è®°å¾—è¿™é‡Œæ˜¯ä½¿ç”¨ test é‡Œé¢çš„è¯­æ³•
# å¹¶ä¸”ï¼Œä¸èƒ½ç”¨ ${å˜é‡} çš„æ–¹å¼æ¥å†™
[ "${$#}" < "2" ] && echo "å‚æ•°æ•°é‡å¤ªå°‘ï¼Œæ¯”å¦‚å¤§äºç­‰äº 2 ä¸ª" && exit 0
echo $@
echo $1
echo $2
```

è¾“å‡º

```bash
[mrcode@study bin]$ ./print_info.sh 
./print_info.sh
0
./print_info.sh:è¡Œ11: 2: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•



[mrcode@study bin]$ ./print_info.sh a b
./print_info.sh
2
./print_info.sh:è¡Œ11: 2: æ²¡æœ‰é‚£ä¸ªæ–‡ä»¶æˆ–ç›®å½•
a b
a
b

```

ä»¥ä¸‹æ˜¯ä¹¦ä¸Šçš„å†™æ³•

```bash
vi how_paras.sh
#!/bin/bash
# Program:
#       è¾“å‡ºè„šæœ¬æ–‡ä»¶åï¼Œä¸ç›¸å…³å‚æ•°ä¿¡æ¯
# History:
#       2020/01/20              mrcode          first relese
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin
export PATH

echo "The script name is			==> $0"
echo "Total parameter number is		==> $#"
[ "$#" -lt 2 ] && echo "å‚æ•°æ•°é‡å¤ªå°‘ï¼Œæ¯”å¦‚å¤§äºç­‰äº 2 ä¸ª" && exit 0
echo "Your whole parameter is		==> '$@'"
echo "The 1st parameter 			==> $1"
echo "The 2nd parameter 			==> $2"
```

è¾“å‡ºæµ‹è¯•

```bash
[mrcode@study bin]$ ./how_paras.sh 
The script name is			==> ./how_paras.sh
Total parameter number is		==> 0
å‚æ•°æ•°é‡å¤ªå°‘ï¼Œæ¯”å¦‚å¤§äºç­‰äº 2 ä¸ª

[mrcode@study bin]$ ./how_paras.sh a b
The script name is			==> ./how_paras.sh
Total parameter number is		==> 2
Your whole parameter is		==> 'a b'
The 1st parameter 			==> a
The 2nd parameter 			==> b
```

## ğŸ€ shiftï¼šé€ æˆå‚æ•°å˜é‡ä½ç½®åç§»

å…ˆä¿®æ”¹ä¸‹ä¸Šé¢çš„èŒƒä¾‹ï¼Œ`how_paras.sh` å…ˆæ¥çœ‹çœ‹æ•ˆæœä»€ä¹ˆæ˜¯åç§»

```bash
vi how_paras.sh
#!/bin/bash
# Program:
#       Program shows the effect of shift function
# History:
#       2020/01/20              mrcode          first relese
PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/local/bin:/usr/local/sbin:~/bin
export PATH

echo "Total parameter number is		==> $#"
echo -e "Your whole parameter is		==> '$@' \n"

shift	# è¿›è¡Œç¬¬ä¸€æ¬¡ ä¸€ä¸ªå˜é‡çš„ shift
echo "Total parameter number is		==> $#"
echo -e "Your whole parameter is		==> '$@' \n"

shift 3	# è¿›è¡Œç¬¬äºŒæ¬¡ ä¸‰ä¸ªå˜é‡çš„ shift
echo "Total parameter number is		==> $#"
echo "Your whole parameter is		==> '$@'"
```

è¾“å‡ºå¦‚ä¸‹

```bash
[mrcode@study bin]$ ./how_paras.sh a b c d e f
Total parameter number is		==> 6		# ä½åç§»çš„å‚æ•°æ•°é‡ï¼Œæ˜¯ 6 ä¸ª
Your whole parameter is		==> 'a b c d e f'

Total parameter number is		==> 5		# åç§»ä¸€æ¬¡åï¼Œåªå‰©ä¸‹ 5 ä¸ªï¼Œå¹¶ä¸”ç¬¬ä¸€ä¸ªå‚æ•° a ä¸è§äº†
Your whole parameter is		==> 'b c d e f'

Total parameter number is		==> 2		# ç¬¬äºŒæ¬¡åç§»æ‰ 3 ä¸ªåï¼Œb c d ä¸è§äº†
Your whole parameter is		==> 'e f'

# å†æ¥çœ‹çœ‹å¦‚æœå‚æ•°ä¸å¤Ÿåç§»ä¼šå‡ºç°ä»€ä¹ˆæƒ…å†µ
[mrcode@study bin]$ ./how_paras.sh a b c	# ç»™ 3 ä¸ªå‚æ•°
Total parameter number is		==> 3
Your whole parameter is		==> 'a b c' 

Total parameter number is		==> 2		# ç¬¬ä¸€æ¬¡åç§» 1 ä¸ªï¼Œåªç”Ÿæ•ˆ 2 ä¸ªäº†
Your whole parameter is		==> 'b c' 

Total parameter number is		==> 2		# ç¬¬äºŒæ¬¡åç§» 3 ä¸ªï¼Œå‘ç°æ²¡æœ‰ç”Ÿæ•ˆï¼Œä¸å¤Ÿåç§»
Your whole parameter is		==> 'b c'


[mrcode@study bin]$ ./how_paras.sh a b c d		# ç»™ 4 ä¸ªå‚æ•°
Total parameter number is		==> 4
Your whole parameter is		==> 'a b c d' 

Total parameter number is		==> 3		# ç¬¬ä¸€æ¬¡åç§» 1 ä¸ªï¼Œè¿˜å‰©ä¸‹ 3 ä¸ª
Your whole parameter is		==> 'b c d' 

Total parameter number is		==> 0		# ç¬¬äºŒæ¬¡åç§» 3 ä¸ªï¼Œå‰©ä¸‹ 0 ä¸ª
Your whole parameter is		==> ''
```

æ€»ç»“å¦‚ä¸‹ï¼š

- shift å¯ä»¥å¿½ç•¥æ‰ n ä¸ªå‚æ•°
- shif ä¸­çš„ n å¿…é¡»è¦æœ‰è¶³å¤Ÿçš„å‚æ•°æ‰ä¼šç”Ÿæ•ˆï¼Œå¦åˆ™ä¸ä¼šåç§»
