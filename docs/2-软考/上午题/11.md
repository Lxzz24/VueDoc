---
title: 11-计算机网络 ⑰
sidebarDepth: 1
category: 软考笔记
tag: 软考
---

::: details 目录
[[toc]]
:::
 

## 🍀 网络的设备

- 物理层：中继器、集线器（可以看作成一种特殊的**多路或多端口**的中继器）
- 数据链路层：网桥、交换机（可以看成**多端口**的网桥）
- 网络层：路由器、ICMP（控制报文协议）
- 应用层：网关

|                      | 广播域 | 冲突域 |
| :------------------: | :----: | :----: |
|   物理层（集线器）   |   ×    |   ×    |
| 数据链路层（交换机） |   ×    |   √    |
|   网络层（路由器）   |   √    |   √    |

## 🍀 协议簇



![img](./assets/1685079630978-b652f779-54ff-4718-8113-e4692be411a9.png)



![img](./assets/1685079609574-90013942-1227-46ba-b363-9c059875d831.png)



- FTP 的端口号：20（数据端口）、21（控制端口）
- http 的端口号：80
- https 的端口号：443
- DNSD 的端口号：53

## 🍀 TCP 和 UDP

- TCP（传输控制协议）：在 IP 提供的不可靠数据服务的基础上为应用程序

    提供了可靠的、面向连接

    的、全双工的数据传输服务。采用

    三次握手

    来确认建立和关闭连接是否成功。TCP 的功能或服务有：

    - 可靠传输
    - 连接管理
    - 差错校验和重传
    - 流量控制：采用可变大小的滑动窗口协议
    - 拥塞控制
    - 端口寻址

- UDP（用户数据报协议）：

    是一种不可靠的、无连接的协议

    ，可以保证应用程序进程间的通信。UDP 上的应用有 VoIP 等。

    - UDP 的首部 8B，TCP 的首部 20B，UDP 相比 TCP 来说，开销较小。
    - TCP 和 UDP 均提供了端口寻址功能。

补充：

1. TCP 和 UDP 都是应用于**传输层**的网络协议。
2. TCP 有助于提供可靠性，UDP 有助于提高传输的高速率性。

## 🍀 电子邮件协议 SMTP 和 POP3

- SMTP 和 POP3 都使用 TCP 端口传输和接收邮件。
- SMTP：仅传输 ASCII 文本，不能传输非文字性附件。主要用来发邮件，可以使用 MIME（邮件附件 k 扩展协议），添加其他类型的附件。TCP 端口号：25。
- POP3：邮件接收协议；TCP 端口号：110。
- POP3 基于 C/S 模式（Client/Server 模式，客户端 / 服务器模式）。
- PEM：私密邮件

## 🍀 ARP 和 RARP

- 地址解析协议（ARP）和反地址解析协议（RARP）是**网络层**的一个重要的协议

- ARP（地址解析协议）：将 IP 地址转换为 MAC 地址（物理地址）。

    IP 到 MAC 地址的转换过程：

    1. 查询 ARP 高速缓存中是否有该 IP 地址
    2. 如果该 IP 地址在 ARP 高速缓存中，便使用与它对应的 MAC 地址，将数据报发送给所需的物理网卡
    3. 如果 ARP 高速缓存中没有该 IP 地址，ARP 便在局域网上以**广播**方式发送一个 ARP 请求包
    4. 如果局域网上 IP 地址与某台计算机中的 IP 地址相一致，那么该计算机便生成一个 ARP 应答信息（单播），信息中包含对应的 MAC 地址。（广播传送请求，单播传送响应）

- RARP（反地址解析协议）：将 MAC 地址转换为 IP 地址，主要用于无盘工作站。

## 🍀 DHCP（动态主机配置协议）

- DHCP 协议的功能和作用是：

    - 集中的管理、自动分配 IP 地址
    - 使网络环境中的主机动态地获得 IP 地址、Gateway 地址、DNS 服务器地址等信息
    - 提升地址的使用率

    DHCP 客户端可以从 DHCP 服务器获得以下内容：

    - 本机 IP 地址
    - DNS 服务器地址
    - DHCP 服务器地址
    - 默认网关的地址

    无效地址：

    - Windows 无效地址：169.254.X.X

    169.254.X.X 是 Windows 系统在 DHCP 信息租用失败时自动给客户机分配的 IP 地址

    - Linux 无效地址：0.0.0.0

## 🍀 URL

```
协议名://主机名.域名.域名后缀.域名分类/目录/网页文件
```

| 组织模式 |       含义       | 地理模式 |   含义   |
| :------: | :--------------: | :------: | :------: |
|   com    |     商业机构     |    cn    |   中国   |
|   edu    |     教育机构     |    hk    | 中国香港 |
|   gov    |     政府机构     |    mo    | 中国澳门 |
|   mil    |     军事部门     |    tw    | 中国台湾 |
|   net    | 主要网络支持中心 |    us    |   美国   |
|   org    |   上述以外组织   |    uk    |   英国   |
|   int    |     国际组织     |    jp    |   日本   |

**IPv6 128 位地址空间、IPv4 32 位地址空间。**

## 🍀 浏览器

- DNS 域名查询次序是：本地的 hosts 文件 —— 本地 DNS 缓存 —— 本地 DNS 服务器 —— 根域名服务器
- 主域名服务器在接受域名请求后查询顺序是：本地缓存 —— 本地 hosts 文件 —— 本地数据库 —— 转发域名服务器

## 🍀 internet 地址

Internet 地址格式主要有两种书写形式：

- 域名
- IP 地址

### IP 地址

IP 地址：Internet 中的主机地址实际上是用 IP 地址来唯一标识的。

IP 地址有两种：

- IPv4
- IPv6

> 通常 IP 地址是指 IPv4。

### IPv4

每个 IPv4 地址都由 4 个小于 256 的数字组成（每个数字 8 位，共 32 位），数字之间用`.` 分开，可分为 5 类：



![img](./assets/17.png)



补充：

- 在 IPv4 中，全 `0` 代表的是网络，全 `1` 代表的是广播。
- IPv4 能表示的地址个数为：2^32^≈40 亿。

### 子网掩码

网络软件和路由器使用**子网掩码**来识别报文是仅存放在网络内部还是被路由转发到其他地方。

子网掩码是用来指明特定的 IP 地址中的网络号和主机号部分。子网掩码的格式与 IP 地址相同：

- 所有对应网络号的部分用 `1` 填上；
- 所有对应主机号的部分用 `0` 填上。

![img](./assets/18.png)

### IPv6

IPv6 具有长达 128 位的地址空间，可以彻底解决 IPv4 地址不足的问题。

IPv6 理论上能表示的地址个数：2^128^=3.4×10^38^

> 在想象得到的将来，IPv6 的地址空间是不可能用完的。

### 无线通信技术

流行的无线通信技术有 WiFi、蓝牙等。其中，蓝牙覆盖范围最小、通信距离最短。

### ipconfig 命令

- ipconfig 用于查询本机 IP 信息。
- traceroute：是 Linux 下的命令，对应 windows 命令为 tracert 路由跟踪命令
- netstat：是一个监控 TCP/IP 网络的非常有用的工具。它可以显示路由表、实际的网络连接以及每一个网络接口设备的状态信息
- nslookup：域名查询命令，用于查询 DNS 解析域名记录

ipconfig 命令的用法如下：

|      参数      |    说明    |          示例           |
| :------------: | :----------------------------------------------------------: | :---------------------: |
|     无参数     |      显示所有网络适配器的 IP 地址、子网掩码和缺省网关值      |       `ipconfig`        |
|     `/all`     | 显示所有网络适配器的完整 TCP/IP 配置信息，包括 DHCP 服务是否已启动 |     `ipconfig /all`     |
| `/displaydns`  |                      显示本地 DNS 内容                       | `ipconfig /displaydns`  |
|  `/flushdns`   |                    清除本地 DNS 缓存内容                     |  `ipconfig /flushdns`   |
| `/registerdns` |                DNS 客户端手工向服务器进行注册                | `ipconfig /registerdns` |
|   `/release`   |          DHCP 客户端手工释放 IP 地址 / 释放所有连接          |   `ipconfig /release`   |
|    `/renew`    | DHCP 客户端手工向服务器刷新请求（重新申请 IP 地址）/ 更新所有适配器 |    `ipconfig /renew`    |

## 🍀 信息安全

### 防火墙技术

防火墙是建立在**内外网络边界上的过滤封锁机制**。

补充内容

- 防火墙工作层次越低，工作效率越高，安全性越低
- DMZ 的作用是保存一些公共服务器（Web 服务器、Eamil 服务器）
- 防火墙的安全性从高到底：内网 -------DMZ-------- 外网
- 防火墙不能提供漏洞扫描，查毒等功能

1. 包过滤防火墙
    - 过滤型的防火墙通常是直接转发报文，它对用户完全透明，速度较快。对网络层的数据报文进行检查。处在网络层（TCP）和数据链路层（IP）
    - 优点：防火墙对每条传出网络的包实行低水平控制。每个 IP 字段都被检查，如：源地址、目标地址、协议和端口号
    - 缺点：不能防范黑客攻击、不支持应用层协议、不能处理新的安全威胁。
2. 应用代理网关防火墙
    - 内网用户对外网的访问变成防火墙对外网的访问，然后再由防火墙转发给内网用户。处在应用层、传输层和网络层。
    - 优点：检查应用层、传输层和网络层的协议特征对数据包的检测能力比较强
    - 缺点：难以配置、处理速度非常慢（网络整体性能低）
3. 状态检测技术防火墙
    - 状态检测技术防火墙结合了代理防火墙的安全性和包过滤防火墙的高速度等优点。在不损失安全性的基础上，提高了代理防火墙的性能

### 病毒

计算机病毒可以分为：

- 文件型计算机病毒：可以感染可执行文件（exe 和 com 文件）
- 引导型计算机病毒：影响软盘或硬盘的引导扇区
- 宏病毒：感染的对象是使用某些程序创建的文本文档（docx）、数据库、电子表格等文件，
- 目录型计算机病毒：可以修改硬盘上储存的所有文件的地址

计算机病毒的特征包括：传播性、破坏性、隐蔽性、感染性、潜伏性、触发性等。

worm 表示蠕虫病毒、Trojan 表示特洛伊木马（秘密潜伏且能够通过远程网络进行控制的恶意程序）、Backdoor 表示后门病毒、Macro 表示宏病毒

- 木马软件：冰河、X 卧底
- 蠕虫病毒：欢乐时光、熊猫烧香、红色代码、爱虫病毒、震网

补充病毒与木马的区别

【病毒】：

- 破坏者 —— 人为的，可自我复制的
- 具有：潜伏性、传染性、隐蔽性、破坏性、多样性、条件触发性

【木马】：

- 盗窃者
- 不产生图标、伪装成 “系统服务” 的方式、自动运行、具备自动恢复、能自动开启端口，建立网络连接

### 网络攻击

1. 主动攻击：拒绝服务攻击（Dos）、分布式拒绝服务（DDos）、认证处理、信息篡改、资源使用、欺骗、伪装、重放等
2. 被动攻击：嗅探、信息收集等

- **拒绝服务攻击 (Dos 攻击) : 目的是使计算机或网络无法提供正常的服务（拒绝服务攻击是不断向计算机发起请求来实现的）。**
- **重放攻击：攻击者发送一个目的主机已经接受过的报文来达到攻击目的。攻击者利用网络监听或者其他方式盗取认证凭据，之后再重新发送给认证服务器。主要用于身份认证过程，目的是破坏认证的正确性。**
- 口令入侵攻击：使用某些合法用户的账号和口令登录到目的主机，然后再实施攻击活动。
- 特洛伊木马：被伪装成程序或游戏，当用户下载了带有木马的软件或附件时，这个程序就会向黑客发起连接请求，建立连接后黑客就实施攻击活动。
- 端口欺骗攻击：采用端口扫描找到系统漏洞从而实施攻击。
- 网络监听：攻击者可以接收某一网段在同一条物理通道上传输的所有信息使用网络监听可以轻松截取包括账号和口令在内的信息资料。
- IP 欺骗攻击：产生的 IP 数据包为伪造的源 IP 地址，以便冒充其他系统或发件人的身份。（ARP）
- sql 注入攻击：是黑客对数据库进行攻击的常用手段之一。没有对用户输入数据的合法性进行判断，使应用程序存在安全隐患。攻击者可以提交一段数据库查询代码，根据程序返回的结果，获得某些他想得知的数据首先获取数据库的权限，就可获取用户账号和口令信息，以及对某些数据修改等。
- 入侵检测（用户的非授权访问）技术：专家系统、模型检测、简单匹配。

### 网络安全

- SSL 是传输层安全协议**安全加密**，用于实现 web 的安全通信，端口号 443。
- TLS 是 IETF 制定的协议，是 SSL 的后续版本
- **安全连接**的协议是 SSH，也是传输层基础上的安全协议，SSH 终端设备与远程站点之间建立安全连接
- HTTPS 是使用 SSL 加密算法的 HTTP
- MIME 多用途互联网**电子邮件附件扩展类型**。扩展了电子邮件的标准，使其能够支持更多的文本
- PGP 是一个基于 RSA 公钥加密体系的**邮件加密软件**
- IPSes 为 IP 数据报文进行加密
- RFB 远程登录图形化界面，IGMP 因特网组管理器
- 内部网关协议：RIP、OSPF 外部网关协议：BGP

### 安全需求

- 物理线路安全：机房安全
- 网络安全：入侵检测
- 系统安全：漏洞补丁
- 应用安全：数据库安全


