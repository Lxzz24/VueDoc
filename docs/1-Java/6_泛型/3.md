---
title: ç¼–å†™æ³›å‹
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::

ç¼–å†™æ³›å‹ç±»æ¯”æ™®é€šç±»è¦å¤æ‚ã€‚é€šå¸¸æ¥è¯´ï¼Œæ³›å‹ç±»ä¸€èˆ¬ç”¨åœ¨é›†åˆç±»ä¸­ï¼Œä¾‹å¦‚ `ArrayList<T>` ï¼Œæˆ‘ä»¬å¾ˆå°‘éœ€è¦ç¼–å†™æ³›å‹ç±»ã€‚

å¦‚æœæˆ‘ä»¬ç¡®å®éœ€è¦ç¼–å†™ä¸€ä¸ªæ³›å‹ç±»ï¼Œé‚£ä¹ˆï¼Œåº”è¯¥å¦‚ä½•ç¼–å†™å®ƒï¼Ÿ

å¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ¥ç¼–å†™ä¸€ä¸ªæ³›å‹ç±»ã€‚

1. é¦–å…ˆï¼ŒæŒ‰ç…§æŸç§ç±»å‹ï¼Œä¾‹å¦‚ï¼š `String` ï¼Œæ¥ç¼–å†™ç±»ï¼š

```java
public class Pair {
    private String first;
    private String last;
    public Pair(String first, String last) {
        this.first = first;
        this.last = last;
    }
    public String getFirst() {
        return first;
    }
    public String getLast() {
        return last;
    }
}
```

2. ç„¶åï¼Œæ ‡è®°æ‰€æœ‰çš„ç‰¹å®šç±»å‹ï¼Œè¿™é‡Œæ˜¯ `String` ï¼š

    ![](assets/20221121143812.png)

3. æœ€åï¼ŒæŠŠç‰¹å®šç±»å‹ `String` æ›¿æ¢ä¸º `T` ï¼Œå¹¶ç”³æ˜ `<T>` ï¼š

```java
public class Pair<T> {
    private T first;
    private T last;
    public Pair(T first, T last) {
        this.first = first;
        this.last = last;
    }
    public T getFirst() {
        return first;
    }
    public T getLast() {
        return last;
    }
}
```

ç†Ÿç»ƒåå³å¯ç›´æ¥ä» `T` å¼€å§‹ç¼–å†™ã€‚



## ğŸ€ é™æ€æ–¹æ³•

ç¼–å†™æ³›å‹ç±»æ—¶ï¼Œè¦ç‰¹åˆ«æ³¨æ„ï¼Œæ³›å‹ç±»å‹ `<T>` ä¸èƒ½ç”¨äºé™æ€æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š


```java
public class Pair<T> {
    private T first;
    private T last;
    public Pair(T first, T last) {
        this.first = first;
        this.last = last;
    }
    public T getFirst() { ...}
    public T getLast() { ...}

    // å¯¹é™æ€æ–¹æ³•ä½¿ç”¨ <T>:
    public static Pair<T> create(T first, T last) {
        return new Pair<T>(first, last);
    }
}
```

ä¸Šè¿°ä»£ç ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œæˆ‘ä»¬æ— æ³•åœ¨é™æ€æ–¹æ³• `create()` çš„æ–¹æ³•å‚æ•°å’Œè¿”å›ç±»å‹ä¸Šä½¿ç”¨æ³›å‹ç±»å‹ `T` ã€‚

æœ‰äº›åŒå­¦åœ¨ç½‘ä¸Šæœç´¢å‘ç°ï¼Œ~~å¯ä»¥åœ¨ `static` ä¿®é¥°ç¬¦åé¢åŠ ä¸€ä¸ª `<T>`~~ï¼Œç¼–è¯‘å°±èƒ½é€šè¿‡ï¼š

```java
public class Pair<T> {
    private T first;
    private T last;
    public Pair(T first, T last) {
        this.first = first;
        this.last = last;
    }
    public T getFirst() { ...}
    public T getLast() { ...}

    // å¯ä»¥ç¼–è¯‘é€šè¿‡:
    public static <T> Pair<T> create(T first, T last) {
        return new Pair<T>(first, last);
    }
}
```

ä½†å®é™…ä¸Šï¼Œè¿™ä¸ª `<T>` å’Œ `Pair<T>` ç±»å‹çš„ `<T>` å·²ç»æ²¡æœ‰ä»»ä½•å…³ç³»äº†ã€‚

> å¯¹äºé™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬æ”¹å†™ä¸º â€œæ³›å‹â€ æ–¹æ³•ï¼Œåªéœ€è¦ä½¿ç”¨å¦ä¸€ä¸ªç±»å‹å³å¯ã€‚

å¯¹äºä¸Šé¢çš„ `create()` é™æ€æ–¹æ³•ï¼Œæˆ‘ä»¬åº”è¯¥æŠŠå®ƒæ”¹ä¸ºå¦ä¸€ç§æ³›å‹ç±»å‹ï¼Œä¾‹å¦‚ï¼Œ `<K>` ï¼š

```java
public class Pair<T> {
    private T first;
    private T last;
    public Pair(T first, T last) {
        this.first = first;
        this.last = last;
    }
    public T getFirst() { ...}
    public T getLast() { ...}

    // é™æ€æ³›å‹æ–¹æ³•åº”è¯¥ä½¿ç”¨å…¶ä»–ç±»å‹åŒºåˆ†:
    public static <K> Pair<K> create(K first, K last) {
        return new Pair<K>(first, last);
    }
}
```

è¿™æ ·æ‰èƒ½æ¸…æ¥šåœ°å°†é™æ€æ–¹æ³•çš„æ³›å‹ç±»å‹å’Œå®ä¾‹ç±»å‹çš„æ³›å‹ç±»å‹åŒºåˆ†å¼€ã€‚



## ğŸ€ å¤šä¸ªæ³›å‹ç±»å‹

æ³›å‹è¿˜å¯ä»¥å®šä¹‰å¤šç§ç±»å‹ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ› `Pair` ä¸æ€»æ˜¯å­˜å‚¨ä¸¤ä¸ªç±»å‹ä¸€æ ·çš„å¯¹è±¡ï¼Œå°±å¯ä»¥ä½¿ç”¨ç±»å‹ `<T, K>` ï¼š

```java
public class Pair<T, K> {
    private T first;
    private K last;
    public Pair(T first, K last) {
        this.first = first;
        this.last = last;
    }
    public T getFirst() { ...}
    public K getLast() { ...}
}
```

ä½¿ç”¨çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å‡ºä¸¤ç§ç±»å‹ï¼š

```java
Pair<String, Integer> p = new Pair<>("test", 123);
```

Java æ ‡å‡†åº“çš„ `Map<K,V>` å°±æ˜¯ä½¿ç”¨ä¸¤ç§æ³›å‹ç±»å‹çš„ä¾‹å­ã€‚å®ƒå¯¹ `Key` ä½¿ç”¨ä¸€ç§ç±»å‹ï¼Œå¯¹ `Value` ä½¿ç”¨å¦ä¸€ç§ç±»å‹ã€‚


## ğŸ€ å°ç»“

- ç¼–å†™æ³›å‹æ—¶ï¼Œéœ€è¦å®šä¹‰æ³›å‹ç±»å‹ `<T>` ï¼›
- é™æ€æ–¹æ³•ä¸èƒ½å¼•ç”¨æ³›å‹ç±»å‹ `<T>` ï¼Œå¿…é¡»å®šä¹‰å…¶ä»–ç±»å‹ï¼ˆä¾‹å¦‚ `<K>` ï¼‰æ¥å®ç°é™æ€æ³›å‹æ–¹æ³•ï¼›
- æ³›å‹å¯ä»¥åŒæ—¶å®šä¹‰å¤šç§ç±»å‹ï¼Œä¾‹å¦‚ `Map<K,V>` ã€‚

