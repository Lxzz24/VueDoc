---
title: æ¡¥æ¥
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---


> å°†æŠ½è±¡éƒ¨åˆ†ä¸å®ƒçš„å®ç°éƒ¨åˆ†åˆ†ç¦»ï¼Œä½¿å®ƒä»¬éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚

æ¡¥æ¥æ¨¡å¼çš„å®šä¹‰éå¸¸ç„ä¹ï¼Œç›´æ¥ç†è§£ä¸å¤ªå®¹æ˜“ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯ä¸¾ä¾‹å­ã€‚

å‡è®¾æŸä¸ªæ±½è½¦å‚å•†ç”Ÿäº§ä¸‰ç§å“ç‰Œçš„æ±½è½¦ï¼šBigã€Tiny å’Œ Bossï¼Œæ¯ç§å“ç‰Œåˆå¯ä»¥é€‰æ‹©ç‡ƒæ²¹ã€çº¯ç”µå’Œæ··åˆåŠ¨åŠ›ã€‚å¦‚æœç”¨ä¼ ç»Ÿçš„ç»§æ‰¿æ¥è¡¨ç¤ºå„ä¸ªæœ€ç»ˆè½¦å‹ï¼Œä¸€å…±æœ‰ 3 ä¸ªæŠ½è±¡ç±»åŠ  9 ä¸ªæœ€ç»ˆå­ç±»ï¼š

![image-20231220095850709](./assets/image-20231220095850709.png)

å¦‚æœè¦æ–°å¢ä¸€ä¸ªå“ç‰Œï¼Œæˆ–è€…åŠ ä¸€ä¸ªæ–°çš„å¼•æ“ï¼ˆæ¯”å¦‚æ ¸åŠ¨åŠ›ï¼‰ï¼Œé‚£ä¹ˆå­ç±»çš„æ•°é‡å¢é•¿æ›´å¿«ã€‚

æ‰€ä»¥ï¼Œæ¡¥æ¥æ¨¡å¼å°±æ˜¯ä¸ºäº†é¿å…ç›´æ¥ç»§æ‰¿å¸¦æ¥çš„å­ç±»çˆ†ç‚¸ã€‚

æˆ‘ä»¬æ¥çœ‹çœ‹æ¡¥æ¥æ¨¡å¼å¦‚ä½•è§£å†³ä¸Šè¿°é—®é¢˜ã€‚

åœ¨æ¡¥æ¥æ¨¡å¼ä¸­ï¼Œé¦–å…ˆæŠŠ `Car` æŒ‰å“ç‰Œè¿›è¡Œå­ç±»åŒ–ï¼Œä½†æ˜¯ï¼Œæ¯ä¸ªå“ç‰Œé€‰æ‹©ä»€ä¹ˆå‘åŠ¨æœºï¼Œä¸å†ä½¿ç”¨å­ç±»æ‰©å……ï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªæŠ½è±¡çš„ â€œä¿®æ­£â€ ç±»ï¼Œä»¥ç»„åˆçš„å½¢å¼å¼•å…¥ã€‚æˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„å®ç°ã€‚

é¦–å…ˆå®šä¹‰æŠ½è±¡ç±» `Car`ï¼Œå®ƒå¼•ç”¨ä¸€ä¸ª `Engine`ï¼š

```java
public abstract class Car {
    // å¼•ç”¨ Engine:
    protected Engine engine;

    public Car(Engine engine) {
        this.engine = engine;
    }

    public abstract void drive();
}
```

`Engine` çš„å®šä¹‰å¦‚ä¸‹ï¼š

```java
public interface Engine {
    void start();
}
```

ç´§æ¥ç€ï¼Œåœ¨ä¸€ä¸ª â€œä¿®æ­£â€ çš„æŠ½è±¡ç±» `RefinedCar` ä¸­å®šä¹‰ä¸€äº›é¢å¤–æ“ä½œï¼š

```java
public abstract class RefinedCar extends Car {
    public RefinedCar(Engine engine) {
        super(engine);
    }

    public void drive() {
        this.engine.start();
        System.out.println("Drive" + getBrand() + "car...");
    }

    public abstract String getBrand();
}
```

è¿™æ ·ä¸€æ¥ï¼Œæœ€ç»ˆçš„ä¸åŒå“ç‰Œç»§æ‰¿è‡ª `RefinedCar`ï¼Œä¾‹å¦‚ `BossCar`ï¼š

```java
public class BossCar extends RefinedCar {
    public BossCar(Engine engine) {
        super(engine);
    }

    public String getBrand() {
        return "Boss";
    }
}
```

è€Œé’ˆå¯¹æ¯ä¸€ç§å¼•æ“ï¼Œç»§æ‰¿è‡ª `Engine`ï¼Œä¾‹å¦‚ `HybridEngine`ï¼š

```java
public class HybridEngine implements Engine {
    public void start() {
        System.out.println("Start Hybrid Engine...");
    }
}
```

å®¢æˆ·ç«¯é€šè¿‡è‡ªå·±é€‰æ‹©ä¸€ä¸ªå“ç‰Œï¼Œå†é…åˆä¸€ç§å¼•æ“ï¼Œå¾—åˆ°æœ€ç»ˆçš„ Car ï¼š

```java
RefinedCar car = new BossCar(new HybridEngine());
car.drive();
```

ä½¿ç”¨æ¡¥æ¥æ¨¡å¼çš„å¥½å¤„åœ¨äºï¼Œå¦‚æœè¦å¢åŠ ä¸€ç§å¼•æ“ï¼Œåªéœ€è¦é’ˆå¯¹ `Engine` æ´¾ç”Ÿä¸€ä¸ªæ–°çš„å­ç±»ï¼Œå¦‚æœè¦å¢åŠ ä¸€ä¸ªå“ç‰Œï¼Œåªéœ€è¦é’ˆå¯¹ `RefinedCar` æ´¾ç”Ÿä¸€ä¸ªå­ç±»ï¼Œä»»ä½• `RefinedCar` çš„å­ç±»éƒ½å¯ä»¥å’Œä»»ä½•ä¸€ç§ `Engine` è‡ªç”±ç»„åˆï¼Œå³ä¸€è¾†æ±½è½¦çš„ä¸¤ä¸ªç»´åº¦ï¼šå“ç‰Œå’Œå¼•æ“éƒ½å¯ä»¥ç‹¬ç«‹åœ°å˜åŒ–ã€‚

![image-20231220100001299](./assets/image-20231220100001299.png)


æ¡¥æ¥æ¨¡å¼å®ç°æ¯”è¾ƒå¤æ‚ï¼Œå®é™…åº”ç”¨ä¹Ÿéå¸¸å°‘ï¼Œä½†å®ƒæä¾›çš„è®¾è®¡æ€æƒ³å€¼å¾—å€Ÿé‰´ï¼Œå³ä¸è¦è¿‡åº¦ä½¿ç”¨ç»§æ‰¿ï¼Œè€Œæ˜¯ä¼˜å…ˆæ‹†åˆ†æŸäº›éƒ¨ä»¶ï¼Œä½¿ç”¨ç»„åˆçš„æ–¹å¼æ¥æ‰©å±•åŠŸèƒ½ã€‚

## ğŸ€ ç»ƒä¹ 

ä½¿ç”¨æ¡¥æ¥æ¨¡å¼æ‰©å±•ä¸€ç§æ–°çš„å“ç‰Œå’Œæ–°çš„æ ¸åŠ¨åŠ›å¼•æ“ã€‚

## ğŸ€ å°ç»“

æ¡¥æ¥æ¨¡å¼é€šè¿‡åˆ†ç¦»ä¸€ä¸ªæŠ½è±¡æ¥å£å’Œå®ƒçš„å®ç°éƒ¨åˆ†ï¼Œä½¿å¾—è®¾è®¡å¯ä»¥æŒ‰ä¸¤ä¸ªç»´åº¦ç‹¬ç«‹æ‰©å±•ã€‚


