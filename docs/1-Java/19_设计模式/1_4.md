---
title: åŸå‹
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---


> ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œå¹¶ä¸”é€šè¿‡æ‹·è´è¿™äº›åŸå‹åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚

åŸå‹æ¨¡å¼ï¼Œå³ Prototypeï¼Œæ˜¯æŒ‡åˆ›å»ºæ–°å¯¹è±¡çš„æ—¶å€™ï¼Œæ ¹æ®ç°æœ‰çš„ä¸€ä¸ªåŸå‹æ¥åˆ›å»ºã€‚

æˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼šå¦‚æœæˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª `String[]` æ•°ç»„ï¼Œæƒ³å†åˆ›å»ºä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„ `String[]` æ•°ç»„ï¼Œæ€ä¹ˆå†™ï¼Ÿ

å®é™…ä¸Šåˆ›å»ºè¿‡ç¨‹å¾ˆç®€å•ï¼Œå°±æ˜¯æŠŠç°æœ‰æ•°ç»„çš„å…ƒç´ å¤åˆ¶åˆ°æ–°æ•°ç»„ã€‚å¦‚æœæˆ‘ä»¬æŠŠè¿™ä¸ªåˆ›å»ºè¿‡ç¨‹å°è£…ä¸€ä¸‹ï¼Œå°±æˆäº†åŸå‹æ¨¡å¼ã€‚ç”¨ä»£ç å®ç°å¦‚ä¸‹ï¼š

```java
// åŸå‹:
String[] original = { "Apple", "Pear", "Banana"};
// æ–°å¯¹è±¡:
String[] copy = Arrays.copyOf(original, original.length);
```

å¯¹äºæ™®é€šç±»ï¼Œæˆ‘ä»¬å¦‚ä½•å®ç°åŸå‹æ‹·è´ï¼ŸJava çš„ `Object` æä¾›äº†ä¸€ä¸ª `clone()` æ–¹æ³•ï¼Œå®ƒçš„æ„å›¾å°±æ˜¯å¤åˆ¶ä¸€ä¸ªæ–°çš„å¯¹è±¡å‡ºæ¥ï¼Œæˆ‘ä»¬éœ€è¦å®ç°ä¸€ä¸ª `Cloneable` æ¥å£æ¥æ ‡è¯†ä¸€ä¸ªå¯¹è±¡æ˜¯ â€œå¯å¤åˆ¶â€ çš„ï¼š

```java
public class Student implements Cloneable {
    private int id;
    private String name;
    private int score;

    // å¤åˆ¶æ–°å¯¹è±¡å¹¶è¿”å›:
    public Object clone() {
        Student std = new Student();
        std.id = this.id;
        std.name = this.name;
        std.score = this.score;
        return std;
    }
}
```

ä½¿ç”¨çš„æ—¶å€™ï¼Œå› ä¸º `clone()` çš„æ–¹æ³•ç­¾åæ˜¯å®šä¹‰åœ¨ `Object` ä¸­ï¼Œè¿”å›ç±»å‹ä¹Ÿæ˜¯ `Object`ï¼Œæ‰€ä»¥è¦å¼ºåˆ¶è½¬å‹ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼š

```java
Student std1 = new Student();
std1.setId(123);
std1.setName("Bob");
std1.setScore(88);
// å¤åˆ¶æ–°å¯¹è±¡:
Student std2 = (Student) std1.clone();
System.out.println(std1);
System.out.println(std2);
System.out.println(std1 == std2); // false
```

å®é™…ä¸Šï¼Œä½¿ç”¨åŸå‹æ¨¡å¼æ›´å¥½çš„æ–¹å¼æ˜¯å®šä¹‰ä¸€ä¸ª `copy()` æ–¹æ³•ï¼Œè¿”å›æ˜ç¡®çš„ç±»å‹ï¼š

```java
public class Student {
    private int id;
    private String name;
    private int score;

    public Student copy() {
        Student std = new Student();
        std.id = this.id;
        std.name = this.name;
        std.score = this.score;
        return std;
    }
}
```

åŸå‹æ¨¡å¼åº”ç”¨ä¸æ˜¯å¾ˆå¹¿æ³›ï¼Œå› ä¸ºå¾ˆå¤šå®ä¾‹ä¼šæŒæœ‰ç±»ä¼¼æ–‡ä»¶ã€Socket è¿™æ ·çš„èµ„æºï¼Œè€Œè¿™äº›èµ„æºæ˜¯æ— æ³•å¤åˆ¶ç»™å¦ä¸€ä¸ªå¯¹è±¡å…±äº«çš„ï¼Œåªæœ‰å­˜å‚¨ç®€å•ç±»å‹çš„ â€œå€¼â€ å¯¹è±¡å¯ä»¥å¤åˆ¶ã€‚

## ğŸ€ ç»ƒä¹ 

ç»™ `Student` ç±»å¢åŠ  `clone()` æ–¹æ³•ã€‚


## ğŸ€ å°ç»“

åŸå‹æ¨¡å¼æ˜¯æ ¹æ®ä¸€ä¸ªç°æœ‰å¯¹è±¡å®ä¾‹å¤åˆ¶å‡ºä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œå¤åˆ¶å‡ºçš„ç±»å‹å’Œå±æ€§ä¸åŸå®ä¾‹ç›¸åŒã€‚



