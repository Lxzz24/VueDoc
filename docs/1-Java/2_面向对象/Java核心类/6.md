---
title: æšä¸¾ç±»
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::


åœ¨ Java ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ `static final` æ¥å®šä¹‰å¸¸é‡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›å®šä¹‰å‘¨ä¸€åˆ°å‘¨æ—¥è¿™ 7 ä¸ªå¸¸é‡ï¼Œå¯ä»¥ç”¨ 7 ä¸ªä¸åŒçš„ `int` è¡¨ç¤ºï¼š

```java
public class Weekday {
    public static final int SUN = 0;
    public static final int MON = 1;
    public static final int TUE = 2;
    public static final int WED = 3;
    public static final int THU = 4;
    public static final int FRI = 5;
    public static final int SAT = 6;
}
```

ä½¿ç”¨å¸¸é‡çš„æ—¶å€™ï¼Œå¯ä»¥è¿™ä¹ˆå¼•ç”¨ï¼š


```java
if (day == Weekday.SAT || day == Weekday.SUN) {
    // TODO: work at home
}
```

ä¹Ÿå¯ä»¥æŠŠå¸¸é‡å®šä¹‰ä¸ºå­—ç¬¦ä¸²ç±»å‹ï¼Œä¾‹å¦‚ï¼Œå®šä¹‰ 3 ç§é¢œè‰²çš„å¸¸é‡ï¼š

```java
public class Color {
    public static final String RED = "r";
    public static final String GREEN = "g";
    public static final String BLUE = "b";
}
```

ä½¿ç”¨å¸¸é‡çš„æ—¶å€™ï¼Œå¯ä»¥è¿™ä¹ˆå¼•ç”¨ï¼š

```java
String color = ...
if (Color.RED.equals(color)) {
    // TODO:
}
```


æ— è®ºæ˜¯ `int` å¸¸é‡è¿˜æ˜¯ `String` å¸¸é‡ï¼Œä½¿ç”¨è¿™äº›å¸¸é‡æ¥è¡¨ç¤ºä¸€ç»„æšä¸¾å€¼çš„æ—¶å€™ï¼Œæœ‰ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜å°±æ˜¯ï¼Œç¼–è¯‘å™¨æ— æ³•æ£€æŸ¥æ¯ä¸ªå€¼çš„åˆç†æ€§ã€‚ä¾‹å¦‚ï¼š


```java
if (weekday == 6 || weekday == 7) {
    if (tasks == Weekday.MON) {
        // TODO:
    }
}
```


ä¸Šè¿°ä»£ç ç¼–è¯‘å’Œè¿è¡Œå‡ä¸ä¼šæŠ¥é”™ï¼Œä½†å­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š

- æ³¨æ„åˆ° `Weekday` å®šä¹‰çš„å¸¸é‡èŒƒå›´æ˜¯ `0` ~ `6` ï¼Œå¹¶ä¸åŒ…å« `7` ï¼Œç¼–è¯‘å™¨æ— æ³•æ£€æŸ¥ä¸åœ¨æšä¸¾ä¸­çš„ `int` å€¼ï¼›
- å®šä¹‰çš„å¸¸é‡ä»å¯ä¸å…¶ä»–å˜é‡æ¯”è¾ƒï¼Œä½†å…¶ç”¨é€”å¹¶éæ˜¯æšä¸¾æ˜ŸæœŸå€¼ã€‚


## ğŸ€ enum


ä¸ºäº†è®©ç¼–è¯‘å™¨èƒ½è‡ªåŠ¨æ£€æŸ¥æŸä¸ªå€¼åœ¨æšä¸¾çš„é›†åˆå†…ï¼Œå¹¶ä¸”ï¼Œä¸åŒç”¨é€”çš„æšä¸¾éœ€è¦ä¸åŒçš„ç±»å‹æ¥æ ‡è®°ï¼Œä¸èƒ½æ··ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `enum` æ¥å®šä¹‰æšä¸¾ç±»ï¼š

```java
// enum
public class Main {
    public static void main(String[] args) {
        Weekday day = Weekday.SUN;
        if (day == Weekday.SAT || day == Weekday.SUN) {
            System.out.println("Work at home!");
        } else {
            System.out.println("Work at office!");
        }
    }
}

enum Weekday {
    SUN, MON, TUE, WED, THU, FRI, SAT;
}
```

æ³¨æ„åˆ°å®šä¹‰æšä¸¾ç±»æ˜¯é€šè¿‡å…³é”®å­— `enum` å®ç°çš„ï¼Œæˆ‘ä»¬åªéœ€ä¾æ¬¡åˆ—å‡ºæšä¸¾çš„å¸¸é‡åã€‚

å’Œ `int` å®šä¹‰çš„å¸¸é‡ç›¸æ¯”ï¼Œä½¿ç”¨ `enum` å®šä¹‰æšä¸¾æœ‰å¦‚ä¸‹å¥½å¤„ï¼š

é¦–å…ˆï¼Œ  ***`enum` å¸¸é‡æœ¬èº«å¸¦æœ‰ç±»å‹ä¿¡æ¯*** ï¼Œå³ `Weekday.SUN` ç±»å‹æ˜¯ `Weekday` ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨æ£€æŸ¥å‡ºç±»å‹é”™è¯¯ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„è¯­å¥ä¸å¯èƒ½ç¼–è¯‘é€šè¿‡ï¼š


```java
int day = 1;
if (day == Weekday.SUN) { // Compile error: bad operand types for binary operator '=='
}
```

![](assets/20220620094050.png)


å…¶æ¬¡ï¼Œ ***ä¸å¯èƒ½å¼•ç”¨åˆ°éæšä¸¾çš„å€¼*** ï¼Œå› ä¸ºæ— æ³•é€šè¿‡ç¼–è¯‘ã€‚

æœ€åï¼Œ ***ä¸åŒç±»å‹çš„æšä¸¾ä¸èƒ½äº’ç›¸æ¯”è¾ƒæˆ–è€…èµ‹å€¼ï¼Œå› ä¸ºç±»å‹ä¸ç¬¦ã€‚*** ä¾‹å¦‚ï¼Œä¸èƒ½ç»™ä¸€ä¸ª `Weekday` æšä¸¾ç±»å‹çš„å˜é‡èµ‹å€¼ä¸º `Color` æšä¸¾ç±»å‹çš„å€¼ï¼š

```java
Weekday x = Weekday.SUN; // ok!
Weekday y = Color.RED; // Compile error: incompatible types
```

è¿™å°±ä½¿å¾—ç¼–è¯‘å™¨å¯ä»¥åœ¨ç¼–è¯‘æœŸè‡ªåŠ¨æ£€æŸ¥å‡ºæ‰€æœ‰å¯èƒ½çš„æ½œåœ¨é”™è¯¯ã€‚


## ğŸ€ enum çš„æ¯”è¾ƒ

ä½¿ç”¨ `enum` å®šä¹‰çš„æšä¸¾ç±»æ˜¯ä¸€ç§*å¼•ç”¨ç±»å‹*ã€‚å‰é¢æˆ‘ä»¬è®²åˆ°ï¼Œå¼•ç”¨ç±»å‹æ¯”è¾ƒï¼Œè¦ä½¿ç”¨ `equals()` æ–¹æ³•ï¼Œå¦‚æœä½¿ç”¨ `==` æ¯”è¾ƒï¼Œå®ƒ ***æ¯”è¾ƒçš„æ˜¯ä¸¤ä¸ªå¼•ç”¨ç±»å‹çš„å˜é‡æ˜¯å¦æ˜¯åŒä¸€ä¸ªå¯¹è±¡*** ã€‚å› æ­¤ï¼Œå¼•ç”¨ç±»å‹æ¯”è¾ƒï¼Œè¦å§‹ç»ˆä½¿ç”¨ `equals()` æ–¹æ³•ï¼Œ ***ä½† `enum` ç±»å‹å¯ä»¥ä¾‹å¤–*** ã€‚

è¿™æ˜¯å› ä¸º `enum` ç±»å‹çš„æ¯ä¸ªå¸¸é‡åœ¨ JVM ä¸­åªæœ‰ä¸€ä¸ªå”¯ä¸€å®ä¾‹ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥ç”¨ `==` æ¯”è¾ƒï¼š

```java
if (day == Weekday.FRI) { // ok!
}
if (day.equals(Weekday.SUN)) { // ok, but more code!
}
```

## ğŸ€ enum ç±»å‹

> [!important]
> é€šè¿‡ `enum` å®šä¹‰çš„æšä¸¾ç±»ï¼Œå’Œå…¶ä»–çš„ `class` æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

ç­”æ¡ˆæ˜¯æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚ `enum` å®šä¹‰çš„ç±»å‹å°±æ˜¯ `class` ï¼Œåªä¸è¿‡å®ƒæœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š

- å®šä¹‰çš„ `enum` ç±»å‹æ€»æ˜¯ç»§æ‰¿è‡ª `java.lang.Enum` ï¼Œä¸”æ— æ³•è¢«ç»§æ‰¿ï¼›
- åªèƒ½å®šä¹‰å‡º `enum` çš„å®ä¾‹ï¼Œè€Œæ— æ³•é€šè¿‡ `new` æ“ä½œç¬¦åˆ›å»º `enum` çš„å®ä¾‹ï¼›
- å®šä¹‰çš„æ¯ä¸ªå®ä¾‹éƒ½æ˜¯å¼•ç”¨ç±»å‹çš„å”¯ä¸€å®ä¾‹ï¼›
- å¯ä»¥å°† `enum` ç±»å‹ç”¨äº `switch` è¯­å¥ã€‚

ä¾‹å¦‚ï¼Œæˆ‘ä»¬å®šä¹‰çš„ `Color` æšä¸¾ç±»ï¼š


```java
public enum Color {
    RED, GREEN, BLUE;
}
```


ç¼–è¯‘å™¨ç¼–è¯‘å‡ºçš„ `class` å¤§æ¦‚å°±åƒè¿™æ ·ï¼š

```java
public final class Color extends Enum { // ç»§æ‰¿è‡ª Enumï¼Œæ ‡è®°ä¸º final class
    // æ¯ä¸ªå®ä¾‹å‡ä¸ºå…¨å±€å”¯ä¸€:
    public static final Color RED = new Color();
    public static final Color GREEN = new Color();
    public static final Color BLUE = new Color();
    // private æ„é€ æ–¹æ³•ï¼Œç¡®ä¿å¤–éƒ¨æ— æ³•è°ƒç”¨ new æ“ä½œç¬¦:
    private Color() {}
}
```


æ‰€ä»¥ï¼Œç¼–è¯‘åçš„ `enum` ç±»å’Œæ™®é€š `class` å¹¶æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚ä½†æ˜¯æˆ‘ä»¬è‡ªå·±æ— æ³•æŒ‰å®šä¹‰æ™®é€š `class` é‚£æ ·æ¥å®šä¹‰ `enum` ï¼Œå¿…é¡»ä½¿ç”¨ `enum` å…³é”®å­—ï¼Œè¿™æ˜¯ Java è¯­æ³•è§„å®šçš„ã€‚

å› ä¸º `enum` æ˜¯ä¸€ä¸ª `class` ï¼Œæ¯ä¸ªæšä¸¾çš„å€¼éƒ½æ˜¯ `class` å®ä¾‹ï¼Œå› æ­¤ï¼Œè¿™äº›å®ä¾‹æœ‰ä¸€äº›æ–¹æ³•ï¼š

### name()

è¿”å›å¸¸é‡åï¼Œä¾‹å¦‚ï¼š

```java
String s = Weekday.SUN.name(); // "SUN"
```

### ordinal()

è¿”å›å®šä¹‰çš„å¸¸é‡çš„é¡ºåºï¼Œä» `0` å¼€å§‹è®¡æ•°ï¼Œä¾‹å¦‚ï¼š

```java
int n = Weekday.MON.ordinal(); // 1
```

æ”¹å˜æšä¸¾å¸¸é‡å®šä¹‰çš„é¡ºåºå°±ä¼šå¯¼è‡´ `ordinal()` è¿”å›å€¼å‘ç”Ÿå˜åŒ–ã€‚ä¾‹å¦‚ï¼š

```java
public enum Weekday {
    SUN, MON, TUE, WED, THU, FRI, SAT;
}
```

å’Œ

```java
public enum Weekday {
    MON, TUE, WED, THU, FRI, SAT, SUN;
}
```

çš„ `ordinal` å°±æ˜¯ä¸åŒçš„ã€‚å¦‚æœåœ¨ä»£ç ä¸­ç¼–å†™äº†ç±»ä¼¼ `if(x.ordinal()==1)` è¿™æ ·çš„è¯­å¥ï¼Œå°±è¦ä¿è¯ `enum` çš„æšä¸¾é¡ºåºä¸èƒ½å˜ã€‚æ–°å¢çš„å¸¸é‡å¿…é¡»æ”¾åœ¨æœ€åã€‚

æœ‰äº›ç«¥é‹ä¼šæƒ³ï¼Œ `Weekday` çš„æšä¸¾å¸¸é‡å¦‚æœè¦å’Œ `int` è½¬æ¢ï¼Œä½¿ç”¨ `ordinal()` ä¸æ˜¯éå¸¸æ–¹ä¾¿ï¼Ÿæ¯”å¦‚è¿™æ ·å†™ï¼š

```java
String task = Weekday.MON.ordinal() + "/ppt";
saveToFile(task);
```

ä½†æ˜¯ï¼Œå¦‚æœä¸å°å¿ƒä¿®æ”¹äº†æšä¸¾çš„é¡ºåºï¼Œç¼–è¯‘å™¨æ˜¯æ— æ³•æ£€æŸ¥å‡ºè¿™ç§é€»è¾‘é”™è¯¯çš„ã€‚è¦ç¼–å†™å¥å£®çš„ä»£ç ï¼Œå°±ä¸è¦ä¾é  `ordinal()` çš„è¿”å›å€¼ã€‚å› ä¸º `enum` æœ¬èº«æ˜¯ `class` ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å®šä¹‰ `private` çš„æ„é€ æ–¹æ³•ï¼Œå¹¶ä¸”ï¼Œç»™æ¯ä¸ªæšä¸¾å¸¸é‡æ·»åŠ å­—æ®µï¼š


```java
// enum
public class Main {
    public static void main(String[] args) {
        Weekday day = Weekday.SUN;
        if (day.dayValue == 6 || day.dayValue == 0) {
            System.out.println("Work at home!");
        } else {
            System.out.println("Work at office!");
        }
    }
}

enum Weekday {
    MON(1), TUE(2), WED(3), THU(4), FRI(5), SAT(6), SUN(0);

    public final int dayValue;

    private Weekday(int dayValue) {
        this.dayValue = dayValue;
    }
}
```


è¿™æ ·å°±æ— éœ€æ‹…å¿ƒé¡ºåºçš„å˜åŒ–ï¼Œæ–°å¢æšä¸¾å¸¸é‡æ—¶ï¼Œä¹Ÿéœ€è¦æŒ‡å®šä¸€ä¸ª `int` å€¼ã€‚

> [!caution]
> æšä¸¾ç±»çš„å­—æ®µä¹Ÿå¯ä»¥æ˜¯é `final` ç±»å‹ï¼Œå³å¯ä»¥åœ¨è¿è¡ŒæœŸä¿®æ”¹ï¼Œä½†æ˜¯ä¸æ¨èè¿™æ ·åšï¼


é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹æšä¸¾å¸¸é‡è°ƒç”¨ `toString()` ä¼šè¿”å›å’Œ `name()` ä¸€æ ·çš„å­—ç¬¦ä¸²ã€‚ä½†æ˜¯ï¼Œ `toString()` å¯ä»¥è¢«é‡å†™ï¼Œè€Œ `name()` åˆ™ä¸è¡Œã€‚æˆ‘ä»¬å¯ä»¥ç»™ `Weekday` æ·»åŠ  `toString()` æ–¹æ³•ï¼š

```java
// enum
public class Main {
    public static void main(String[] args) {
        Weekday day = Weekday.SUN;
        if (day.dayValue == 6 || day.dayValue == 0) {
            System.out.println("Today is " + day + ". Work at home!");
        } else {
            System.out.println("Today is " + day + ". Work at office!");
        }
    }
}

enum Weekday {
    MON(1, "æ˜ŸæœŸä¸€"), TUE(2, "æ˜ŸæœŸäºŒ"), WED(3, "æ˜ŸæœŸä¸‰"), THU(4, "æ˜ŸæœŸå››"), FRI(5, "æ˜ŸæœŸäº”"), SAT(6, "æ˜ŸæœŸå…­"), SUN(0, "æ˜ŸæœŸæ—¥");

    public final int dayValue;
    private final String chinese;

    private Weekday(int dayValue, String chinese) {
        this.dayValue = dayValue;
        this.chinese = chinese;
    }

    @Override
    public String toString() {
        return this.chinese;
    }
}
```

é‡å†™ `toString()` çš„ç›®çš„æ˜¯ ***åœ¨è¾“å‡ºæ—¶æ›´æœ‰å¯è¯»æ€§*** ã€‚


> [!warning]
> **åˆ¤æ–­æšä¸¾å¸¸é‡çš„åå­—**ï¼Œè¦å§‹ç»ˆä½¿ç”¨ `name()` æ–¹æ³•ï¼Œç»ä¸èƒ½è°ƒç”¨ `toString()`ï¼


### switch

æœ€åï¼Œæšä¸¾ç±»å¯ä»¥åº”ç”¨åœ¨ `switch` è¯­å¥ä¸­ã€‚å› ä¸ºæšä¸¾ç±»å¤©ç”Ÿå…·æœ‰ç±»å‹ä¿¡æ¯å’Œæœ‰é™ä¸ªæšä¸¾å¸¸é‡ï¼Œæ‰€ä»¥æ¯” `int` ã€ `String` ç±»å‹æ›´é€‚åˆç”¨åœ¨ `switch` è¯­å¥ä¸­ï¼š


```java
// switch
public class Main {
    public static void main(String[] args) {
        Weekday day = Weekday.SUN;
        switch(day) {
        case MON:
        case TUE:
        case WED:
        case THU:
        case FRI:
            System.out.println("Today is " + day + ". Work at office!");
            break;
        case SAT:
        case SUN:
            System.out.println("Today is " + day + ". Work at home!");
            break;
        default:
            throw new RuntimeException("cannot process" + day);
        }
    }
}

enum Weekday {
    MON, TUE, WED, THU, FRI, SAT, SUN;
}
```


åŠ ä¸Š `default` è¯­å¥ï¼Œå¯ä»¥åœ¨æ¼å†™æŸä¸ªæšä¸¾å¸¸é‡æ—¶è‡ªåŠ¨æŠ¥é”™ï¼Œä»è€ŒåŠæ—¶å‘ç°é”™è¯¯ã€‚



## ğŸ€ å°ç»“

- Java ä½¿ç”¨ `enum` å®šä¹‰æšä¸¾ç±»å‹ï¼Œå®ƒè¢«ç¼–è¯‘å™¨ç¼–è¯‘ä¸º `final class Xxx extends Enum {â€¦}`ï¼›
- ***é€šè¿‡ `name()` è·å–å¸¸é‡å®šä¹‰çš„å­—ç¬¦ä¸²*** ï¼Œæ³¨æ„ä¸è¦ä½¿ç”¨ `toString()`ï¼›
- é€šè¿‡ `ordinal()` è¿”å›å¸¸é‡å®šä¹‰çš„é¡ºåºï¼ˆ*æ— å®è´¨æ„ä¹‰*ï¼‰ï¼›
- å¯ä»¥ä¸º `enum` ç¼–å†™æ„é€ æ–¹æ³•ã€å­—æ®µå’Œæ–¹æ³•
- ***`enum` çš„æ„é€ æ–¹æ³•è¦å£°æ˜ä¸º `private` ï¼Œå­—æ®µå¼ºçƒˆå»ºè®®å£°æ˜ä¸º `final` ï¼›***

- `enum` é€‚åˆç”¨åœ¨ `switch` è¯­å¥ä¸­ã€‚


