---
title: å¸¸ç”¨å·¥å…·ç±»
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::



Java çš„æ ¸å¿ƒåº“æä¾›äº†å¤§é‡çš„ç°æˆçš„ç±»ä¾›æˆ‘ä»¬ä½¿ç”¨ã€‚æœ¬èŠ‚æˆ‘ä»¬ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„å·¥å…·ç±»ã€‚

## ğŸ€ Math

é¡¾åæ€ä¹‰ï¼Œ `Math` ç±»å°±æ˜¯ç”¨æ¥è¿›è¡Œæ•°å­¦è®¡ç®—çš„ï¼Œå®ƒæä¾›äº†å¤§é‡çš„é™æ€æ–¹æ³•æ¥ä¾¿äºæˆ‘ä»¬å®ç°æ•°å­¦è®¡ç®—ï¼š

- æ±‚ç»å¯¹å€¼ï¼š

```java
Math.abs(-100); // 100
Math.abs(-7.8); // 7.8
```

- å–æœ€å¤§æˆ–æœ€å°å€¼ï¼š

```java
Math.max(100, 99); // 100
Math.min(1.2, 2.3); // 1.2
```

- è®¡ç®— $x^y$ ï¼š

```java
Math.pow(2, 10); // 2 çš„ 10 æ¬¡æ–¹ = 1024
```

- è®¡ç®— $\sqrt{x}$ ï¼š

```java
Math.sqrt(2); // 1.414...
```

- è®¡ç®— $e^{x}$ æ¬¡æ–¹ï¼š

```java
Math.exp(2); // 7.389...
```

- è®¡ç®— $ln{x}$ ï¼š

```java
Math.log(4); // 1.386...
```

- è®¡ç®— $log_{10}{x}$ ï¼š

```java
Math.log10(100); // 2
```

- ä¸‰è§’å‡½æ•°ï¼š

```java
Math.sin(3.14); // 0.00159...
Math.cos(3.14); // -0.9999...
Math.tan(3.14); // -0.0015...
Math.asin(1.0); // 1.57079...
Math.acos(1.0); // 0.0
```

- Math è¿˜æä¾›äº†å‡ ä¸ªæ•°å­¦å¸¸é‡ï¼š

```java
double pi = Math.PI; // 3.14159...
double e = Math.E; // 2.7182818...
Math.sin(Math.PI / 6); // sin(Ï€/6) = 0.5
```

- ç”Ÿæˆä¸€ä¸ªéšæœºæ•° x ï¼Œx çš„èŒƒå›´æ˜¯ $0 <= x < 1$ ï¼š

```java
Math.random(); // 0.53907... æ¯æ¬¡éƒ½ä¸ä¸€æ ·
```

- å¦‚æœæˆ‘ä»¬è¦ç”Ÿæˆä¸€ä¸ªåŒºé—´åœ¨ `[MIN, MAX)` çš„éšæœºæ•°ï¼Œå¯ä»¥å€ŸåŠ© `Math.random()`å®ç°ï¼Œè®¡ç®—å¦‚ä¸‹ï¼š

```java
// åŒºé—´åœ¨ [MIN, MAX) çš„éšæœºæ•°
public class Main {
    public static void main(String[] args) {
        double x = Math.random(); // x çš„èŒƒå›´æ˜¯ [0,1)
        double min = 10;
        double max = 50;
        double y = x * (max - min) + min; // y çš„èŒƒå›´æ˜¯ [10,50)
        long n = (long) y; // n çš„èŒƒå›´æ˜¯ [10,50) çš„æ•´æ•°
        System.out.println(y);
        System.out.println(n);
    }
}
```

æœ‰äº›ç«¥é‹å¯èƒ½æ³¨æ„åˆ° Java æ ‡å‡†åº“è¿˜æä¾›äº†ä¸€ä¸ª `StrictMath` ï¼Œå®ƒæä¾›äº†å’Œ `Math` å‡ ä¹ä¸€æ¨¡ä¸€æ ·çš„æ–¹æ³•ã€‚è¿™ä¸¤ä¸ªç±»çš„åŒºåˆ«åœ¨äºï¼Œç”±äºæµ®ç‚¹æ•°è®¡ç®—å­˜åœ¨è¯¯å·®ï¼Œä¸åŒçš„å¹³å°ï¼ˆä¾‹å¦‚ x86 å’Œ ARM ï¼‰è®¡ç®—çš„ç»“æœå¯èƒ½ä¸ä¸€è‡´ï¼ˆæŒ‡è¯¯å·®ä¸åŒï¼‰ï¼Œå› æ­¤ï¼Œ `StrictMath` ä¿è¯æ‰€æœ‰å¹³å°è®¡ç®—ç»“æœéƒ½æ˜¯å®Œå…¨ç›¸åŒçš„ï¼Œè€Œ `Math` ä¼šå°½é‡é’ˆå¯¹å¹³å°ä¼˜åŒ–è®¡ç®—é€Ÿåº¦ï¼Œæ‰€ä»¥ï¼Œç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä½¿ç”¨ `Math` å°±è¶³å¤Ÿäº†ã€‚

## ğŸ€ Random

`Random` ç”¨æ¥åˆ›å»ºä¼ªéšæœºæ•°ã€‚æ‰€è°“ä¼ªéšæœºæ•°ï¼Œæ˜¯æŒ‡åªè¦ç»™å®šä¸€ä¸ªåˆå§‹çš„ç§å­ï¼Œäº§ç”Ÿçš„éšæœºæ•°åºåˆ—æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚

è¦ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ï¼Œå¯ä»¥ä½¿ç”¨ `nextInt()` ã€ `nextLong()` ã€ `nextFloat()` ã€ `nextDouble()` ï¼š

```java
Random r = new Random();
r.nextInt(); // 2071575453, æ¯æ¬¡éƒ½ä¸ä¸€æ ·
r.nextInt(10); // 5, ç”Ÿæˆä¸€ä¸ª [0,10) ä¹‹é—´çš„ int
r.nextLong(); // 8811649292570369305, æ¯æ¬¡éƒ½ä¸ä¸€æ ·
r.nextFloat(); // 0.54335... ç”Ÿæˆä¸€ä¸ª [0,1) ä¹‹é—´çš„ float
r.nextDouble(); // 0.3716... ç”Ÿæˆä¸€ä¸ª [0,1) ä¹‹é—´çš„ double
```

æœ‰ç«¥é‹é—®ï¼Œæ¯æ¬¡è¿è¡Œç¨‹åºï¼Œç”Ÿæˆçš„éšæœºæ•°éƒ½æ˜¯ä¸åŒçš„ï¼Œæ²¡çœ‹å‡º**ä¼ªéšæœºæ•°**çš„ç‰¹æ€§æ¥ã€‚

è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åˆ›å»º `Random` å®ä¾‹æ—¶ï¼Œå¦‚æœä¸ç»™å®šç§å­ï¼Œå°±ä½¿ç”¨ç³»ç»Ÿå½“å‰æ—¶é—´æˆ³ä½œä¸ºç§å­ï¼Œå› æ­¤æ¯æ¬¡è¿è¡Œæ—¶ï¼Œç§å­ä¸åŒï¼Œå¾—åˆ°çš„ä¼ªéšæœºæ•°åºåˆ—å°±ä¸åŒã€‚

å¦‚æœæˆ‘ä»¬åœ¨åˆ›å»º `Random` å®ä¾‹æ—¶æŒ‡å®šä¸€ä¸ªç§å­ï¼Œå°±ä¼šå¾—åˆ°å®Œå…¨ç¡®å®šçš„éšæœºæ•°åºåˆ—ï¼š

```java
import java.util.Random;
public class Main {
    public static void main(String[] args) {
        Random r = new Random(12345);
        for (int i = 0; i < 10; i++) {
            System.out.println(r.nextInt(100));
        }
        // 51, 80, 41, 28, 55...
    }
}
```

å‰é¢æˆ‘ä»¬ä½¿ç”¨çš„ `Math.random()` å®é™…ä¸Šå†…éƒ¨è°ƒç”¨äº† `Random` ç±»ï¼Œæ‰€ä»¥å®ƒä¹Ÿæ˜¯ä¼ªéšæœºæ•°ï¼Œåªæ˜¯æˆ‘ä»¬æ— æ³•æŒ‡å®šç§å­ã€‚



## ğŸ€ SecureRandom

æœ‰ä¼ªéšæœºæ•°ï¼Œå°±æœ‰çœŸéšæœºæ•°ã€‚å®é™…ä¸ŠçœŸæ­£çš„çœŸéšæœºæ•°åªèƒ½é€šè¿‡é‡å­åŠ›å­¦åŸç†æ¥è·å–ï¼Œè€Œæˆ‘ä»¬æƒ³è¦çš„æ˜¯ä¸€ä¸ªä¸å¯é¢„æµ‹çš„å®‰å…¨çš„éšæœºæ•°ï¼Œ `SecureRandom` å°±æ˜¯ç”¨æ¥åˆ›å»ºå®‰å…¨çš„éšæœºæ•°çš„ï¼š

```java
SecureRandom sr = new SecureRandom();
System.out.println(sr.nextInt(100));
```

`SecureRandom` æ— æ³•æŒ‡å®šç§å­ï¼Œå®ƒä½¿ç”¨ RNGï¼ˆrandom number generatorï¼‰ç®—æ³•ã€‚JDK çš„ `SecureRandom` å®é™…ä¸Šæœ‰å¤šç§ä¸åŒçš„åº•å±‚å®ç°ï¼Œæœ‰çš„ä½¿ç”¨å®‰å…¨éšæœºç§å­åŠ ä¸Šä¼ªéšæœºæ•°ç®—æ³•æ¥äº§ç”Ÿå®‰å…¨çš„éšæœºæ•°ï¼Œæœ‰çš„ä½¿ç”¨çœŸæ­£çš„éšæœºæ•°ç”Ÿæˆå™¨ã€‚å®é™…ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥ä¼˜å…ˆè·å–é«˜å¼ºåº¦çš„å®‰å…¨éšæœºæ•°ç”Ÿæˆå™¨ï¼Œå¦‚æœæ²¡æœ‰æä¾›ï¼Œå†ä½¿ç”¨æ™®é€šç­‰çº§çš„å®‰å…¨éšæœºæ•°ç”Ÿæˆå™¨ï¼š


```java
import java.util.Arrays;
import java.security.SecureRandom;
import java.security.NoSuchAlgorithmException;
public class Main {
    public static void main(String[] args) {
        SecureRandom sr = null;
        try {
            sr = SecureRandom.getInstanceStrong(); // è·å–é«˜å¼ºåº¦å®‰å…¨éšæœºæ•°ç”Ÿæˆå™¨
        } catch (NoSuchAlgorithmException e) {
            sr = new SecureRandom(); // è·å–æ™®é€šçš„å®‰å…¨éšæœºæ•°ç”Ÿæˆå™¨
        }
        byte[] buffer = new byte[16];
        sr.nextBytes(buffer); // ç”¨å®‰å…¨éšæœºæ•°å¡«å…… buffer
        System.out.println(Arrays.toString(buffer));
    }
}
```

`SecureRandom` çš„å®‰å…¨æ€§æ˜¯é€šè¿‡æ“ä½œç³»ç»Ÿæä¾›çš„å®‰å…¨çš„éšæœºç§å­æ¥ç”Ÿæˆéšæœºæ•°ã€‚è¿™ä¸ªç§å­æ˜¯é€šè¿‡ CPU çš„çƒ­å™ªå£°ã€è¯»å†™ç£ç›˜çš„å­—èŠ‚ã€ç½‘ç»œæµé‡ç­‰å„ç§éšæœºäº‹ä»¶äº§ç”Ÿçš„ â€œç†µâ€ã€‚

åœ¨å¯†ç å­¦ä¸­ï¼Œå®‰å…¨çš„éšæœºæ•°éå¸¸é‡è¦ã€‚å¦‚æœä½¿ç”¨ä¸å®‰å…¨çš„ä¼ªéšæœºæ•°ï¼Œæ‰€æœ‰åŠ å¯†ä½“ç³»éƒ½å°†è¢«æ”»ç ´ã€‚å› æ­¤ï¼Œæ—¶åˆ»ç‰¢è®°å¿…é¡»ä½¿ç”¨ `SecureRandom` æ¥äº§ç”Ÿå®‰å…¨çš„éšæœºæ•°ã€‚


> [!caution]
> éœ€è¦ä½¿ç”¨å®‰å…¨éšæœºæ•°çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨ `SecureRandom` ï¼Œç»ä¸èƒ½ä½¿ç”¨ `Random` ï¼


## ğŸ€ å°ç»“

Java æä¾›çš„å¸¸ç”¨å·¥å…·ç±»æœ‰ï¼š
- Math ï¼šæ•°å­¦è®¡ç®—
- Random ï¼šç”Ÿæˆä¼ªéšæœºæ•°
- SecureRandom ï¼šç”Ÿæˆå®‰å…¨çš„éšæœºæ•°


