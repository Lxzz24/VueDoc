---
title: StringJoiner
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::

è¦é«˜æ•ˆæ‹¼æ¥å­—ç¬¦ä¸²ï¼Œåº”è¯¥ä½¿ç”¨ `StringBuilder` ã€‚

å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬æ‹¼æ¥çš„å­—ç¬¦ä¸²åƒè¿™æ ·ï¼š

```java
// Hello Bob, Alice, Grace!
public class Main {
    public static void main(String[] args) {
        String[] names = {"Bob", "Alice", "Grace"};
        var sb = new StringBuilder();
        sb.append("Hello");
        for (String name : names) {
            sb.append(" " + name).append(",");
        }
        System.out.println(sb.toString());

        // æ³¨æ„å»æ‰æœ€åçš„ ",":
        sb.delete(sb.length() - 1, sb.length());
        sb.append("!");
        System.out.println(sb.toString());
    }
}
```

ç±»ä¼¼ç”¨åˆ†éš”ç¬¦æ‹¼æ¥æ•°ç»„çš„éœ€æ±‚å¾ˆå¸¸è§ï¼Œæ‰€ä»¥ Java æ ‡å‡†åº“è¿˜æä¾›äº†ä¸€ä¸ª `StringJoiner` æ¥å¹²è¿™ä¸ªäº‹ï¼š

```java
import java.util.StringJoiner;
public class Main {
    public static void main(String[] args) {
        String[] names = {"Bob", "Alice", "Grace"};
        var sj = new StringJoiner(", ");
        for (String name : names) {
            sj.add(name);
        }
        System.out.println(sj.toString());
    }
}
```

æ…¢ç€ï¼ç”¨ `StringJoiner` çš„ç»“æœå°‘äº†å‰é¢çš„ `"Hello"` å’Œç»“å°¾çš„ `"!"` ï¼é‡åˆ°è¿™ç§æƒ…å†µï¼Œéœ€è¦ç»™ `StringJoiner` æŒ‡å®šâ€œå¼€å¤´â€å’Œâ€œç»“å°¾â€ï¼š

```java
import java.util.StringJoiner;
public class Main {
    public static void main(String[] args) {
        String[] names = {"Bob", "Alice", "Grace"};
        var sj = new StringJoiner(", ", "Hello ", "!");
        for (String name : names) {
            sj.add(name);
        }
        System.out.println(sj.toString());
    }
}
```

## ğŸ€ String.join()

`String` è¿˜æä¾›äº†ä¸€ä¸ªé™æ€æ–¹æ³• `join()`ï¼Œè¿™ä¸ªæ–¹æ³•åœ¨å†…éƒ¨ä½¿ç”¨äº† `StringJoiner` æ¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼Œåœ¨ä¸éœ€è¦æŒ‡å®š â€œå¼€å¤´â€ å’Œâ€œç»“å°¾â€çš„æ—¶å€™ï¼Œç”¨ `String.join()` æ›´æ–¹ä¾¿ï¼š

```java
String[] names = {"Bob", "Alice", "Grace"};
var sj = String.join(",", names);
```

## ğŸ€ ç»ƒä¹ 

è¯·ä½¿ç”¨ `StringJoiner` æ„é€ ä¸€ä¸ª `SELECT` è¯­å¥ï¼š

```java
import java.util.StringJoiner;

public class Main {
    public static void main(String[] args) {
        String[] fields = { "name", "position", "salary"};
        String table = "employee";
        String select = buildSelectSql(table, fields);
        System.out.println(select);
        System.out.println("SELECT name, position, salary FROM employee".equals(select) ? "æµ‹è¯•æˆåŠŸ" : "æµ‹è¯•å¤±è´¥");
    }
    static String buildSelectSql(String table, String[] fields) {
        // TODO:
        var sj = new StringJoiner(", ", "SELECT " , " FROM " + table);
        for (String field : fields){
            sj.add(field);
        }
        return sj.toString();
    }
}
```

## ğŸ€ å°ç»“

- ç”¨æŒ‡å®šåˆ†éš”ç¬¦æ‹¼æ¥å­—ç¬¦ä¸²æ•°ç»„æ—¶ï¼Œä½¿ç”¨ `StringJoiner` æˆ–è€… `String.join()` æ›´æ–¹ä¾¿ï¼›

- ç”¨ StringJoiner æ‹¼æ¥å­—ç¬¦ä¸²æ—¶ï¼Œè¿˜å¯ä»¥é¢å¤–é™„åŠ ä¸€ä¸ª â€œå¼€å¤´â€ å’Œâ€œç»“å°¾â€ã€‚
