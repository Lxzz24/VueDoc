---
title: æŠ½è±¡ç±»
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::


ç”±äºå¤šæ€çš„å­˜åœ¨ï¼Œæ¯ä¸ªå­ç±»éƒ½å¯ä»¥é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼š

```java
class Person {
    public void run() {...}
}

class Student extends Person {
    @Override
    public void run() {...}
}

class Teacher extends Person {
    @Override
    public void run() {...}
}
```

ä» `Person` ç±»æ´¾ç”Ÿçš„ `Student` å’Œ `Teacher` éƒ½å¯ä»¥é‡å†™ `run()` æ–¹æ³•ã€‚

å¦‚æœçˆ¶ç±» `Person` çš„ `run()` æ–¹æ³•æ²¡æœ‰å®é™…æ„ä¹‰ï¼Œèƒ½å¦å»æ‰æ–¹æ³•çš„æ‰§è¡Œè¯­å¥ï¼Ÿ

```java
class Person {
    public void run(); // Compile Error!
}
```

ç­”æ¡ˆæ˜¯ä¸è¡Œï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºå®šä¹‰æ–¹æ³•çš„æ—¶å€™ï¼Œå¿…é¡»å®ç°æ–¹æ³•çš„è¯­å¥ã€‚

èƒ½ä¸èƒ½å»æ‰çˆ¶ç±»çš„ `run()` æ–¹æ³•ï¼Ÿ

ç­”æ¡ˆè¿˜æ˜¯ä¸è¡Œï¼Œå› ä¸ºå»æ‰çˆ¶ç±»çš„ `run()` æ–¹æ³•ï¼Œå°±å¤±å»äº†å¤šæ€çš„ç‰¹æ€§ã€‚ä¾‹å¦‚ï¼Œ `runTwice()` å°±æ— æ³•ç¼–è¯‘ï¼š

```java
public void runTwice(Person p) {
    p.run(); // Person æ²¡æœ‰ run() æ–¹æ³•ï¼Œä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯
    p.run();
}
```

***å¦‚æœçˆ¶ç±»çš„æ–¹æ³•æœ¬èº«ä¸éœ€è¦å®ç°ä»»ä½•åŠŸèƒ½ï¼Œä»…ä»…æ˜¯ä¸ºäº†å®šä¹‰æ–¹æ³•ç­¾åï¼Œç›®çš„æ˜¯è®©å­ç±»å»é‡å†™å®ƒï¼Œé‚£ä¹ˆï¼Œå¯ä»¥æŠŠçˆ¶ç±»çš„æ–¹æ³•å£°æ˜ä¸ºæŠ½è±¡æ–¹æ³•*** ï¼š

```java
class Person {
    public abstract void run();
}
```

æŠŠä¸€ä¸ªæ–¹æ³•å£°æ˜ä¸º `abstract` ï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œæœ¬èº«æ²¡æœ‰å®ç°ä»»ä½•æ–¹æ³•è¯­å¥ã€‚å› ä¸ºè¿™ä¸ªæŠ½è±¡æ–¹æ³•æœ¬èº«æ˜¯æ— æ³•æ‰§è¡Œçš„ï¼Œæ‰€ä»¥ï¼Œ `Person` ç±»ä¹Ÿæ— æ³•è¢«å®ä¾‹åŒ–ã€‚ç¼–è¯‘å™¨ä¼šå‘Šè¯‰æˆ‘ä»¬ï¼Œæ— æ³•ç¼–è¯‘ `Person` ç±»ï¼Œå› ä¸ºå®ƒåŒ…å«æŠ½è±¡æ–¹æ³•ã€‚

å¿…é¡»æŠŠ `Person` ç±»æœ¬èº«ä¹Ÿå£°æ˜ä¸º `abstract` ï¼Œæ‰èƒ½æ­£ç¡®ç¼–è¯‘å®ƒï¼š

```java
abstract class Person {
    public abstract void run();
}
```

## ğŸ€ å®šä¹‰

å¦‚æœä¸€ä¸ª `class` å®šä¹‰äº†æ–¹æ³•ï¼Œä½†æ²¡æœ‰å…·ä½“æ‰§è¡Œä»£ç ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯æŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•ç”¨ `abstract` ä¿®é¥°ã€‚

å› ä¸ºæ— æ³•æ‰§è¡ŒæŠ½è±¡æ–¹æ³•ï¼Œå› æ­¤è¿™ä¸ªç±»ä¹Ÿå¿…é¡»ç”³æ˜ä¸ºæŠ½è±¡ç±»ï¼ˆ*abstract class*ï¼‰ã€‚

ä½¿ç”¨ `abstract` ä¿®é¥°çš„ç±»å°±æ˜¯æŠ½è±¡ç±»ã€‚æˆ‘ä»¬æ— æ³•å®ä¾‹åŒ–ä¸€ä¸ªæŠ½è±¡ç±»ï¼š

```java
    Person p = new Person(); // ç¼–è¯‘é”™è¯¯
```

#### æ— æ³•å®ä¾‹åŒ–çš„æŠ½è±¡ç±»æœ‰ä»€ä¹ˆç”¨ï¼Ÿ

å› ä¸ºæŠ½è±¡ç±»æœ¬èº«è¢«è®¾è®¡æˆ *åªèƒ½ç”¨äºè¢«ç»§æ‰¿* ï¼Œå› æ­¤ï¼ŒæŠ½è±¡ç±»å¯ä»¥å¼ºè¿«å­ç±»å®ç°å…¶å®šä¹‰çš„æŠ½è±¡æ–¹æ³•ï¼Œå¦åˆ™ç¼–è¯‘ä¼šæŠ¥é”™ã€‚å› æ­¤ï¼ŒæŠ½è±¡æ–¹æ³•å®é™…ä¸Šç›¸å½“äºå®šä¹‰äº† â€œè§„èŒƒâ€ã€‚

ä¾‹å¦‚ï¼Œ `Person` ç±»å®šä¹‰äº†æŠ½è±¡æ–¹æ³• `run()` ï¼Œé‚£ä¹ˆï¼Œåœ¨å®ç°å­ç±» `Student` çš„æ—¶å€™ï¼Œå°±å¿…é¡»é‡å†™ `run()` æ–¹æ³•ï¼š

```java
public class Main {
    public static void main(String[] args) {
        Person p = new Student();
        p.run();
    }
}

abstract class Person {
    public abstract void run();
}

class Student extends Person {
    @Override
    public void run() {
        System.out.println("Student.run");
    }
}
```


## ğŸ€ é¢å‘æŠ½è±¡ç¼–ç¨‹

å½“æˆ‘ä»¬å®šä¹‰äº†æŠ½è±¡ç±» `Person` ï¼Œä»¥åŠå…·ä½“çš„ `Student` ã€ `Teacher` å­ç±»çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŠ½è±¡ç±» `Person` ç±»å‹å»å¼•ç”¨å…·ä½“çš„å­ç±»çš„å®ä¾‹ï¼š

```java
    Person s = new Student();
    Person t = new Teacher();
```

è¿™ç§å¼•ç”¨æŠ½è±¡ç±»çš„å¥½å¤„åœ¨äºï¼Œæˆ‘ä»¬å¯¹å…¶è¿›è¡Œæ–¹æ³•è°ƒç”¨ï¼Œå¹¶ä¸å…³å¿ƒ `Person` ç±»å‹å˜é‡çš„å…·ä½“å­ç±»å‹ï¼š

```java
    s.run();
    t.run();
```

åŒæ ·çš„ä»£ç ï¼Œå¦‚æœå¼•ç”¨çš„æ˜¯ä¸€ä¸ªæ–°çš„å­ç±»ï¼Œæˆ‘ä»¬ä»ç„¶ä¸å…³å¿ƒå…·ä½“ç±»å‹ï¼š

```java
    Person e = new Employee();
    e.run();
```

è¿™ç§å°½é‡å¼•ç”¨é«˜å±‚ç±»å‹ï¼Œé¿å…å¼•ç”¨å®é™…å­ç±»å‹çš„æ–¹å¼ï¼Œç§°ä¹‹ä¸ºé¢å‘æŠ½è±¡ç¼–ç¨‹ã€‚

é¢å‘æŠ½è±¡ç¼–ç¨‹çš„æœ¬è´¨å°±æ˜¯ï¼š

ä¸Šå±‚ä»£ç åªå®šä¹‰è§„èŒƒï¼ˆä¾‹å¦‚ï¼š `abstract class Person` ï¼‰ï¼›

ä¸éœ€è¦å­ç±»å°±å¯ä»¥å®ç°ä¸šåŠ¡é€»è¾‘ï¼ˆæ­£å¸¸ç¼–è¯‘ï¼‰ï¼›

å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ç”±ä¸åŒçš„å­ç±»å®ç°ï¼Œè°ƒç”¨è€…å¹¶ä¸å…³å¿ƒã€‚

## ğŸ€ ç»ƒä¹ 


ç”¨æŠ½è±¡ç±»ç»™ä¸€ä¸ªæœ‰å·¥èµ„æ”¶å…¥å’Œç¨¿è´¹æ”¶å…¥çš„å°ä¼™ä¼´ç®—ç¨ã€‚

```java
//TODO
abstract class Income {
    protected double income;

    public Income(double income) {
        this.income = income;
    }

    public abstract double getTax();
}
```


## ğŸ€ å°ç»“


- é€šè¿‡ `abstract` å®šä¹‰çš„æ–¹æ³•æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œå®ƒåªæœ‰å®šä¹‰ï¼Œæ²¡æœ‰å®ç°ã€‚æŠ½è±¡æ–¹æ³•å®šä¹‰äº†å­ç±»å¿…é¡»å®ç°çš„æ¥å£è§„èŒƒï¼›
- å®šä¹‰äº†æŠ½è±¡æ–¹æ³•çš„ `class` å¿…é¡»è¢«å®šä¹‰ä¸ºæŠ½è±¡ç±»ï¼Œä»æŠ½è±¡ç±»ç»§æ‰¿çš„å­ç±»å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³•ï¼›
- å¦‚æœä¸å®ç°æŠ½è±¡æ–¹æ³•ï¼Œåˆ™è¯¥å­ç±»ä»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼›
- é¢å‘æŠ½è±¡ç¼–ç¨‹ä½¿å¾—è°ƒç”¨è€…åªå…³å¿ƒæŠ½è±¡æ–¹æ³•çš„å®šä¹‰ï¼Œä¸å…³å¿ƒå­ç±»çš„å…·ä½“å®ç°ã€‚



