---
title: BouncyCastle
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::

æˆ‘ä»¬çŸ¥é“ï¼ŒJava æ ‡å‡†åº“æä¾›äº†ä¸€ç³»åˆ—å¸¸ç”¨çš„å“ˆå¸Œç®—æ³•ã€‚

ä½†å¦‚æœæˆ‘ä»¬è¦ç”¨çš„æŸç§ç®—æ³•ï¼ŒJava æ ‡å‡†åº“æ²¡æœ‰æä¾›æ€ä¹ˆåŠï¼Ÿ

æ–¹æ³•ä¸€ï¼šè‡ªå·±å†™ä¸€ä¸ªï¼Œéš¾åº¦å¾ˆå¤§ï¼›

æ–¹æ³•äºŒï¼šæ‰¾ä¸€ä¸ªç°æˆçš„ç¬¬ä¸‰æ–¹åº“ï¼Œç›´æ¥ä½¿ç”¨ã€‚

[BouncyCastle](https://www.bouncycastle.org/) å°±æ˜¯ä¸€ä¸ªæä¾›äº†å¾ˆå¤šå“ˆå¸Œç®—æ³•å’ŒåŠ å¯†ç®—æ³•çš„ç¬¬ä¸‰æ–¹åº“ã€‚å®ƒæä¾›äº† Java æ ‡å‡†åº“æ²¡æœ‰çš„ä¸€äº›ç®—æ³•ï¼Œä¾‹å¦‚ï¼ŒRipeMD160 å“ˆå¸Œç®—æ³•ã€‚

æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ BouncyCastle è¿™ä¸ªç¬¬ä¸‰æ–¹æä¾›çš„ç®—æ³•ã€‚

é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»æŠŠ BouncyCastle æä¾›çš„ jar åŒ…æ”¾åˆ° classpath ä¸­ã€‚è¿™ä¸ª jar åŒ…å°±æ˜¯ `bcprov-jdk18on-xxx.jar`ï¼Œå¯ä»¥ä» [å®˜æ–¹ç½‘ç«™](https://www.bouncycastle.org/latest_releases.html) ä¸‹è½½ã€‚

Java æ ‡å‡†åº“çš„ `java.security` åŒ…æä¾›äº†ä¸€ç§æ ‡å‡†æœºåˆ¶ï¼Œå…è®¸ç¬¬ä¸‰æ–¹æä¾›å•†æ— ç¼æ¥å…¥ã€‚æˆ‘ä»¬è¦ä½¿ç”¨ BouncyCastle æä¾›çš„ RipeMD160 ç®—æ³•ï¼Œéœ€è¦å…ˆæŠŠ BouncyCastle æ³¨å†Œä¸€ä¸‹ï¼š

```java
public class Main {
    public static void main(String[] args) throws Exception {
        // æ³¨å†Œ BouncyCastle:
        Security.addProvider(new BouncyCastleProvider());
        // æŒ‰åç§°æ­£å¸¸è°ƒç”¨:
        MessageDigest md = MessageDigest.getInstance("RipeMD160");
        md.update("HelloWorld".getBytes("UTF-8"));
        byte[] result = md.digest();
        System.out.println(new BigInteger(1, result).toString(16));
    }
}
```

å…¶ä¸­ï¼Œæ³¨å†Œ BouncyCastle æ˜¯é€šè¿‡ä¸‹é¢çš„è¯­å¥å®ç°çš„ï¼š

```java
Security.addProvider(new BouncyCastleProvider());
```

æ³¨å†Œåªéœ€è¦åœ¨å¯åŠ¨æ—¶è¿›è¡Œä¸€æ¬¡ï¼Œåç»­å°±å¯ä»¥ä½¿ç”¨ BouncyCastle æä¾›çš„æ‰€æœ‰å“ˆå¸Œç®—æ³•å’ŒåŠ å¯†ç®—æ³•ã€‚

## ğŸ€ ç»ƒä¹ 

```java
package com.itranswarp.learnjava;

import java.math.BigInteger;
import java.security.MessageDigest;
import java.security.Security;

import org.bouncycastle.jce.provider.BouncyCastleProvider;

public class Main {
	public static void main(String[] args) throws Exception {
		// æ³¨å†Œ BouncyCastle:
		Security.addProvider(new BouncyCastleProvider());
		// æŒ‰åç§°æ­£å¸¸è°ƒç”¨:
		MessageDigest md = MessageDigest.getInstance("RipeMD160");
		md.update("HelloWorld".getBytes("UTF-8"));
		byte[] result = md.digest();
		System.out.println(new BigInteger(1, result).toString(16));
	}
}
```

## ğŸ€ å°ç»“

- BouncyCastle æ˜¯ä¸€ä¸ªå¼€æºçš„ç¬¬ä¸‰æ–¹ç®—æ³•æä¾›å•†ï¼›

- BouncyCastle æä¾›äº†å¾ˆå¤š Java æ ‡å‡†åº“æ²¡æœ‰æä¾›çš„å“ˆå¸Œç®—æ³•å’ŒåŠ å¯†ç®—æ³•ï¼›

- ä½¿ç”¨ç¬¬ä¸‰æ–¹ç®—æ³•å‰éœ€è¦é€šè¿‡ `Security.addProvider()` æ³¨å†Œã€‚
