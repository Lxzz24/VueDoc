---
title: ä½¿ç”¨ Deque
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::

æˆ‘ä»¬çŸ¥é“ï¼ŒQueue æ˜¯é˜Ÿåˆ—ï¼Œåªèƒ½ä¸€å¤´è¿›ï¼Œå¦ä¸€å¤´å‡ºã€‚

å¦‚æœæŠŠæ¡ä»¶æ”¾æ¾ä¸€ä¸‹ï¼Œå…è®¸ä¸¤å¤´éƒ½è¿›ï¼Œä¸¤å¤´éƒ½å‡ºï¼Œè¿™ç§é˜Ÿåˆ—å« **åŒç«¯é˜Ÿåˆ—**ï¼ˆDouble Ended Queueï¼‰ï¼Œå­¦å Dequeã€‚

Java é›†åˆæä¾›äº†æ¥å£ Deque æ¥å®ç°ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯ï¼š

- æ—¢å¯ä»¥æ·»åŠ åˆ°é˜Ÿå°¾ï¼Œä¹Ÿå¯ä»¥æ·»åŠ åˆ°é˜Ÿé¦–ï¼›
- æ—¢å¯ä»¥ä»é˜Ÿé¦–è·å–ï¼Œåˆå¯ä»¥ä»é˜Ÿå°¾è·å–ã€‚

æˆ‘ä»¬æ¥æ¯”è¾ƒä¸€ä¸‹ Queue å’Œ Deque å‡ºé˜Ÿå’Œå…¥é˜Ÿçš„æ–¹æ³•ï¼š

|                    |          Queue           |               Deque               |
| ------------------ | :----------------------: | :-------------------------------: |
| æ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾     | `add(E e) / offer(E e)`  |  `addLast(E e) / offerLast(E e)`  |
| å–é˜Ÿé¦–å…ƒç´ å¹¶åˆ é™¤   | `E remove() / E poll()`  | `E removeFirst() / E pollFirst()` |
| å–é˜Ÿé¦–å…ƒç´ ä½†**ä¸åˆ é™¤** | `E element() / E peek()` |  `E getFirst() / E peekFirst()`   |
| æ·»åŠ å…ƒç´ åˆ°é˜Ÿé¦–     |            æ—             | `addFirst(E e) / offerFirst(E e)` |
| å–é˜Ÿå°¾å…ƒç´ å¹¶åˆ é™¤   |            æ—             |  `E removeLast() / E pollLast()`  |
| å–é˜Ÿå°¾å…ƒç´ ä½†**ä¸åˆ é™¤** |            æ—             |   `E getLast() / E peekLast()`    |

å¯¹äºæ·»åŠ å…ƒç´ åˆ°é˜Ÿå°¾çš„æ“ä½œï¼ŒQueue æä¾›äº† `add()` / `offer()` æ–¹æ³•ï¼Œè€Œ Deque æä¾›äº† `addLast()` / `offerLast()` æ–¹æ³•ã€‚æ·»åŠ å…ƒç´ åˆ°é˜Ÿé¦–ã€å–é˜Ÿå°¾å…ƒç´ çš„æ“ä½œåœ¨ Queue ä¸­ä¸å­˜åœ¨ï¼Œåœ¨ Deque ä¸­ç”± `addFirst()` / `removeLast()` ç­‰æ–¹æ³•æä¾›ã€‚

æ³¨æ„åˆ° Deque æ¥å£å®é™…ä¸Šæ‰©å±•è‡ª Queueï¼š

```java
public interface Deque<E> extends Queue<E> {
    ...
}
```

å› æ­¤ï¼ŒQueue æä¾›çš„ `add()` / `offer()` æ–¹æ³•åœ¨ Deque ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯ï¼Œä½¿ç”¨ Dequeï¼Œ**æœ€å¥½ä¸è¦** è°ƒç”¨ `offer()`ï¼Œè€Œæ˜¯è°ƒç”¨ `offerLast()`ï¼š

```java
import java.util.Deque;
import java.util.LinkedList;

public class Main {
    public static void main(String[] args) {
        Deque<String> deque = new LinkedList<>();
        deque.offerLast("A"); // A
        deque.offerLast("B"); // A <- B
        deque.offerFirst("C"); // C <- A <- B
        System.out.println(deque.pollFirst()); // C, å‰©ä¸‹A <- B
        System.out.println(deque.pollLast()); // B, å‰©ä¸‹A
        System.out.println(deque.pollFirst()); // A
        System.out.println(deque.pollFirst()); // null
    }
}
```

å¦‚æœç›´æ¥å†™ `deque.offer()`ï¼Œæˆ‘ä»¬å°±éœ€è¦æ€è€ƒï¼Œ`offer()` å®é™…ä¸Šæ˜¯ `offerLast()`ï¼Œæˆ‘ä»¬æ˜ç¡®åœ°å†™ä¸Š `offerLast()`ï¼Œä¸éœ€è¦æ€è€ƒå°±èƒ½ä¸€çœ¼çœ‹å‡ºè¿™æ˜¯æ·»åŠ åˆ°é˜Ÿå°¾ã€‚

å› æ­¤ï¼Œä½¿ç”¨ Dequeï¼Œæ¨èæ€»æ˜¯ **æ˜ç¡®è°ƒç”¨** `offerLast()` / `offerFirst()` æˆ–è€… `pollFirst()` / `pollLast()` æ–¹æ³•ã€‚

Deque æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®ƒçš„å®ç°ç±»æœ‰ ArrayDeque å’Œ LinkedListã€‚

æˆ‘ä»¬å‘ç° LinkedList çœŸæ˜¯ä¸€ä¸ªå…¨èƒ½é€‰æ‰‹ï¼Œå®ƒ _æ—¢æ˜¯ Listï¼Œåˆæ˜¯ Queueï¼Œè¿˜æ˜¯ Deque_ã€‚ä½†æ˜¯æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œæ€»æ˜¯ç”¨ç‰¹å®šçš„æ¥å£æ¥å¼•ç”¨å®ƒï¼Œè¿™æ˜¯å› ä¸ºæŒæœ‰æ¥å£è¯´æ˜ä»£ç çš„æŠ½è±¡å±‚æ¬¡æ›´é«˜ï¼Œè€Œä¸”æ¥å£æœ¬èº«å®šä¹‰çš„æ–¹æ³•ä»£è¡¨äº†ç‰¹å®šçš„ç”¨é€”ã€‚

```java
// ä¸æ¨èçš„å†™æ³•:
LinkedList<String> d1 = new LinkedList<>();
d1.offerLast("z");
// æ¨èçš„å†™æ³•ï¼š
Deque<String> d2 = new LinkedList<>();
d2.offerLast("z");
```

å¯è§é¢å‘æŠ½è±¡ç¼–ç¨‹çš„ä¸€ä¸ªåŸåˆ™å°±æ˜¯ï¼šå°½é‡æŒæœ‰æ¥å£ï¼Œè€Œä¸æ˜¯å…·ä½“çš„å®ç°ç±»ã€‚

## ğŸ€ å°ç»“

Deque å®ç°äº†ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ï¼ˆDouble Ended Queueï¼‰ï¼Œå®ƒå¯ä»¥ï¼š

- å°†å…ƒç´ æ·»åŠ åˆ°é˜Ÿå°¾æˆ–é˜Ÿé¦–ï¼š`addLast()` / `offerLast()` / `addFirst()` / `offerFirst()`ï¼›
- ä»é˜Ÿé¦–ï¼é˜Ÿå°¾è·å–å…ƒç´ å¹¶åˆ é™¤ï¼š`removeFirst()` / `pollFirst()` / `removeLast()` / `pollLast()`ï¼›
- ä»é˜Ÿé¦–ï¼é˜Ÿå°¾è·å–å…ƒç´ ä½† **ä¸åˆ é™¤**ï¼š`getFirst()` / `peekFirst()` / `getLast()` / `peekLast()`ï¼›
- æ€»æ˜¯è°ƒç”¨ `xxxFirst()` / `xxxLast()` ä»¥ä¾¿ä¸ Queue çš„æ–¹æ³•åŒºåˆ†å¼€ï¼›
- é¿å…æŠŠ null æ·»åŠ åˆ°é˜Ÿåˆ—ã€‚
