---
title: æ¨¡å—ç®¡ç†
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::


åœ¨è½¯ä»¶å¼€å‘ä¸­ï¼ŒæŠŠä¸€ä¸ªå¤§é¡¹ç›®åˆ†æ‹†ä¸ºå¤šä¸ªæ¨¡å—æ˜¯é™ä½è½¯ä»¶å¤æ‚åº¦çš„æœ‰æ•ˆæ–¹æ³•ï¼š

![](assets/image-20231130110719121.png =400x)

å¯¹äº Maven å·¥ç¨‹æ¥è¯´ï¼ŒåŸæ¥æ˜¯ä¸€ä¸ªå¤§é¡¹ç›®ï¼š

![](assets/image-20231130110742191.png =200x)

ç°åœ¨å¯ä»¥åˆ†æ‹†æˆ 3 ä¸ªæ¨¡å—ï¼š

![](assets/image-20231130110758732.png =200x)

Maven å¯ä»¥æœ‰æ•ˆåœ°ç®¡ç†å¤šä¸ªæ¨¡å—ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠæ¯ä¸ªæ¨¡å—å½“ä½œä¸€ä¸ªç‹¬ç«‹çš„ Maven é¡¹ç›®ï¼Œå®ƒä»¬æœ‰å„è‡ªç‹¬ç«‹çš„ `pom.xml`ã€‚ä¾‹å¦‚ï¼Œæ¨¡å— A çš„ `pom.xml`ï¼š

```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.itranswarp.learnjava</groupId>
    <artifactId>module-a</artifactId>
    <version>1.0</version>
    <packaging>jar</packaging>

    <name>module-a</name>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
        <maven.compiler.source>11</maven.compiler.source>
        <maven.compiler.target>11</maven.compiler.target>
        <java.version>11</java.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.7.28</version>
        </dependency>
        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
            <version>1.2.3</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter-engine</artifactId>
            <version>5.5.2</version>
            <scope>test</scope>
        </dependency>
    </dependencies>
</project>
```

æ¨¡å— B çš„ `pom.xml`ï¼š

```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.itranswarp.learnjava</groupId>
    <artifactId>module-b</artifactId>
    <version>1.0</version>
    <packaging>jar</packaging>

    <name>module-b</name>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
        <maven.compiler.source>11</maven.compiler.source>
        <maven.compiler.target>11</maven.compiler.target>
        <java.version>11</java.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.7.28</version>
        </dependency>
        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
            <version>1.2.3</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter-engine</artifactId>
            <version>5.5.2</version>
            <scope>test</scope>
        </dependency>
    </dependencies>
</project>
```

å¯ä»¥çœ‹å‡ºæ¥ï¼Œæ¨¡å— A å’Œæ¨¡å— B çš„ `pom.xml` é«˜åº¦ç›¸ä¼¼ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æå–å‡ºå…±åŒéƒ¨åˆ†ä½œä¸º `parent`ï¼š

```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <groupId>com.lxzz.java</groupId>
    <artifactId>parent</artifactId>
    <version>1.0</version>
    <packaging>pom</packaging>

    <name>parent</name>

    <properties>
        <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
        <project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
        <maven.compiler.source>11</maven.compiler.source>
        <maven.compiler.target>11</maven.compiler.target>
        <java.version>11</java.version>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-api</artifactId>
            <version>1.7.28</version>
        </dependency>
        <dependency>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
            <version>1.2.3</version>
            <scope>runtime</scope>
        </dependency>
        <dependency>
            <groupId>org.junit.jupiter</groupId>
            <artifactId>junit-jupiter-engine</artifactId>
            <version>5.5.2</version>
            <scope>test</scope>
        </dependency>
    </dependencies>
</project>
```

æ³¨æ„åˆ° parent çš„ `<packaging>` æ˜¯ `pom` è€Œä¸æ˜¯ `jar`ï¼Œå› ä¸º `parent` æœ¬èº«ä¸å«ä»»ä½• Java ä»£ç ã€‚ç¼–å†™ `parent` çš„ `pom.xml` åªæ˜¯ä¸ºäº†åœ¨å„ä¸ªæ¨¡å—ä¸­å‡å°‘é‡å¤çš„é…ç½®ã€‚ç°åœ¨æˆ‘ä»¬çš„æ•´ä¸ªå·¥ç¨‹ç»“æ„å¦‚ä¸‹ï¼š

![](assets/image-20231130110917225.png =200x)

è¿™æ ·æ¨¡å— A å°±å¯ä»¥ç®€åŒ–ä¸ºï¼š

```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>com.lxzz.java</groupId>
        <artifactId>parent</artifactId>
        <version>1.0</version>
        <relativePath>../parent/pom.xml</relativePath>
    </parent>

    <artifactId>module-a</artifactId>
    <packaging>jar</packaging>
    <name>module-a</name>
</project>
```

æ¨¡å— Bã€æ¨¡å— C éƒ½å¯ä»¥ç›´æ¥ä» `parent` ç»§æ‰¿ï¼Œå¤§å¹…ç®€åŒ–äº† `pom.xml` çš„ç¼–å†™ã€‚

å¦‚æœæ¨¡å— A ä¾èµ–æ¨¡å— Bï¼Œåˆ™æ¨¡å— A éœ€è¦æ¨¡å— B çš„ jar åŒ…æ‰èƒ½æ­£å¸¸ç¼–è¯‘ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¨¡å— A ä¸­å¼•å…¥æ¨¡å— Bï¼š

```xml
    ...
    <dependencies>
        <dependency>
            <groupId>com.lxzz.java</groupId>
            <artifactId>module-b</artifactId>
            <version>1.0</version>
        </dependency>
    </dependencies>
```

æœ€åï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œéœ€è¦åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª `pom.xml` ç»Ÿä¸€ç¼–è¯‘ï¼š

```xml
<project xmlns="http://maven.apache.org/POM/4.0.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

    <modelVersion>4.0.0</modelVersion>
    <groupId>com.itranswarp.learnjava</groupId>
    <artifactId>build</artifactId>
    <version>1.0</version>
    <packaging>pom</packaging>
    <name>build</name>

    <modules>
        <module>parent</module>
        <module>module-a</module>
        <module>module-b</module>
        <module>module-c</module>
    </modules>
</project>
```

è¿™æ ·ï¼Œåœ¨æ ¹ç›®å½•æ‰§è¡Œ `mvn clean package` æ—¶ï¼ŒMaven æ ¹æ®æ ¹ç›®å½•çš„ `pom.xml` æ‰¾åˆ°åŒ…æ‹¬ `parent` åœ¨å†…çš„å…± 4 ä¸ª `<module>`ï¼Œä¸€æ¬¡æ€§å…¨éƒ¨ç¼–è¯‘ã€‚

## ğŸ€ ä¸­å¤®ä»“åº“

å…¶å®æˆ‘ä»¬ä½¿ç”¨çš„å¤§å¤šæ•°ç¬¬ä¸‰æ–¹æ¨¡å—éƒ½æ˜¯è¿™ä¸ªç”¨æ³•ï¼Œä¾‹å¦‚ï¼Œæˆ‘ä»¬ä½¿ç”¨ commons loggingã€log4j è¿™äº›ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå°±æ˜¯ç¬¬ä¸‰æ–¹æ¨¡å—çš„å¼€å‘è€…è‡ªå·±æŠŠç¼–è¯‘å¥½çš„ jar åŒ…å‘å¸ƒåˆ° Maven çš„ä¸­å¤®ä»“åº“ä¸­ã€‚

## ğŸ€ ç§æœ‰ä»“åº“

ç§æœ‰ä»“åº“æ˜¯æŒ‡å…¬å¸å†…éƒ¨å¦‚æœä¸å¸Œæœ›æŠŠæºç å’Œ jar åŒ…æ”¾åˆ°å…¬ç½‘ä¸Šï¼Œé‚£ä¹ˆå¯ä»¥æ­å»ºç§æœ‰ä»“åº“ã€‚ç§æœ‰ä»“åº“æ€»æ˜¯åœ¨å…¬å¸å†…éƒ¨ä½¿ç”¨ï¼Œå®ƒåªéœ€è¦åœ¨æœ¬åœ°çš„ `~/.m2/settings.xml` ä¸­é…ç½®å¥½ï¼Œä½¿ç”¨æ–¹å¼å’Œä¸­å¤®ä»“ä½æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚

## ğŸ€ æœ¬åœ°ä»“åº“

æœ¬åœ°ä»“åº“æ˜¯æŒ‡æŠŠæœ¬åœ°å¼€å‘çš„é¡¹ç›® â€œå‘å¸ƒâ€ åœ¨æœ¬åœ°ï¼Œè¿™æ ·å…¶ä»–é¡¹ç›®å¯ä»¥é€šè¿‡æœ¬åœ°ä»“åº“å¼•ç”¨å®ƒã€‚ä½†æ˜¯æˆ‘ä»¬ä¸æ¨èæŠŠè‡ªå·±çš„æ¨¡å—å®‰è£…åˆ° Maven çš„æœ¬åœ°ä»“åº“ï¼Œå› ä¸ºæ¯æ¬¡ä¿®æ”¹æŸä¸ªæ¨¡å—çš„æºç ï¼Œéƒ½éœ€è¦é‡æ–°å®‰è£…ï¼Œéå¸¸å®¹æ˜“å‡ºç°ç‰ˆæœ¬ä¸ä¸€è‡´çš„æƒ…å†µã€‚æ›´å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨æ¨¡å—åŒ–ç¼–è¯‘ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œå‘Šè¯‰ Maven å‡ ä¸ªæ¨¡å—ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼Œéœ€è¦ä¸€å—ç¼–è¯‘ï¼ŒMaven å°±ä¼šè‡ªåŠ¨æŒ‰ä¾èµ–é¡ºåºç¼–è¯‘è¿™äº›æ¨¡å—ã€‚

## ğŸ€ å°ç»“

Maven æ”¯æŒæ¨¡å—åŒ–ç®¡ç†ï¼Œå¯ä»¥æŠŠä¸€ä¸ªå¤§é¡¹ç›®æ‹†æˆå‡ ä¸ªæ¨¡å—ï¼š

- å¯ä»¥é€šè¿‡ç»§æ‰¿åœ¨ parent çš„ `pom.xml` ç»Ÿä¸€å®šä¹‰é‡å¤é…ç½®ï¼›
- å¯ä»¥é€šè¿‡ `<modules>` ç¼–è¯‘å¤šä¸ªæ¨¡å—ã€‚

