---
title: åˆ†ç»„åŒ¹é…
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::

æˆ‘ä»¬å‰é¢è®²åˆ°çš„ `(...)` å¯ä»¥ç”¨æ¥æŠŠä¸€ä¸ªå­è§„åˆ™æ‹¬èµ·æ¥ï¼Œè¿™æ ·å†™ `learn\s(java|php|go)` å°±å¯ä»¥æ›´æ–¹ä¾¿åœ°åŒ¹é…é•¿å­—ç¬¦ä¸²äº†ã€‚

å®é™…ä¸Š `(...)` è¿˜æœ‰ä¸€ä¸ªé‡è¦ä½œç”¨ï¼Œå°±æ˜¯åˆ†ç»„åŒ¹é…ã€‚

æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å¦‚ä½•ç”¨æ­£åˆ™åŒ¹é… `åŒºå· - ç”µè¯å·` ç è¿™ä¸ªè§„åˆ™ã€‚åˆ©ç”¨å‰é¢è®²åˆ°çš„åŒ¹é…è§„åˆ™ï¼Œå†™å‡ºæ¥å¾ˆå®¹æ˜“ï¼š

```regex
\d{3,4}\-\d{6,8}
```

è™½ç„¶è¿™ä¸ªæ­£åˆ™åŒ¹é…è§„åˆ™å¾ˆç®€å•ï¼Œä½†æ˜¯å¾€å¾€åŒ¹é…æˆåŠŸåï¼Œä¸‹ä¸€æ­¥æ˜¯æå–åŒºå·å’Œç”µè¯å·ç ï¼Œåˆ†åˆ«å­˜å…¥æ•°æ®åº“ã€‚

> äºæ˜¯é—®é¢˜æ¥äº†ï¼šå¦‚ä½•æå–åŒ¹é…çš„å­ä¸²ï¼Ÿ

å½“ç„¶å¯ä»¥ç”¨ `String` æä¾›çš„ `indexOf()` å’Œ `substring()` è¿™äº›æ–¹æ³•ï¼Œä½†å®ƒä»¬ä»æ­£åˆ™åŒ¹é…çš„å­—ç¬¦ä¸²ä¸­æå–å­ä¸²æ²¡æœ‰é€šç”¨æ€§ï¼Œä¸‹ä¸€æ¬¡è¦æå– `learn\s(java|php)` è¿˜å¾—æ”¹ä»£ç ã€‚

æ­£ç¡®çš„æ–¹æ³•æ˜¯ç”¨ `(...)` å…ˆæŠŠè¦æå–çš„è§„åˆ™åˆ†ç»„ï¼ŒæŠŠä¸Šè¿°æ­£åˆ™è¡¨è¾¾å¼å˜ä¸º `(\d{3,4})\-(\d{6,8})`ã€‚

> ç°åœ¨é—®é¢˜åˆæ¥äº†ï¼šåŒ¹é…åï¼Œå¦‚ä½•æŒ‰æ‹¬å·æå–å­ä¸²ï¼Ÿ

ç°åœ¨æˆ‘ä»¬æ²¡åŠæ³•ç”¨ `String.matches()` è¿™æ ·ç®€å•çš„åˆ¤æ–­æ–¹æ³•äº†ï¼Œå¿…é¡»å¼•å…¥ `java.util.regex` åŒ…ï¼Œç”¨ `Pattern` å¯¹è±¡åŒ¹é…ï¼ŒåŒ¹é…åè·å¾—ä¸€ä¸ª `Matcher` å¯¹è±¡ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œå°±å¯ä»¥ç›´æ¥ä» `Matcher.group(index)` è¿”å›å­ä¸²ï¼š

```java
import java.util.regex.*;
public class Main {
    public static void main(String[] args) {
        Pattern p = Pattern.compile("(\\d{3,4})\\-(\\d{7,8})");
        Matcher m = p.matcher("010-12345678");
        if (m.matches()) {
            String g1 = m.group(1);
            String g2 = m.group(2);
            System.out.println(g1);
            System.out.println(g2);
        } else {
            System.out.println("åŒ¹é…å¤±è´¥!");
        }
    }
}
```

è¿è¡Œä¸Šè¿°ä»£ç ï¼Œä¼šå¾—åˆ°ä¸¤ä¸ªåŒ¹é…ä¸Šçš„å­ä¸² `010` å’Œ `12345678`ã€‚

è¦ç‰¹åˆ«æ³¨æ„ï¼Œ`Matcher.group(index)` æ–¹æ³•çš„å‚æ•°ç”¨ 1 è¡¨ç¤ºç¬¬ä¸€ä¸ªå­ä¸²ï¼Œ2 è¡¨ç¤ºç¬¬äºŒä¸ªå­ä¸²ã€‚å¦‚æœæˆ‘ä»¬ä¼ å…¥ 0 ä¼šå¾—åˆ°ä»€ä¹ˆå‘¢ï¼Ÿç­”æ¡ˆæ˜¯ `010-12345678`ï¼Œå³æ•´ä¸ªæ­£åˆ™åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ã€‚

## ğŸ€ Pattern

æˆ‘ä»¬åœ¨å‰é¢çš„ä»£ç ä¸­ç”¨åˆ°çš„æ­£åˆ™è¡¨è¾¾å¼ä»£ç æ˜¯ `String.matches()` æ–¹æ³•ï¼Œè€Œæˆ‘ä»¬åœ¨åˆ†ç»„æå–çš„ä»£ç ä¸­ç”¨çš„æ˜¯ `java.util.regex` åŒ…é‡Œé¢çš„ `Pattern` ç±»å’Œ `Matcher` ç±»ã€‚å®é™…ä¸Šè¿™ä¸¤ç§ä»£ç æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œå› ä¸º `String.matches()` æ–¹æ³•å†…éƒ¨è°ƒç”¨çš„å°±æ˜¯ `Pattern` å’Œ `Matcher` ç±»çš„æ–¹æ³•ã€‚

ä½†æ˜¯åå¤ä½¿ç”¨ `String.matches()` å¯¹åŒä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œå¤šæ¬¡åŒ¹é…æ•ˆç‡è¾ƒä½ï¼Œå› ä¸ºæ¯æ¬¡éƒ½ä¼šåˆ›å»ºå‡ºä¸€æ ·çš„ `Pattern` å¯¹è±¡ã€‚å®Œå…¨å¯ä»¥å…ˆåˆ›å»ºå‡ºä¸€ä¸ª `Pattern` å¯¹è±¡ï¼Œç„¶ååå¤ä½¿ç”¨ï¼Œå°±å¯ä»¥å®ç°ç¼–è¯‘ä¸€æ¬¡ï¼Œå¤šæ¬¡åŒ¹é…ï¼š

```java
import java.util.regex.*;
public class Main {
    public static void main(String[] args) {
        Pattern pattern = Pattern.compile("(\\d{3,4})\\-(\\d{7,8})");
        pattern.matcher("010-12345678").matches(); // true
        pattern.matcher("021-123456").matches(); // false
        pattern.matcher("022#1234567").matches(); // false
        // è·å¾— Matcher å¯¹è±¡:
        Matcher matcher = pattern.matcher("010-12345678");
        if (matcher.matches()) {
            String whole = matcher.group(0); // "010-12345678", 0 è¡¨ç¤ºåŒ¹é…çš„æ•´ä¸ªå­—ç¬¦ä¸²
            String area = matcher.group(1); // "010", 1 è¡¨ç¤ºåŒ¹é…çš„ç¬¬ 1 ä¸ªå­ä¸²
            String tel = matcher.group(2); // "12345678", 2 è¡¨ç¤ºåŒ¹é…çš„ç¬¬ 2 ä¸ªå­ä¸²
            System.out.println(area);
            System.out.println(tel);
        }
    }
}
```

ä½¿ç”¨ `Matcher` æ—¶ï¼Œå¿…é¡»é¦–å…ˆè°ƒç”¨ `matches()` åˆ¤æ–­æ˜¯å¦åŒ¹é…æˆåŠŸï¼ŒåŒ¹é…æˆåŠŸåï¼Œæ‰èƒ½è°ƒç”¨ `group()` æå–å­ä¸²ã€‚

åˆ©ç”¨æå–å­ä¸²çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬è½»æ¾è·å¾—äº†åŒºå·å’Œå·ç ä¸¤éƒ¨åˆ†ã€‚

## ğŸ€ ç»ƒä¹ 

åˆ©ç”¨åˆ†ç»„åŒ¹é…ï¼Œä»å­—ç¬¦ä¸² `"23:01:59"` æå–æ—¶ã€åˆ†ã€ç§’ã€‚

```java
import java.util.regex.Matcher;
import java.util.regex.Pattern;
public class Time {
	/**
	 * ä» "21:05:19" ä¸­æå–æ—¶ï¼Œåˆ†ï¼Œç§’ï¼Œå¦åˆ™æŠ›å‡º IllegalArgumentException
	 */
	public static int[] parseTime(String s) {
		// FIXME:
		Pattern p = Pattern.compile("([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])");
        Matcher m = p.matcher(s);
        if (m.matches()){
            int[] time = new int[3];
            time[0] = Integer.parseInt(m.group(1));
            time[1] = Integer.parseInt(m.group(2));
            time[2] = Integer.parseInt(m.group(3));
            return time;
        }else {
            throw new IllegalArgumentException();
        }
	}
}
```

### å°ç»“

æ­£åˆ™è¡¨è¾¾å¼ç”¨ `(...)` åˆ†ç»„å¯ä»¥é€šè¿‡ `Matcher` å¯¹è±¡å¿«é€Ÿæå–å­ä¸²ï¼š

- `group(0)` è¡¨ç¤ºåŒ¹é…çš„æ•´ä¸ªå­—ç¬¦ä¸²ï¼›
- `group(1)` è¡¨ç¤ºç¬¬ 1 ä¸ªå­ä¸²ï¼Œ`group(2)` è¡¨ç¤ºç¬¬ 2 ä¸ªå­ä¸²ï¼Œä»¥æ­¤ç±»æ¨ã€‚
