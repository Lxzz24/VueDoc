---
title: æœç´¢å’Œæ›¿æ¢
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::

## ğŸ€ åˆ†å‰²å­—ç¬¦ä¸²

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼åˆ†å‰²å­—ç¬¦ä¸²å¯ä»¥å®ç°æ›´åŠ çµæ´»çš„åŠŸèƒ½ã€‚`String.split()` æ–¹æ³•ä¼ å…¥çš„æ­£æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ä»£ç ï¼š

```java
"a b c".split("\\s"); // { "a", "b", "c" }
"a b  c".split("\\s"); // { "a", "b", "","c" }
"a, b ;; c".split("[\\,\\;\\s]+"); // { "a", "b", "c" }
```

å¦‚æœæˆ‘ä»¬æƒ³è®©ç”¨æˆ·è¾“å…¥ä¸€ç»„æ ‡ç­¾ï¼Œç„¶åæŠŠæ ‡ç­¾æå–å‡ºæ¥ï¼Œå› ä¸ºç”¨æˆ·çš„è¾“å…¥å¾€å¾€æ˜¯ä¸è§„èŒƒçš„ï¼Œè¿™æ—¶ï¼Œä½¿ç”¨åˆé€‚çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå°±å¯ä»¥æ¶ˆé™¤å¤šä¸ªç©ºæ ¼ã€æ··åˆ `,` å’Œ `;` è¿™äº›ä¸è§„èŒƒçš„è¾“å…¥ï¼Œç›´æ¥æå–å‡ºè§„èŒƒçš„å­—ç¬¦ä¸²ã€‚

## ğŸ€ æœç´¢å­—ç¬¦ä¸²

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿˜å¯ä»¥æœç´¢å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æ¥çœ‹ä¾‹å­ï¼š

```java
import java.util.regex.*;
public class Main {
    public static void main(String[] args) {
        String s = "the quick brown fox jumps over the lazy dog.";
        Pattern p = Pattern.compile("\\wo\\w");
        Matcher m = p.matcher(s);
        while (m.find()) {
            String sub = s.substring(m.start(), m.end());
            System.out.println(sub);
        }
    }
}
```


æˆ‘ä»¬è·å–åˆ° `Matcher` å¯¹è±¡åï¼Œä¸éœ€è¦è°ƒç”¨ `matches()` æ–¹æ³•ï¼ˆå› ä¸ºåŒ¹é…æ•´ä¸ªä¸²è‚¯å®šè¿”å› falseï¼‰ï¼Œè€Œæ˜¯åå¤è°ƒç”¨ `find()` æ–¹æ³•ï¼Œåœ¨æ•´ä¸ªä¸²ä¸­æœç´¢èƒ½åŒ¹é…ä¸Š `\\wo\\w` è§„åˆ™çš„å­ä¸²ï¼Œå¹¶æ‰“å°å‡ºæ¥ã€‚è¿™ç§æ–¹å¼æ¯” `String.indexOf()` è¦çµæ´»å¾—å¤šï¼Œå› ä¸ºæˆ‘ä»¬æœç´¢çš„è§„åˆ™æ˜¯ 3 ä¸ªå­—ç¬¦ï¼šä¸­é—´å¿…é¡»æ˜¯ `o`ï¼Œå‰åä¸¤ä¸ªå¿…é¡»æ˜¯å­—ç¬¦ `[A-Za-z0-9_]`ã€‚

## ğŸ€ æ›¿æ¢å­—ç¬¦ä¸²

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ›¿æ¢å­—ç¬¦ä¸²å¯ä»¥ç›´æ¥è°ƒç”¨ `String.replaceAll()`ï¼Œå®ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å¾…æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬è¿˜æ˜¯æ¥çœ‹ä¾‹å­ï¼š

```java
// regex
public class Main {
    public static void main(String[] args) {
        String s = "The     quick\t\t brown   fox  jumps   over the  lazy dog.";
        String r = s.replaceAll("\\s+", " ");
        System.out.println(r); // "The quick brown fox jumps over the lazy dog."
    }
}

```


ä¸Šé¢çš„ä»£ç æŠŠä¸è§„èŒƒçš„è¿ç»­ç©ºæ ¼åˆ†éš”çš„å¥å­å˜æˆäº†è§„èŒƒçš„å¥å­ã€‚å¯è§ï¼Œçµæ´»ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥å¤§å¤§é™ä½ä»£ç é‡ã€‚

## ğŸ€ åå‘å¼•ç”¨

å¦‚æœæˆ‘ä»¬è¦æŠŠæœç´¢åˆ°çš„æŒ‡å®šå­—ç¬¦ä¸²æŒ‰è§„åˆ™æ›¿æ¢ï¼Œæ¯”å¦‚å‰åå„åŠ ä¸€ä¸ª `<b>xxxx</b>`ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œä½¿ç”¨ `replaceAll()` çš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¼ å…¥çš„ç¬¬äºŒä¸ªå‚æ•°å¯ä»¥ä½¿ç”¨ `$1`ã€`$2` æ¥åå‘å¼•ç”¨åŒ¹é…åˆ°çš„å­ä¸²ã€‚ä¾‹å¦‚ï¼š

```java
// regex
public class Main {
    public static void main(String[] args) {
        String s = "the quick brown fox jumps over the lazy dog.";
        String r = s.replaceAll("\\s([a-z]{4})\\s", "<b>$1</b>");
        System.out.println(r);
    }
}
```


ä¸Šè¿°ä»£ç çš„è¿è¡Œç»“æœæ˜¯ï¼š

```
the quick brown fox jumps <b>over</b> the <b>lazy</b> dog.
```

å®ƒå®é™…ä¸ŠæŠŠä»»ä½• 4 å­—ç¬¦å•è¯çš„å‰åç”¨ `<b>xxxx</b>` æ‹¬èµ·æ¥ã€‚å®ç°æ›¿æ¢çš„å…³é”®å°±åœ¨äº `"<b>$1</b>"`ï¼Œå®ƒç”¨åŒ¹é…çš„åˆ†ç»„å­ä¸² `([a-z]{4})` æ›¿æ¢äº† `$1`ã€‚

## ğŸ€ ç»ƒä¹ 

æ¨¡æ¿å¼•æ“æ˜¯æŒ‡ï¼Œå®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºæ¨¡æ¿ï¼š

```
Hello, ${name}! You are learning ${lang}!
```

å…¶ä¸­ï¼Œä»¥ `${key}` è¡¨ç¤ºçš„æ˜¯å˜é‡ï¼Œä¹Ÿå°±æ˜¯å°†è¦è¢«æ›¿æ¢çš„å†…å®¹

å½“ä¼ å…¥ä¸€ä¸ª `Map<String, String>` ç»™æ¨¡æ¿åï¼Œéœ€è¦æŠŠå¯¹åº”çš„ key æ›¿æ¢ä¸º Map çš„ valueã€‚

ä¾‹å¦‚ï¼Œä¼ å…¥ `Map` ä¸ºï¼š

```
{
    "name": "Bob",
    "lang": "Java"
}
```

ç„¶åï¼Œ`${name}` è¢«æ›¿æ¢ä¸º `Map` å¯¹åº”çš„å€¼ "Bobâ€ï¼Œ`${lang}` è¢«æ›¿æ¢ä¸º `Map` å¯¹åº”çš„å€¼"Java"ï¼Œæœ€ç»ˆè¾“å‡ºçš„ç»“æœä¸ºï¼š

```
Hello, Bob! You are learning Java!
```

è¯·ç¼–å†™ä¸€ä¸ªç®€å•çš„æ¨¡æ¿å¼•æ“ï¼Œåˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚

æç¤ºï¼šå‚è€ƒ [Matcher.appendReplacement()](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/util/regex/Matcher.html#appendReplacement(java.lang.StringBuilder,java.lang.String)) æ–¹æ³•ã€‚


```java
import java.util.Map;
import java.util.HashMap;
public class Template {

	final String template;
	final Pattern pattern = Pattern.compile("\\$\\{(\\w+)\\}");

	public Template(String template) {
		this.template = template;
	}

	public String render(Map<String, Object> data) {
		Matcher m = pattern.matcher(template);
		// TODO:
		while (m.find()) {
		}
		return "??";
	}

}
```


## ğŸ€ å°ç»“

ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥ï¼š

- åˆ†å‰²å­—ç¬¦ä¸²ï¼š`String.split()`
- æœç´¢å­ä¸²ï¼š`Matcher.find()`
- æ›¿æ¢å­—ç¬¦ä¸²ï¼š`String.replaceAll()`



