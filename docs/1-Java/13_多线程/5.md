---
title: å®ˆæŠ¤çº¿ç¨‹
sidebarDepth: 1
category: Java æ•™ç¨‹
tag: Java
---

::: details ç›®å½•
[[toc]]
:::


Java ç¨‹åºå…¥å£å°±æ˜¯ç”± JVM å¯åŠ¨ `main` çº¿ç¨‹ï¼Œ`main` çº¿ç¨‹åˆå¯ä»¥å¯åŠ¨å…¶ä»–çº¿ç¨‹ã€‚å½“æ‰€æœ‰çº¿ç¨‹éƒ½è¿è¡Œç»“æŸæ—¶ï¼ŒJVM é€€å‡ºï¼Œè¿›ç¨‹ç»“æŸã€‚

å¦‚æœæœ‰ä¸€ä¸ªçº¿ç¨‹æ²¡æœ‰é€€å‡ºï¼ŒJVM è¿›ç¨‹å°±ä¸ä¼šé€€å‡ºã€‚æ‰€ä»¥ï¼Œå¿…é¡»ä¿è¯æ‰€æœ‰çº¿ç¨‹éƒ½èƒ½åŠæ—¶ç»“æŸã€‚

ä½†æ˜¯æœ‰ä¸€ç§çº¿ç¨‹çš„ç›®çš„å°±æ˜¯æ— é™å¾ªç¯ï¼Œä¾‹å¦‚ï¼Œä¸€ä¸ªå®šæ—¶è§¦å‘ä»»åŠ¡çš„çº¿ç¨‹ï¼š

```java
class TimerThread extends Thread {
    @Override
    public void run() {
        while (true) {
            System.out.println(LocalTime.now());
            try {
                Thread.sleep(1000);
            } catch (InterruptedException e) {
                break;
            }
        }
    }
}
```

å¦‚æœè¿™ä¸ªçº¿ç¨‹ä¸ç»“æŸï¼ŒJVM è¿›ç¨‹å°±æ— æ³•ç»“æŸã€‚é—®é¢˜æ˜¯ï¼Œç”±è°è´Ÿè´£ç»“æŸè¿™ä¸ªçº¿ç¨‹ï¼Ÿ

ç„¶è€Œè¿™ç±»çº¿ç¨‹ç»å¸¸æ²¡æœ‰è´Ÿè´£äººæ¥è´Ÿè´£ç»“æŸå®ƒä»¬ã€‚ä½†æ˜¯ï¼Œå½“å…¶ä»–çº¿ç¨‹ç»“æŸæ—¶ï¼ŒJVM è¿›ç¨‹åˆå¿…é¡»è¦ç»“æŸï¼Œæ€ä¹ˆåŠï¼Ÿ

ç­”æ¡ˆæ˜¯ä½¿ç”¨å®ˆæŠ¤çº¿ç¨‹ï¼ˆDaemon Threadï¼‰ã€‚

å®ˆæŠ¤çº¿ç¨‹æ˜¯æŒ‡ä¸ºå…¶ä»–çº¿ç¨‹æœåŠ¡çš„çº¿ç¨‹ã€‚åœ¨ JVM ä¸­ï¼Œæ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œæ— è®ºæœ‰æ²¡æœ‰å®ˆæŠ¤çº¿ç¨‹ï¼Œè™šæ‹Ÿæœºéƒ½ä¼šè‡ªåŠ¨é€€å‡ºã€‚

å› æ­¤ï¼ŒJVM é€€å‡ºæ—¶ï¼Œä¸å¿…å…³å¿ƒå®ˆæŠ¤çº¿ç¨‹æ˜¯å¦å·²ç»“æŸã€‚

å¦‚ä½•åˆ›å»ºå®ˆæŠ¤çº¿ç¨‹å‘¢ï¼Ÿæ–¹æ³•å’Œæ™®é€šçº¿ç¨‹ä¸€æ ·ï¼Œåªæ˜¯åœ¨è°ƒç”¨ `start()` æ–¹æ³•å‰ï¼Œè°ƒç”¨ `setDaemon(true)` æŠŠè¯¥çº¿ç¨‹æ ‡è®°ä¸ºå®ˆæŠ¤çº¿ç¨‹ï¼š

```java
Thread t = new MyThread();
t.setDaemon(true);
t.start();
```

åœ¨å®ˆæŠ¤çº¿ç¨‹ä¸­ï¼Œç¼–å†™ä»£ç è¦æ³¨æ„ï¼šå®ˆæŠ¤çº¿ç¨‹ä¸èƒ½æŒæœ‰ä»»ä½•éœ€è¦å…³é—­çš„èµ„æºï¼Œä¾‹å¦‚æ‰“å¼€æ–‡ä»¶ç­‰ï¼Œå› ä¸ºè™šæ‹Ÿæœºé€€å‡ºæ—¶ï¼Œå®ˆæŠ¤çº¿ç¨‹æ²¡æœ‰ä»»ä½•æœºä¼šæ¥å…³é—­æ–‡ä»¶ï¼Œè¿™ä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚

## ğŸ€ ç»ƒä¹ 

```java
package com.itranswarp.learnjava;

/**
 * Learn Java from https://www.liaoxuefeng.com/
 *
 * @author liaoxuefeng
 */
public class Main {

	public static void main(String[] args) {
		Thread t = new Thread1();
		// å¦‚æœæ³¨é‡Šä¸‹ä¸€è¡Œï¼Œè§‚å¯Ÿ Thread1 çš„æ‰§è¡Œæƒ…å†µ:
		t.setDaemon(true);
		t.start();
		System.out.println("main: wait 3 sec...");
		try {
			Thread.sleep(3000);
		} catch (InterruptedException e) {
		}
		System.out.println("main: end.");
	}

}

class Thread1 extends Thread {

	public void run() {
		for (;;) {
			System.out.println("Thread-1: running...");
			try {
				Thread.sleep(500);
			} catch (InterruptedException e) {
			}
		}
	}
}
```

## ğŸ€ å°ç»“

å®ˆæŠ¤çº¿ç¨‹æ˜¯ä¸ºå…¶ä»–çº¿ç¨‹æœåŠ¡çš„çº¿ç¨‹ï¼›

æ‰€æœ‰éå®ˆæŠ¤çº¿ç¨‹éƒ½æ‰§è¡Œå®Œæ¯•åï¼Œè™šæ‹Ÿæœºé€€å‡ºï¼›

å®ˆæŠ¤çº¿ç¨‹ä¸èƒ½æŒæœ‰éœ€è¦å…³é—­çš„èµ„æºï¼ˆå¦‚æ‰“å¼€æ–‡ä»¶ç­‰ï¼‰ã€‚